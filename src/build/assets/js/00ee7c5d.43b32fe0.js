"use strict";(globalThis.webpackChunksafety_dashboard=globalThis.webpackChunksafety_dashboard||[]).push([[224],{3306:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Da});var a=i(6540),s=i(1656),r=i(2492),n=i(8037),l=i(8188),o=i(8697),d=i(4854),c=i(2102),m=i(5107),u=i(8309),p=i(697),h=i(8445),f=i(5333),x=i(2708);const g=[{id:"HAZ-001",title:"Loss of Aircraft Control",description:"Complete loss of ability to control aircraft attitude and trajectory due to flight control system failure",systemFunction:"Flight Control",failureCondition:"Loss of all flight control authority",severity:"Catastrophic",likelihood:"ExtremelyImprobable",dal:"A",riskScore:5,status:"Mitigated",owner:"Flight Control Team",phase:"All Phases",aircraftLevelEffect:"Uncontrolled descent leading to ground impact; potential third-party casualties",probabilityPerFlightHour:1e-9,mitigationDetails:[{id:"MIT-001",description:"Redundant flight control computers (triple modular redundancy)",effectiveness:.999,implementationStatus:"Verified",verificationMethod:"Hardware-in-the-loop testing per DO-178C",dateImplemented:"2024-06-15"},{id:"MIT-002",description:"Independent backup flight controller with dissimilar software",effectiveness:.995,implementationStatus:"Verified",verificationMethod:"Integration testing and code coverage analysis",dateImplemented:"2024-07-20"},{id:"MIT-003",description:"Automatic ballistic parachute recovery system",effectiveness:.98,implementationStatus:"Implemented",verificationMethod:"Flight test verification",dateImplemented:"2024-08-01"}],linkedRequirements:["REQ-001","REQ-002","REQ-003","REQ-004"],linkedFaultTrees:["FT-001"],linkedGSNNodes:["G2","Sn1"],initialRisk:{score:25,level:"Unacceptable"},residualRisk:{score:5,level:"Acceptable"},relatedRequirements:["REQ-001","REQ-002"],dateIdentified:"2024-01-15",dateReviewed:"2024-11-01",notes:"Primary concern for BVLOS operations; requires DAL A software assurance"},{id:"HAZ-002",title:"Controlled Flight Into Terrain (CFIT)",description:"Aircraft impacts terrain or obstacles while under control due to navigation or sensor failures",systemFunction:"Navigation & Obstacle Avoidance",failureCondition:"Loss of terrain awareness or obstacle detection capability",severity:"Catastrophic",likelihood:"ExtremelyImprobable",dal:"A",riskScore:5,status:"Mitigated",owner:"Navigation Team",phase:"Cruise, Approach, Landing",aircraftLevelEffect:"Aircraft destruction; potential third-party casualties",probabilityPerFlightHour:1e-9,mitigationDetails:[{id:"MIT-004",description:"Dual-redundant LIDAR obstacle detection system",effectiveness:.997,implementationStatus:"Verified",verificationMethod:"Flight test with simulated obstacles",dateImplemented:"2024-05-20"},{id:"MIT-005",description:"Terrain database with DTED Level 2 data",effectiveness:.99,implementationStatus:"Implemented",verificationMethod:"Database validation testing",dateImplemented:"2024-06-01"},{id:"MIT-006",description:"Automatic terrain avoidance maneuver capability",effectiveness:.995,implementationStatus:"Verified",verificationMethod:"Hardware-in-the-loop simulation",dateImplemented:"2024-07-15"}],linkedRequirements:["REQ-005","REQ-006","REQ-007"],linkedFaultTrees:["FT-002"],linkedGSNNodes:["G3","Sn2"],initialRisk:{score:25,level:"Unacceptable"},residualRisk:{score:4,level:"Acceptable"},relatedRequirements:["REQ-005","REQ-006"],dateIdentified:"2024-01-20",dateReviewed:"2024-11-01",notes:"Critical for BVLOS in varied terrain environments"},{id:"HAZ-003",title:"Mid-Air Collision",description:"Collision with manned aircraft, other UAS, or birds during flight operations",systemFunction:"Detect and Avoid (DAA)",failureCondition:"Failure to detect and avoid traffic",severity:"Catastrophic",likelihood:"ExtremelyImprobable",dal:"A",riskScore:5,status:"Monitoring",owner:"DAA Team",phase:"All Phases",aircraftLevelEffect:"Aircraft destruction; potential fatalities in manned aircraft",probabilityPerFlightHour:1e-9,mitigationDetails:[{id:"MIT-007",description:"ADS-B In/Out transponder system",effectiveness:.95,implementationStatus:"Verified",verificationMethod:"FAA TSO-C199 compliance testing",dateImplemented:"2024-04-15"},{id:"MIT-008",description:"Radar-based traffic detection system",effectiveness:.92,implementationStatus:"Implemented",verificationMethod:"Flight test with cooperative targets",dateImplemented:"2024-08-20"},{id:"MIT-009",description:"Automatic collision avoidance maneuver capability",effectiveness:.98,implementationStatus:"In Progress",verificationMethod:"Simulation and flight test"}],linkedRequirements:["REQ-008","REQ-009","REQ-010"],linkedFaultTrees:["FT-003"],linkedGSNNodes:["G4","Sn3"],initialRisk:{score:25,level:"Unacceptable"},residualRisk:{score:8,level:"Tolerable"},relatedRequirements:["REQ-008","REQ-009"],dateIdentified:"2024-02-01",dateReviewed:"2024-10-15",notes:"Awaiting final DAA system certification; monitoring FAA BVLOS rulemaking"},{id:"HAZ-004",title:"Loss of Command and Control Link",description:"Complete loss of communication between ground control station and aircraft",systemFunction:"Command & Control (C2)",failureCondition:"Total loss of C2 link for extended duration",severity:"Hazardous",likelihood:"Remote",dal:"B",riskScore:4,status:"Mitigated",owner:"Communications Team",phase:"All Phases",aircraftLevelEffect:"Aircraft unable to receive commands; must execute lost-link procedures",probabilityPerFlightHour:1e-6,mitigationDetails:[{id:"MIT-010",description:"Dual-band redundant C2 links (900MHz + LTE)",effectiveness:.995,implementationStatus:"Verified",verificationMethod:"Range and interference testing",dateImplemented:"2024-03-15"},{id:"MIT-011",description:"Autonomous lost-link procedures with safe return-to-home",effectiveness:.99,implementationStatus:"Verified",verificationMethod:"Flight test with simulated link loss",dateImplemented:"2024-04-20"},{id:"MIT-012",description:"Satellite backup communication system",effectiveness:.97,implementationStatus:"Implemented",verificationMethod:"Integration testing",dateImplemented:"2024-09-01"}],linkedRequirements:["REQ-011","REQ-012","REQ-013"],linkedFaultTrees:["FT-004"],linkedGSNNodes:["G5"],initialRisk:{score:16,level:"Undesirable"},residualRisk:{score:6,level:"Tolerable"},relatedRequirements:["REQ-011","REQ-012"],dateIdentified:"2024-02-10",dateReviewed:"2024-11-01",notes:"Lost-link procedures validated through extensive flight testing"},{id:"HAZ-005",title:"Battery Thermal Runaway",description:"Lithium battery thermal runaway leading to fire or explosion",systemFunction:"Power System",failureCondition:"Battery cell thermal runaway propagation",severity:"Catastrophic",likelihood:"ExtremelyImprobable",dal:"A",riskScore:5,status:"Mitigated",owner:"Power Systems Team",phase:"All Phases",aircraftLevelEffect:"Aircraft fire, structural failure, uncontrolled descent",probabilityPerFlightHour:1e-9,mitigationDetails:[{id:"MIT-013",description:"Battery Management System with cell-level monitoring",effectiveness:.999,implementationStatus:"Verified",verificationMethod:"Thermal chamber testing per UN38.3",dateImplemented:"2024-02-28"},{id:"MIT-014",description:"Thermal propagation resistant battery pack design",effectiveness:.995,implementationStatus:"Verified",verificationMethod:"Nail penetration and overcharge testing",dateImplemented:"2024-03-15"},{id:"MIT-015",description:"Emergency battery jettison capability",effectiveness:.9,implementationStatus:"Implemented",verificationMethod:"Ground test verification",dateImplemented:"2024-05-01"}],linkedRequirements:["REQ-014","REQ-015","REQ-016"],linkedFaultTrees:["FT-005"],linkedGSNNodes:["G6","Sn4"],initialRisk:{score:25,level:"Unacceptable"},residualRisk:{score:5,level:"Acceptable"},relatedRequirements:["REQ-014","REQ-015"],dateIdentified:"2024-01-25",dateReviewed:"2024-10-20",notes:"Battery cells are aerospace-grade with thermal management"},{id:"HAZ-006",title:"GPS/GNSS Signal Loss or Spoofing",description:"Loss of GPS navigation signal or reception of spoofed/false GPS data",systemFunction:"Navigation",failureCondition:"Loss or corruption of position/velocity information",severity:"Major",likelihood:"Remote",dal:"C",riskScore:3,status:"Mitigated",owner:"Navigation Team",phase:"All Phases",aircraftLevelEffect:"Degraded navigation accuracy; potential route deviation",probabilityPerFlightHour:1e-5,mitigationDetails:[{id:"MIT-016",description:"Multi-constellation GNSS receiver (GPS, GLONASS, Galileo)",effectiveness:.98,implementationStatus:"Verified",verificationMethod:"Jamming/spoofing simulation testing",dateImplemented:"2024-04-01"},{id:"MIT-017",description:"Inertial Navigation System (INS) with visual odometry",effectiveness:.95,implementationStatus:"Verified",verificationMethod:"GPS-denied flight testing",dateImplemented:"2024-05-15"},{id:"MIT-018",description:"GPS spoofing detection algorithms",effectiveness:.92,implementationStatus:"Implemented",verificationMethod:"Synthetic spoofing tests",dateImplemented:"2024-06-20"}],linkedRequirements:["REQ-017","REQ-018","REQ-019"],linkedFaultTrees:["FT-006"],linkedGSNNodes:["G7"],initialRisk:{score:12,level:"Undesirable"},residualRisk:{score:4,level:"Acceptable"},relatedRequirements:["REQ-017","REQ-018"],dateIdentified:"2024-02-15",dateReviewed:"2024-10-25",notes:"INS provides 5+ minutes of navigation in GPS-denied environment"},{id:"HAZ-007",title:"Motor/Propulsion System Failure",description:"Single or multiple motor failures leading to loss of thrust or control authority",systemFunction:"Propulsion",failureCondition:"Loss of one or more propulsion units",severity:"Hazardous",likelihood:"Remote",dal:"B",riskScore:4,status:"Mitigated",owner:"Propulsion Team",phase:"All Phases",aircraftLevelEffect:"Reduced controllability; emergency landing required",probabilityPerFlightHour:1e-6,mitigationDetails:[{id:"MIT-019",description:"Octocopter configuration with motor-out capability",effectiveness:.99,implementationStatus:"Verified",verificationMethod:"Flight test with simulated motor failures",dateImplemented:"2024-03-01"},{id:"MIT-020",description:"Motor health monitoring with predictive diagnostics",effectiveness:.95,implementationStatus:"Implemented",verificationMethod:"Endurance testing",dateImplemented:"2024-04-15"},{id:"MIT-021",description:"Automatic reconfiguration control laws for motor failure",effectiveness:.98,implementationStatus:"Verified",verificationMethod:"Hardware-in-the-loop testing",dateImplemented:"2024-05-20"}],linkedRequirements:["REQ-020","REQ-021","REQ-022"],linkedFaultTrees:["FT-007"],linkedGSNNodes:["G8"],initialRisk:{score:16,level:"Undesirable"},residualRisk:{score:6,level:"Tolerable"},relatedRequirements:["REQ-020","REQ-021"],dateIdentified:"2024-02-20",dateReviewed:"2024-10-30",notes:"Aircraft can maintain controlled flight with up to 2 motor failures"},{id:"HAZ-008",title:"Propeller Separation",description:"In-flight propeller blade separation or complete propeller loss",systemFunction:"Propulsion",failureCondition:"Structural failure of propeller assembly",severity:"Hazardous",likelihood:"ExtremelyRemote",dal:"B",riskScore:4,status:"Mitigated",owner:"Structures Team",phase:"All Phases",aircraftLevelEffect:"Propeller debris hazard; loss of thrust; potential secondary damage",probabilityPerFlightHour:1e-8,mitigationDetails:[{id:"MIT-022",description:"Carbon fiber propellers with 4x safety factor",effectiveness:.999,implementationStatus:"Verified",verificationMethod:"Static and fatigue testing",dateImplemented:"2024-02-15"},{id:"MIT-023",description:"Propeller guard/containment ring",effectiveness:.95,implementationStatus:"Implemented",verificationMethod:"Blade-off containment test",dateImplemented:"2024-03-20"},{id:"MIT-024",description:"Pre-flight propeller inspection protocol",effectiveness:.9,implementationStatus:"Verified",verificationMethod:"Operational procedure validation",dateImplemented:"2024-04-01"}],linkedRequirements:["REQ-023","REQ-024"],linkedFaultTrees:["FT-008"],linkedGSNNodes:["G9"],initialRisk:{score:12,level:"Undesirable"},residualRisk:{score:4,level:"Acceptable"},relatedRequirements:["REQ-023","REQ-024"],dateIdentified:"2024-03-01",dateReviewed:"2024-10-15",notes:"Propeller life limit established at 500 flight hours"},{id:"HAZ-009",title:"Payload Release Malfunction",description:"Unintended release or failure to release delivery payload",systemFunction:"Payload Delivery",failureCondition:"Payload release mechanism failure",severity:"Major",likelihood:"Remote",dal:"C",riskScore:3,status:"Mitigated",owner:"Payload Systems Team",phase:"Delivery",aircraftLevelEffect:"Payload drop on unintended target; mission failure",probabilityPerFlightHour:1e-5,mitigationDetails:[{id:"MIT-025",description:"Dual-redundant payload release mechanism",effectiveness:.995,implementationStatus:"Verified",verificationMethod:"Mechanical reliability testing",dateImplemented:"2024-04-10"},{id:"MIT-026",description:"Payload presence sensors with cross-check",effectiveness:.99,implementationStatus:"Implemented",verificationMethod:"Integration testing",dateImplemented:"2024-05-01"},{id:"MIT-027",description:"Safe release zone verification before drop",effectiveness:.95,implementationStatus:"Verified",verificationMethod:"Operational testing",dateImplemented:"2024-06-01"}],linkedRequirements:["REQ-025","REQ-026","REQ-027"],linkedFaultTrees:["FT-009"],linkedGSNNodes:["G10"],initialRisk:{score:9,level:"Tolerable"},residualRisk:{score:3,level:"Acceptable"},relatedRequirements:["REQ-025","REQ-026"],dateIdentified:"2024-03-15",dateReviewed:"2024-10-20",notes:"Payload weight limit enforced by ground operations"},{id:"HAZ-010",title:"Geofence Violation",description:"Aircraft breaches operational geofence boundaries",systemFunction:"Flight Management",failureCondition:"Failure to contain aircraft within authorized airspace",severity:"Major",likelihood:"Remote",dal:"C",riskScore:3,status:"Mitigated",owner:"Flight Operations Team",phase:"All Phases",aircraftLevelEffect:"Potential airspace violation; regulatory non-compliance",probabilityPerFlightHour:1e-5,mitigationDetails:[{id:"MIT-028",description:"Redundant geofence enforcement in flight controller and GCS",effectiveness:.999,implementationStatus:"Verified",verificationMethod:"Flight test at boundary conditions",dateImplemented:"2024-05-15"},{id:"MIT-029",description:"Automatic return-to-home when approaching boundary",effectiveness:.98,implementationStatus:"Verified",verificationMethod:"Simulation and flight test",dateImplemented:"2024-06-01"},{id:"MIT-030",description:"Real-time geofence monitoring with alerts",effectiveness:.95,implementationStatus:"Implemented",verificationMethod:"Operational validation",dateImplemented:"2024-06-15"}],linkedRequirements:["REQ-028","REQ-029","REQ-030"],linkedFaultTrees:["FT-010"],linkedGSNNodes:["G11"],initialRisk:{score:9,level:"Tolerable"},residualRisk:{score:2,level:"Acceptable"},relatedRequirements:["REQ-028","REQ-029"],dateIdentified:"2024-04-01",dateReviewed:"2024-11-01",notes:"Geofence margins include 100m buffer from actual boundaries"},{id:"HAZ-011",title:"Icing Conditions",description:"Ice accumulation on aircraft surfaces affecting aerodynamics and sensors",systemFunction:"Environmental Protection",failureCondition:"Ice accretion exceeding safe limits",severity:"Hazardous",likelihood:"Remote",dal:"B",riskScore:4,status:"Open",owner:"Aerodynamics Team",phase:"Cruise",aircraftLevelEffect:"Degraded lift/drag; sensor blockage; potential loss of control",probabilityPerFlightHour:1e-6,mitigationDetails:[{id:"MIT-031",description:"Ice detection sensors with real-time monitoring",effectiveness:.9,implementationStatus:"Implemented",verificationMethod:"Icing wind tunnel testing",dateImplemented:"2024-08-15"},{id:"MIT-032",description:"Operational limitation to avoid known icing conditions",effectiveness:.85,implementationStatus:"Implemented",verificationMethod:"Weather integration testing",dateImplemented:"2024-09-01"}],linkedRequirements:["REQ-031","REQ-032"],linkedFaultTrees:["FT-011"],linkedGSNNodes:["G12"],initialRisk:{score:16,level:"Undesirable"},residualRisk:{score:10,level:"Tolerable"},relatedRequirements:["REQ-031","REQ-032"],dateIdentified:"2024-05-01",dateReviewed:"2024-10-25",notes:"Anti-icing system under development for future variant"},{id:"HAZ-012",title:"Cybersecurity Attack",description:"Malicious cyber attack compromising aircraft systems or data",systemFunction:"System Security",failureCondition:"Unauthorized access or control of aircraft systems",severity:"Hazardous",likelihood:"ExtremelyRemote",dal:"B",riskScore:4,status:"Monitoring",owner:"Cybersecurity Team",phase:"All Phases",aircraftLevelEffect:"Potential loss of control; data breach; operational disruption",probabilityPerFlightHour:1e-7,mitigationDetails:[{id:"MIT-033",description:"Encrypted C2 link with authentication",effectiveness:.99,implementationStatus:"Verified",verificationMethod:"Penetration testing",dateImplemented:"2024-04-01"},{id:"MIT-034",description:"Hardware security module for key storage",effectiveness:.995,implementationStatus:"Verified",verificationMethod:"Security certification",dateImplemented:"2024-05-01"},{id:"MIT-035",description:"Intrusion detection and response system",effectiveness:.9,implementationStatus:"In Progress",verificationMethod:"Red team assessment"}],linkedRequirements:["REQ-033","REQ-034","REQ-035"],linkedFaultTrees:["FT-012"],linkedGSNNodes:["G13"],initialRisk:{score:12,level:"Undesirable"},residualRisk:{score:6,level:"Tolerable"},relatedRequirements:["REQ-033","REQ-034"],dateIdentified:"2024-03-20",dateReviewed:"2024-11-01",notes:"Ongoing monitoring of threat landscape; annual penetration testing"}],v={id:"FT-001",name:"Loss of Aircraft Control",description:"Fault tree analysis for complete loss of flight control authority in UAS",analysisType:"Quantitative",linkedHazards:["HAZ-001"],analysisDate:"2024-09-15",analyst:"Dr. Sarah Chen",approvalStatus:"Approved",topEventProbability:1.2e-9,rootNode:{id:"TOP-001",label:"Loss of Aircraft Control",type:"top-event",gate:"OR",probability:1.2e-9,children:[{id:"INT-001",label:"Flight Computer Failure",type:"intermediate",gate:"AND",probability:1e-10,children:[{id:"BE-001",label:"Primary FCC Hardware Failure",type:"basic-event",probability:1e-5,failureRate:1e-5,exposureTime:1},{id:"BE-002",label:"Backup FCC Hardware Failure",type:"basic-event",probability:1e-5,failureRate:1e-5,exposureTime:1}]},{id:"INT-002",label:"Control Surface Failure",type:"intermediate",gate:"OR",probability:3e-10,children:[{id:"INT-003",label:"All Motor Failures",type:"intermediate",gate:"VOTING",votingThreshold:3,probability:1e-10,children:[{id:"BE-003",label:"Motor 1 Failure",type:"basic-event",probability:1e-4,failureRate:1e-4,exposureTime:1},{id:"BE-004",label:"Motor 2 Failure",type:"basic-event",probability:1e-4,failureRate:1e-4,exposureTime:1},{id:"BE-005",label:"Motor 3 Failure",type:"basic-event",probability:1e-4,failureRate:1e-4,exposureTime:1},{id:"BE-006",label:"Motor 4 Failure",type:"basic-event",probability:1e-4,failureRate:1e-4,exposureTime:1},{id:"BE-007",label:"Motor 5 Failure",type:"basic-event",probability:1e-4,failureRate:1e-4,exposureTime:1},{id:"BE-008",label:"Motor 6 Failure",type:"basic-event",probability:1e-4,failureRate:1e-4,exposureTime:1},{id:"BE-009",label:"Motor 7 Failure",type:"basic-event",probability:1e-4,failureRate:1e-4,exposureTime:1},{id:"BE-010",label:"Motor 8 Failure",type:"basic-event",probability:1e-4,failureRate:1e-4,exposureTime:1}]},{id:"BE-011",label:"ESC Common Mode Failure",type:"basic-event",probability:1e-10,failureRate:1e-10,exposureTime:1},{id:"BE-012",label:"Control Signal Bus Failure",type:"basic-event",probability:1e-10,failureRate:1e-10,exposureTime:1}]},{id:"INT-004",label:"Power System Failure",type:"intermediate",gate:"AND",probability:4e-10,children:[{id:"INT-005",label:"Primary Battery Failure",type:"intermediate",gate:"OR",probability:2e-5,children:[{id:"BE-013",label:"Battery Cell Failure",type:"basic-event",probability:1e-5,failureRate:1e-5,exposureTime:1},{id:"BE-014",label:"BMS Failure",type:"basic-event",probability:5e-6,failureRate:5e-6,exposureTime:1},{id:"BE-015",label:"Battery Connector Failure",type:"basic-event",probability:5e-6,failureRate:5e-6,exposureTime:1}]},{id:"INT-006",label:"Backup Battery Failure",type:"intermediate",gate:"OR",probability:2e-5,children:[{id:"BE-016",label:"Backup Battery Cell Failure",type:"basic-event",probability:1e-5,failureRate:1e-5,exposureTime:1},{id:"BE-017",label:"Backup BMS Failure",type:"basic-event",probability:5e-6,failureRate:5e-6,exposureTime:1},{id:"BE-018",label:"Backup Battery Connector Failure",type:"basic-event",probability:5e-6,failureRate:5e-6,exposureTime:1}]}]},{id:"INT-007",label:"Sensor System Failure",type:"intermediate",gate:"AND",probability:2.5e-10,children:[{id:"INT-008",label:"All IMU Failures",type:"intermediate",gate:"AND",probability:1e-9,children:[{id:"BE-019",label:"IMU 1 Failure",type:"basic-event",probability:.001,failureRate:.001,exposureTime:1},{id:"BE-020",label:"IMU 2 Failure",type:"basic-event",probability:.001,failureRate:.001,exposureTime:1},{id:"BE-021",label:"IMU 3 Failure",type:"basic-event",probability:.001,failureRate:.001,exposureTime:1}]},{id:"INT-009",label:"Attitude Determination Failure",type:"intermediate",gate:"OR",probability:25e-5,children:[{id:"BE-022",label:"Magnetometer Failure",type:"basic-event",probability:1e-4,failureRate:1e-4,exposureTime:1},{id:"BE-023",label:"Barometer Failure",type:"basic-event",probability:5e-5,failureRate:5e-5,exposureTime:1},{id:"BE-024",label:"GPS Receiver Failure",type:"basic-event",probability:1e-4,failureRate:1e-4,exposureTime:1}]}]},{id:"INT-010",label:"Software Failure",type:"intermediate",gate:"AND",probability:1e-10,children:[{id:"BE-025",label:"Primary Software Error",type:"basic-event",probability:1e-5,failureRate:1e-5,exposureTime:1},{id:"BE-026",label:"Backup Software Error",type:"basic-event",probability:1e-5,failureRate:1e-5,exposureTime:1}]}]},minimalCutSets:[{id:"CS-001",order:2,eventIds:["BE-001","BE-002"],basicEventIds:["BE-001","BE-002"],probability:1e-10,description:"Primary and backup FCC both fail"},{id:"CS-002",order:2,eventIds:["BE-025","BE-026"],basicEventIds:["BE-025","BE-026"],probability:1e-10,description:"Primary and backup software both fail"},{id:"CS-003",order:3,eventIds:["BE-003","BE-004","BE-005"],basicEventIds:["BE-003","BE-004","BE-005"],probability:1e-12,description:"Three adjacent motors fail (worst case)"},{id:"CS-004",order:2,eventIds:["BE-013","BE-016"],basicEventIds:["BE-013","BE-016"],probability:1e-10,description:"Primary and backup battery cells both fail"},{id:"CS-005",order:1,eventIds:["BE-011"],basicEventIds:["BE-011"],probability:1e-10,description:"ESC common mode failure"},{id:"CS-006",order:1,eventIds:["BE-012"],basicEventIds:["BE-012"],probability:1e-10,description:"Control signal bus failure"},{id:"CS-007",order:3,eventIds:["BE-019","BE-020","BE-021"],basicEventIds:["BE-019","BE-020","BE-021"],probability:1e-9,description:"All three IMUs fail simultaneously"}],importanceMeasures:[{eventId:"BE-001",eventLabel:"Primary FCC Hardware Failure",baseProbability:1e-5,fussellVesely:.083,birnbaum:1e-5,raw:8.33,rrw:1.09},{eventId:"BE-002",eventLabel:"Backup FCC Hardware Failure",baseProbability:1e-5,fussellVesely:.083,birnbaum:1e-5,raw:8.33,rrw:1.09},{eventId:"BE-011",eventLabel:"ESC Common Mode Failure",baseProbability:1e-10,fussellVesely:.083,birnbaum:1,raw:833e7,rrw:1.09},{eventId:"BE-012",eventLabel:"Control Signal Bus Failure",baseProbability:1e-10,fussellVesely:.083,birnbaum:1,raw:833e7,rrw:1.09}]},b=[{id:"G1",type:"Goal",label:"UAS is acceptably safe for BVLOS operations",description:"Top-level safety goal demonstrating the SkyDeliver X1 UAS is safe for beyond visual line of sight delivery operations in Class G airspace",status:"in-progress",confidence:{level:"medium",rationale:"Core hazards mitigated; DAA certification pending; ongoing monitoring of residual risks"},complianceMapping:[{standard:"ARP4761A",objective:"Section 5 - Safety Assessment Process",status:"Partial"},{standard:"DO-178C",objective:"Software Assurance Objectives",status:"Partial"},{standard:"14 CFR Part 107",objective:"Waiver Requirements",status:"Compliant"}],children:["C1","C2","S1"]},{id:"C1",type:"Context",label:"BVLOS delivery operations in Class G airspace",description:"Operational context: Autonomous package delivery flights up to 10km from launch site, altitudes below 400ft AGL, in uncontrolled airspace with defined operational corridors",parent:"G1"},{id:"C2",type:"Context",label:"Certification basis: Part 107 waiver with type design approval",description:"Regulatory context: Operating under FAA Part 107.200 waiver with additional airworthiness approvals for BVLOS operations",parent:"G1"},{id:"S1",type:"Strategy",label:"Argument over identified hazards",description:"Demonstrate safety by systematically addressing all hazards identified through FHA per ARP4761A methodology",parent:"G1",children:["G2","G3","G4","G5"]},{id:"G2",type:"Goal",label:"All catastrophic hazards mitigated to acceptable risk level",description:"Demonstrate that all Catastrophic severity hazards have been mitigated to achieve probability < 1e-9 per flight hour",status:"in-progress",confidence:{level:"medium",rationale:"HAZ-001 and HAZ-002 fully mitigated; HAZ-003 (mid-air collision) mitigation in progress"},linkedHazards:["HAZ-001","HAZ-002","HAZ-003","HAZ-005"],parent:"S1",children:["S2","A1"]},{id:"S2",type:"Strategy",label:"Argument by hazard analysis results",description:"Demonstrate mitigation through quantitative fault tree analysis and verification evidence",parent:"G2",children:["G6","G7","G8","G9"]},{id:"A1",type:"Assumption",label:"Mitigation effectiveness verified through test",description:"Assumes all mitigation measures have been verified through appropriate testing (flight test, simulation, analysis)",parent:"G2"},{id:"G3",type:"Goal",label:"All hazardous severity hazards mitigated appropriately",description:"Demonstrate hazardous severity hazards have probability < 1e-7 per flight hour",status:"complete",confidence:{level:"high",rationale:"All hazardous hazards have verified mitigations with demonstrated effectiveness"},linkedHazards:["HAZ-004","HAZ-007","HAZ-008","HAZ-011","HAZ-012"],parent:"S1",children:["Sn2","Sn3"]},{id:"G4",type:"Goal",label:"All major severity hazards are tolerable",description:"Demonstrate major severity hazards have probability < 1e-5 per flight hour",status:"complete",confidence:{level:"high",rationale:"All major hazards within acceptable risk thresholds"},linkedHazards:["HAZ-006","HAZ-009","HAZ-010"],parent:"S1",children:["Sn4"]},{id:"G5",type:"Goal",label:"Safety requirements fully traced and verified",description:"Demonstrate complete traceability from hazards to requirements to verification evidence",status:"in-progress",confidence:{level:"medium",rationale:"90% traceability achieved; remaining gaps being closed"},parent:"S1",children:["Sn5","Sn6"]},{id:"G6",type:"Goal",label:"Loss of control hazard mitigated (HAZ-001)",description:"Flight control system meets DAL A requirements with demonstrated probability < 1e-9",status:"complete",confidence:{level:"high",rationale:"Fault tree analysis shows top event probability of 1.2e-9, verified through testing"},linkedHazards:["HAZ-001"],linkedRequirements:["REQ-001","REQ-002","REQ-003"],parent:"S2",children:["Sn1"]},{id:"G7",type:"Goal",label:"CFIT hazard mitigated (HAZ-002)",description:"Terrain/obstacle avoidance system prevents controlled flight into terrain",status:"complete",confidence:{level:"high",rationale:"Dual LIDAR system with terrain database verified through flight test"},linkedHazards:["HAZ-002"],parent:"S2",children:["Sn7"]},{id:"G8",type:"Goal",label:"Mid-air collision hazard addressed (HAZ-003)",description:"DAA system provides adequate separation from other aircraft",status:"in-progress",confidence:{level:"medium",rationale:"ADS-B and radar operational; automatic avoidance maneuvers under certification"},linkedHazards:["HAZ-003"],parent:"S2",children:["Sn8","J1"]},{id:"G9",type:"Goal",label:"Battery thermal runaway prevented (HAZ-005)",description:"Battery system design prevents thermal runaway propagation",status:"complete",confidence:{level:"high",rationale:"BMS and thermal design verified through abuse testing per UN38.3"},linkedHazards:["HAZ-005"],parent:"S2",children:["Sn9"]},{id:"G10",type:"Goal",label:"Payload delivery is safe",description:"Payload release mechanism operates safely without unintended releases",status:"complete",confidence:{level:"high",rationale:"Redundant release mechanism verified through reliability testing"},linkedHazards:["HAZ-009"],parent:"G4",children:["Sn10"]},{id:"G11",type:"Goal",label:"Aircraft remains within authorized airspace",description:"Geofence system prevents boundary violations",status:"complete",confidence:{level:"high",rationale:"Redundant geofence with verified return-to-home behavior"},linkedHazards:["HAZ-010"],parent:"G4",children:["Sn11"]},{id:"G12",type:"Goal",label:"Icing conditions handled safely",description:"Aircraft can detect and avoid or safely operate in icing conditions",status:"in-progress",confidence:{level:"low",rationale:"Detection implemented; anti-ice system planned for future variant"},linkedHazards:["HAZ-011"],parent:"G3"},{id:"G13",type:"Goal",label:"Cybersecurity threats mitigated",description:"C2 link and aircraft systems protected against cyber attacks",status:"in-progress",confidence:{level:"medium",rationale:"Encryption and authentication verified; IDS implementation ongoing"},linkedHazards:["HAZ-012"],parent:"G3",children:["Sn12"]},{id:"Sn1",type:"Solution",label:"Flight Control FMEA Report",description:"FMEA analysis of flight control system per ARP4761A methodology",status:"complete",evidence:[{id:"EV-001",type:"AnalysisReport",title:"FCS FMEA v2.1",location:"/docs/safety/fmea/FCS_FMEA_v2.1.pdf",status:"approved",dateApproved:"2024-08-15"}],parent:"G6"},{id:"Sn2",type:"Solution",label:"C2 Link Loss Analysis",description:"Analysis demonstrating safe lost-link behavior",status:"complete",evidence:[{id:"EV-002",type:"AnalysisReport",title:"Lost Link Safety Analysis v1.2",location:"/docs/safety/analysis/Lost_Link_Analysis_v1.2.pdf",status:"approved",dateApproved:"2024-07-20"},{id:"EV-003",type:"TestReport",title:"Lost Link Flight Test Report",location:"/docs/test/C2_Lost_Link_Test_Report.pdf",status:"approved",dateApproved:"2024-09-01"}],parent:"G3"},{id:"Sn3",type:"Solution",label:"Propulsion System Fault Tree",description:"Quantitative FTA for propulsion system failures",status:"complete",evidence:[{id:"EV-004",type:"AnalysisReport",title:"Propulsion FTA Report v1.0",location:"/docs/safety/fta/Propulsion_FTA_v1.0.pdf",status:"approved",dateApproved:"2024-08-01"}],parent:"G3"},{id:"Sn4",type:"Solution",label:"Navigation System Safety Analysis",description:"Safety analysis for GPS loss and navigation failures",status:"complete",evidence:[{id:"EV-005",type:"AnalysisReport",title:"Navigation Safety Analysis v1.1",location:"/docs/safety/analysis/Nav_Safety_Analysis_v1.1.pdf",status:"approved",dateApproved:"2024-06-15"}],parent:"G4"},{id:"Sn5",type:"Solution",label:"Requirements Traceability Matrix",description:"Complete traceability from hazards to requirements to verification",status:"in-progress",evidence:[{id:"EV-006",type:"DesignDocument",title:"Safety Requirements Traceability Matrix",location:"/docs/safety/SRTM_v3.2.xlsx",status:"under-review"}],parent:"G5"},{id:"Sn6",type:"Solution",label:"Verification Summary Report",description:"Summary of all safety requirement verification activities",status:"in-progress",evidence:[{id:"EV-007",type:"TestReport",title:"Safety Verification Summary Report",location:"/docs/test/Safety_Verification_Summary.pdf",status:"draft"}],parent:"G5"},{id:"Sn7",type:"Solution",label:"Terrain Avoidance Test Report",description:"Flight test results for terrain and obstacle avoidance",status:"complete",evidence:[{id:"EV-008",type:"TestReport",title:"Terrain Avoidance Flight Test Report",location:"/docs/test/TAWS_Flight_Test_Report.pdf",status:"approved",dateApproved:"2024-09-10"}],parent:"G7"},{id:"Sn8",type:"Solution",label:"DAA System Test Results",description:"Detect and Avoid system performance test results",status:"in-progress",evidence:[{id:"EV-009",type:"TestReport",title:"DAA Performance Test Report",location:"/docs/test/DAA_Performance_Test.pdf",status:"under-review"}],parent:"G8"},{id:"J1",type:"Justification",label:"DAA certification path acceptable",description:"FAA has provided interim approval for DAA system pending final certification",parent:"G8"},{id:"Sn9",type:"Solution",label:"Battery Safety Test Report",description:"UN38.3 and abuse testing results for battery system",status:"complete",evidence:[{id:"EV-010",type:"TestReport",title:"Battery Safety Test Report",location:"/docs/test/Battery_Safety_Test_UN38.3.pdf",status:"approved",dateApproved:"2024-05-20"}],parent:"G9"},{id:"Sn10",type:"Solution",label:"Payload Release Test Report",description:"Reliability testing of payload release mechanism",status:"complete",evidence:[{id:"EV-011",type:"TestReport",title:"Payload Release Reliability Test Report",location:"/docs/test/Payload_Release_Test.pdf",status:"approved",dateApproved:"2024-07-01"}],parent:"G10"},{id:"Sn11",type:"Solution",label:"Geofence Verification Report",description:"Verification of geofence system effectiveness",status:"complete",evidence:[{id:"EV-012",type:"TestReport",title:"Geofence Verification Test Report",location:"/docs/test/Geofence_Verification.pdf",status:"approved",dateApproved:"2024-08-01"}],parent:"G11"},{id:"Sn12",type:"Solution",label:"Cybersecurity Assessment Report",description:"Penetration testing and security assessment results",status:"in-progress",evidence:[{id:"EV-013",type:"AnalysisReport",title:"Cybersecurity Assessment Report",location:"/docs/security/Cyber_Assessment_v1.0.pdf",status:"under-review"}],parent:"G13"}],y=[{id:"FMEA-001",componentId:"FCC-001",componentName:"Primary Flight Control Computer",function:"Process sensor inputs and generate control commands for stable flight",failureMode:"Processor lockup/hang",failureMechanism:"Software infinite loop, deadlock, or hardware transient fault",localEffect:"No control commands output from primary FCC",systemEffect:"Automatic switchover to backup FCC; if both fail, loss of attitude control",severity:10,occurrence:3,detection:2,rpn:60,currentControls:"Watchdog timer (100ms), triple modular redundancy with voting",recommendedActions:"Implement diverse backup software design; add hardware fault injection testing",responsible:"Flight Software Team",targetDate:"2024-12-01",actionTaken:"Dissimilar backup software implemented using different algorithms",newSeverity:10,newOccurrence:2,newDetection:2,newRpn:40,linkedHazards:["HAZ-001"],linkedFaultTreeEvents:["BE-001","BE-025"]},{id:"FMEA-002",componentId:"FCC-002",componentName:"Backup Flight Control Computer",function:"Provide redundant flight control in case of primary FCC failure",failureMode:"Processor lockup/hang",failureMechanism:"Software fault or hardware failure coincident with primary",localEffect:"Backup FCC unavailable when needed",systemEffect:"Loss of flight control redundancy; if coincident with primary failure, catastrophic",severity:10,occurrence:3,detection:2,rpn:60,currentControls:"Independent watchdog, continuous self-test, diverse hardware design",recommendedActions:"Ensure no common mode failures between primary and backup",responsible:"Flight Software Team",targetDate:"2024-12-01",linkedHazards:["HAZ-001"],linkedFaultTreeEvents:["BE-002","BE-026"]},{id:"FMEA-003",componentId:"IMU-001",componentName:"Inertial Measurement Unit 1",function:"Provide angular rate and acceleration measurements for attitude determination",failureMode:"Erroneous output (drift or bias)",failureMechanism:"Sensor degradation, calibration drift, or EMI interference",localEffect:"Incorrect attitude estimation from IMU 1",systemEffect:"Voting logic detects disagreement; other IMUs provide valid data",severity:7,occurrence:4,detection:3,rpn:84,currentControls:"Triple redundant IMUs with median voting; BITE and reasonableness checks",recommendedActions:"Add IMU health monitoring with predictive failure indication",responsible:"Avionics Team",targetDate:"2025-01-15",linkedHazards:["HAZ-001"],linkedFaultTreeEvents:["BE-019"]},{id:"FMEA-004",componentId:"GPS-001",componentName:"GNSS Receiver",function:"Provide position and velocity for navigation",failureMode:"Loss of satellite lock",failureMechanism:"Signal obstruction, jamming, or receiver hardware failure",localEffect:"No GPS position updates",systemEffect:"INS provides dead reckoning; degraded navigation accuracy over time",severity:6,occurrence:5,detection:1,rpn:30,currentControls:"Multi-constellation receiver; INS integration; visual odometry backup",recommendedActions:"Implement spoofing detection algorithms",responsible:"Navigation Team",targetDate:"2024-11-30",actionTaken:"Spoofing detection implemented and tested",newSeverity:6,newOccurrence:4,newDetection:1,newRpn:24,linkedHazards:["HAZ-006"],linkedFaultTreeEvents:["BE-024"]},{id:"FMEA-005",componentId:"MOT-001",componentName:"Brushless DC Motor (Motor 1)",function:"Provide thrust for lift and control",failureMode:"Motor stops/seizes",failureMechanism:"Bearing failure, winding short, or ESC failure",localEffect:"No thrust from motor 1",systemEffect:"Increased load on remaining motors; control reconfiguration activated",severity:8,occurrence:4,detection:2,rpn:64,currentControls:"Octocopter configuration allows motor-out flight; motor current monitoring",recommendedActions:"Implement bearing wear detection through vibration analysis",responsible:"Propulsion Team",targetDate:"2025-02-01",linkedHazards:["HAZ-007"],linkedFaultTreeEvents:["BE-003"]},{id:"FMEA-006",componentId:"ESC-001",componentName:"Electronic Speed Controller 1",function:"Control motor speed based on flight controller commands",failureMode:"Output stuck high/low",failureMechanism:"MOSFET failure, firmware fault",localEffect:"Motor 1 runs at uncontrolled speed or stops",systemEffect:"Control instability; motor reconfiguration required",severity:8,occurrence:3,detection:2,rpn:48,currentControls:"ESC telemetry monitoring; overcurrent protection; independent ESCs per motor",recommendedActions:"Add ESC redundancy for critical motors",responsible:"Propulsion Team",targetDate:"2025-03-01",linkedHazards:["HAZ-007"],linkedFaultTreeEvents:["BE-003","BE-011"]},{id:"FMEA-007",componentId:"BAT-001",componentName:"Primary Battery Pack",function:"Provide electrical power for all aircraft systems",failureMode:"Thermal runaway",failureMechanism:"Internal cell short, overcharge, external damage",localEffect:"Battery fire/explosion; battery unavailable",systemEffect:"Switchover to backup battery; if propagates, catastrophic fire",severity:10,occurrence:2,detection:3,rpn:60,currentControls:"BMS with cell monitoring; thermal runaway propagation resistant design",recommendedActions:"Add fire suppression in battery compartment",responsible:"Power Systems Team",targetDate:"2025-01-01",linkedHazards:["HAZ-005"],linkedFaultTreeEvents:["BE-013"]},{id:"FMEA-008",componentId:"BMS-001",componentName:"Battery Management System",function:"Monitor and protect battery cells; balance charging",failureMode:"Failed to detect overvoltage/undervoltage",failureMechanism:"Voltage sensor failure, firmware bug",localEffect:"Battery operated outside safe limits",systemEffect:"Potential cell damage, reduced capacity, or thermal event",severity:9,occurrence:3,detection:4,rpn:108,currentControls:"Redundant voltage sensing; independent protection circuit",recommendedActions:"Implement diversity in BMS hardware design",responsible:"Power Systems Team",targetDate:"2024-12-15",linkedHazards:["HAZ-005"],linkedFaultTreeEvents:["BE-014"]},{id:"FMEA-009",componentId:"LIDAR-001",componentName:"Primary LIDAR Sensor",function:"Detect obstacles and terrain for collision avoidance",failureMode:"False negative (missed obstacle)",failureMechanism:"Sensor degradation, reflective surface, heavy rain/fog",localEffect:"Obstacle not detected by primary LIDAR",systemEffect:"Backup LIDAR should detect; if both miss, potential collision",severity:10,occurrence:3,detection:4,rpn:120,currentControls:"Dual LIDAR with different wavelengths; fusion with camera data",recommendedActions:"Add radar for all-weather obstacle detection",responsible:"DAA Team",targetDate:"2025-03-01",linkedHazards:["HAZ-002"],linkedFaultTreeEvents:[]},{id:"FMEA-010",componentId:"C2-001",componentName:"C2 Radio Transceiver",function:"Maintain command and control link with ground station",failureMode:"Loss of signal",failureMechanism:"RF interference, antenna failure, range exceeded",localEffect:"No commands received from GCS",systemEffect:"Lost-link procedures activated; autonomous return-to-home",severity:6,occurrence:4,detection:1,rpn:24,currentControls:"Dual-band redundancy; LTE backup; link quality monitoring",recommendedActions:"Add satellite communication backup for extended range",responsible:"Communications Team",targetDate:"2024-10-30",actionTaken:"Satellite backup link implemented",newSeverity:6,newOccurrence:3,newDetection:1,newRpn:18,linkedHazards:["HAZ-004"],linkedFaultTreeEvents:[]},{id:"FMEA-011",componentId:"ADSB-001",componentName:"ADS-B Transceiver",function:"Broadcast aircraft position and receive traffic information",failureMode:"Failure to detect non-cooperative traffic",failureMechanism:"Target aircraft without ADS-B equipment",localEffect:"Traffic not visible to ADS-B In",systemEffect:"Reliance on radar for non-cooperative detection; potential late avoidance",severity:9,occurrence:5,detection:5,rpn:225,currentControls:"Radar backup for non-cooperative detection",recommendedActions:"Improve radar detection range and bearing accuracy",responsible:"DAA Team",targetDate:"2025-02-01",linkedHazards:["HAZ-003"],linkedFaultTreeEvents:[]},{id:"FMEA-012",componentId:"PLD-001",componentName:"Payload Release Mechanism",function:"Securely hold and release delivery payload on command",failureMode:"Inadvertent release",failureMechanism:"Mechanical latch failure, software command error",localEffect:"Payload released at wrong location",systemEffect:"Package dropped on unintended area; potential property damage",severity:7,occurrence:2,detection:3,rpn:42,currentControls:"Dual-redundant latch mechanism; position verification before release",recommendedActions:"Add mechanical safety interlock",responsible:"Payload Systems Team",targetDate:"2024-11-15",linkedHazards:["HAZ-009"],linkedFaultTreeEvents:[]}],j=[{id:"REQ-001",text:"The flight control system shall continue to provide aircraft control following any single failure",rationale:"Prevent loss of control from single-point failures; required for catastrophic hazard mitigation",source:"HAZ-001",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-001"],linkedTests:["TC-001","TC-002","TC-003"],relatedHazards:["HAZ-001"]},{id:"REQ-002",text:"The probability of total loss of flight control shall be less than 1x10^-9 per flight hour",rationale:"Quantitative safety objective for catastrophic failure condition per ARP4761A",source:"HAZ-001",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Analysis",verified:!0,linkedHazards:["HAZ-001"],linkedTests:["TC-004"],relatedHazards:["HAZ-001"]},{id:"REQ-003",text:"The flight control software shall be developed to DAL A per DO-178C",rationale:"Software assurance commensurate with catastrophic failure condition",source:"HAZ-001",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Review",verified:!0,linkedHazards:["HAZ-001"],linkedTests:["TC-005"],relatedHazards:["HAZ-001"]},{id:"REQ-004",text:"The backup flight controller shall use dissimilar software design from the primary",rationale:"Prevent common mode software failures affecting both controllers",source:"HAZ-001",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Review",verified:!0,linkedHazards:["HAZ-001"],linkedTests:["TC-006"],relatedHazards:["HAZ-001"]},{id:"REQ-005",text:"The aircraft shall maintain minimum 50m clearance from terrain during all flight phases",rationale:"Prevent controlled flight into terrain",source:"HAZ-002",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-002"],linkedTests:["TC-007","TC-008"],relatedHazards:["HAZ-002"]},{id:"REQ-006",text:"The obstacle detection system shall detect objects 30cm or larger at 100m range",rationale:"Ensure adequate detection for collision avoidance maneuvering",source:"HAZ-002",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-002"],linkedTests:["TC-009"],relatedHazards:["HAZ-002"]},{id:"REQ-007",text:"The terrain avoidance system shall initiate avoidance within 500ms of obstacle detection",rationale:"Ensure timely response to terrain/obstacle threats",source:"HAZ-002",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-002"],linkedTests:["TC-010"],relatedHazards:["HAZ-002"]},{id:"REQ-008",text:"The DAA system shall detect cooperative traffic equipped with ADS-B at 3nm range",rationale:"Ensure adequate separation from manned aircraft",source:"HAZ-003",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-003"],linkedTests:["TC-011"],relatedHazards:["HAZ-003"]},{id:"REQ-009",text:"The DAA system shall detect non-cooperative traffic at 1nm range",rationale:"Ensure detection of aircraft without transponders",source:"HAZ-003",type:"Safety",dal:"A",status:"Approved",verificationMethod:"Test",verified:!1,linkedHazards:["HAZ-003"],linkedTests:["TC-012"],relatedHazards:["HAZ-003"]},{id:"REQ-010",text:"The collision avoidance system shall initiate maneuver to achieve 500ft separation",rationale:"Ensure adequate miss distance for collision avoidance",source:"HAZ-003",type:"Safety",dal:"A",status:"Approved",verificationMethod:"Test",verified:!1,linkedHazards:["HAZ-003"],linkedTests:["TC-013"],relatedHazards:["HAZ-003"]},{id:"REQ-011",text:"The aircraft shall execute safe lost-link procedures within 10 seconds of link loss detection",rationale:"Ensure predictable behavior during communication failures",source:"HAZ-004",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-004"],linkedTests:["TC-014","TC-015"],relatedHazards:["HAZ-004"]},{id:"REQ-012",text:"The C2 link shall provide redundancy through at least two independent communication paths",rationale:"Prevent single-point C2 link failure",source:"HAZ-004",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Inspection",verified:!0,linkedHazards:["HAZ-004"],linkedTests:["TC-016"],relatedHazards:["HAZ-004"]},{id:"REQ-013",text:"The lost-link return-to-home function shall successfully land the aircraft at designated location",rationale:"Ensure safe recovery during extended communication loss",source:"HAZ-004",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-004"],linkedTests:["TC-017"],relatedHazards:["HAZ-004"]},{id:"REQ-014",text:"The BMS shall disconnect the battery within 100ms of detecting cell overvoltage (>4.3V)",rationale:"Prevent overcharge conditions that could lead to thermal runaway",source:"HAZ-005",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-005"],linkedTests:["TC-018"],relatedHazards:["HAZ-005"]},{id:"REQ-015",text:"The battery pack shall prevent thermal runaway propagation between cells",rationale:"Contain thermal event to single cell if initiated",source:"HAZ-005",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-005"],linkedTests:["TC-019"],relatedHazards:["HAZ-005"]},{id:"REQ-016",text:"The BMS shall monitor cell temperature and disconnect if any cell exceeds 60C",rationale:"Prevent operation in unsafe temperature conditions",source:"HAZ-005",type:"Safety",dal:"A",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-005"],linkedTests:["TC-020"],relatedHazards:["HAZ-005"]},{id:"REQ-017",text:"The navigation system shall provide position accuracy of 3m CEP during normal GPS conditions",rationale:"Ensure adequate navigation accuracy for BVLOS operations",source:"HAZ-006",type:"Safety",dal:"C",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-006"],linkedTests:["TC-021"],relatedHazards:["HAZ-006"]},{id:"REQ-018",text:"The INS shall maintain 50m position accuracy for at least 5 minutes in GPS-denied conditions",rationale:"Ensure safe navigation during GPS outages",source:"HAZ-006",type:"Safety",dal:"C",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-006"],linkedTests:["TC-022"],relatedHazards:["HAZ-006"]},{id:"REQ-019",text:"The navigation system shall detect GPS spoofing within 5 seconds of attack initiation",rationale:"Protect against intentional GPS interference",source:"HAZ-006",type:"Safety",dal:"C",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-006"],linkedTests:["TC-023"],relatedHazards:["HAZ-006"]},{id:"REQ-020",text:"The aircraft shall maintain controlled flight with up to 2 motor failures",rationale:"Ensure continued safe operation despite motor failures",source:"HAZ-007",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-007"],linkedTests:["TC-024","TC-025"],relatedHazards:["HAZ-007"]},{id:"REQ-021",text:"The flight controller shall detect motor failure within 50ms and reconfigure control laws",rationale:"Ensure rapid response to propulsion failures",source:"HAZ-007",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-007"],linkedTests:["TC-026"],relatedHazards:["HAZ-007"]},{id:"REQ-022",text:"Motors shall be rated for 150% of maximum expected continuous load",rationale:"Ensure adequate margin for motor-out reconfiguration",source:"HAZ-007",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Analysis",verified:!0,linkedHazards:["HAZ-007"],linkedTests:["TC-027"],relatedHazards:["HAZ-007"]},{id:"REQ-023",text:"Propellers shall be designed with 4x static safety factor against ultimate load",rationale:"Prevent structural failure during normal operations",source:"HAZ-008",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-008"],linkedTests:["TC-028"],relatedHazards:["HAZ-008"]},{id:"REQ-024",text:"Propeller guards shall contain blade fragments in case of failure",rationale:"Prevent secondary damage from propeller debris",source:"HAZ-008",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-008"],linkedTests:["TC-029"],relatedHazards:["HAZ-008"]},{id:"REQ-025",text:"The payload release mechanism shall require positive command confirmation before release",rationale:"Prevent inadvertent payload release",source:"HAZ-009",type:"Safety",dal:"C",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-009"],linkedTests:["TC-030"],relatedHazards:["HAZ-009"]},{id:"REQ-026",text:"The payload release shall only occur when aircraft is within designated release zone",rationale:"Ensure payload delivered to correct location",source:"HAZ-009",type:"Safety",dal:"C",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-009"],linkedTests:["TC-031"],relatedHazards:["HAZ-009"]},{id:"REQ-027",text:"Payload presence sensors shall confirm payload status with dual-redundant sensing",rationale:"Ensure accurate payload state awareness",source:"HAZ-009",type:"Safety",dal:"C",status:"Verified",verificationMethod:"Inspection",verified:!0,linkedHazards:["HAZ-009"],linkedTests:["TC-032"],relatedHazards:["HAZ-009"]},{id:"REQ-028",text:"The geofence shall prevent aircraft from exceeding operational boundaries",rationale:"Ensure aircraft remains in authorized airspace",source:"HAZ-010",type:"Safety",dal:"C",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-010"],linkedTests:["TC-033"],relatedHazards:["HAZ-010"]},{id:"REQ-029",text:"Geofence enforcement shall be implemented redundantly in FCC and GCS",rationale:"Prevent geofence violation from single point of failure",source:"HAZ-010",type:"Safety",dal:"C",status:"Verified",verificationMethod:"Inspection",verified:!0,linkedHazards:["HAZ-010"],linkedTests:["TC-034"],relatedHazards:["HAZ-010"]},{id:"REQ-030",text:"Aircraft shall initiate return-to-home when within 100m of geofence boundary",rationale:"Provide adequate margin for stopping before boundary",source:"HAZ-010",type:"Safety",dal:"C",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-010"],linkedTests:["TC-035"],relatedHazards:["HAZ-010"]},{id:"REQ-031",text:"The aircraft shall not operate when forecast indicates icing conditions",rationale:"Avoid icing hazard through operational limitation",source:"HAZ-011",type:"Safety",dal:"B",status:"Approved",verificationMethod:"Inspection",verified:!1,linkedHazards:["HAZ-011"],linkedTests:["TC-036"],relatedHazards:["HAZ-011"]},{id:"REQ-032",text:"Ice detection sensors shall alert within 30 seconds of ice accumulation onset",rationale:"Provide timely warning for pilot action",source:"HAZ-011",type:"Safety",dal:"B",status:"Approved",verificationMethod:"Test",verified:!1,linkedHazards:["HAZ-011"],linkedTests:["TC-037"],relatedHazards:["HAZ-011"]},{id:"REQ-033",text:"All C2 communications shall use AES-256 encryption",rationale:"Protect against eavesdropping and command injection",source:"HAZ-012",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-012"],linkedTests:["TC-038"],relatedHazards:["HAZ-012"]},{id:"REQ-034",text:"C2 link authentication shall use certificate-based mutual authentication",rationale:"Prevent unauthorized command sources",source:"HAZ-012",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Test",verified:!0,linkedHazards:["HAZ-012"],linkedTests:["TC-039"],relatedHazards:["HAZ-012"]},{id:"REQ-035",text:"Cryptographic keys shall be stored in hardware security module",rationale:"Protect keys from extraction",source:"HAZ-012",type:"Safety",dal:"B",status:"Verified",verificationMethod:"Inspection",verified:!0,linkedHazards:["HAZ-012"],linkedTests:["TC-040"],relatedHazards:["HAZ-012"]}],A=[{id:"EV-001",title:"Flight Control System FMEA Report v2.1",type:"Analysis",description:"Comprehensive FMEA analysis of flight control system per ARP4761A",relatedRequirements:["REQ-001","REQ-002","REQ-003","REQ-004"],relatedHazards:["HAZ-001"],documentRef:"/docs/safety/fmea/FCS_FMEA_v2.1.pdf",date:"2024-08-15",status:"Approved"},{id:"EV-002",title:"Lost Link Safety Analysis v1.2",type:"Analysis",description:"Analysis of lost-link scenarios and safe behavior",relatedRequirements:["REQ-011","REQ-012","REQ-013"],relatedHazards:["HAZ-004"],documentRef:"/docs/safety/analysis/Lost_Link_Analysis_v1.2.pdf",date:"2024-07-20",status:"Approved"},{id:"EV-003",title:"Lost Link Flight Test Report",type:"Test",description:"Flight test results for lost-link procedures",relatedRequirements:["REQ-011","REQ-013"],relatedHazards:["HAZ-004"],documentRef:"/docs/test/C2_Lost_Link_Test_Report.pdf",date:"2024-09-01",status:"Approved"},{id:"EV-004",title:"Propulsion FTA Report v1.0",type:"Analysis",description:"Quantitative fault tree analysis for propulsion system",relatedRequirements:["REQ-020","REQ-021","REQ-022"],relatedHazards:["HAZ-007"],documentRef:"/docs/safety/fta/Propulsion_FTA_v1.0.pdf",date:"2024-08-01",status:"Approved"},{id:"EV-005",title:"Navigation Safety Analysis v1.1",type:"Analysis",description:"Safety analysis for GPS loss and navigation degradation",relatedRequirements:["REQ-017","REQ-018","REQ-019"],relatedHazards:["HAZ-006"],documentRef:"/docs/safety/analysis/Nav_Safety_Analysis_v1.1.pdf",date:"2024-06-15",status:"Approved"},{id:"EV-006",title:"Safety Requirements Traceability Matrix v3.2",type:"Analysis",description:"Complete traceability from hazards to requirements to verification",relatedRequirements:["REQ-001","REQ-002","REQ-003"],relatedHazards:["HAZ-001","HAZ-002","HAZ-003"],documentRef:"/docs/safety/SRTM_v3.2.xlsx",date:"2024-10-01",status:"Under Review"},{id:"EV-007",title:"Safety Verification Summary Report",type:"Test",description:"Summary of all safety requirement verification activities",relatedRequirements:[],relatedHazards:[],documentRef:"/docs/test/Safety_Verification_Summary.pdf",date:"2024-10-15",status:"Draft"},{id:"EV-008",title:"Terrain Avoidance Flight Test Report",type:"Test",description:"Flight test results for terrain and obstacle avoidance system",relatedRequirements:["REQ-005","REQ-006","REQ-007"],relatedHazards:["HAZ-002"],documentRef:"/docs/test/TAWS_Flight_Test_Report.pdf",date:"2024-09-10",status:"Approved"},{id:"EV-009",title:"DAA Performance Test Report",type:"Test",description:"Detect and Avoid system performance test results",relatedRequirements:["REQ-008","REQ-009","REQ-010"],relatedHazards:["HAZ-003"],documentRef:"/docs/test/DAA_Performance_Test.pdf",date:"2024-10-20",status:"Under Review"},{id:"EV-010",title:"Battery Safety Test Report (UN38.3)",type:"Test",description:"UN38.3 compliance testing and thermal abuse test results",relatedRequirements:["REQ-014","REQ-015","REQ-016"],relatedHazards:["HAZ-005"],documentRef:"/docs/test/Battery_Safety_Test_UN38.3.pdf",date:"2024-05-20",status:"Approved"},{id:"EV-011",title:"Payload Release Reliability Test Report",type:"Test",description:"Reliability testing results for payload release mechanism",relatedRequirements:["REQ-025","REQ-026","REQ-027"],relatedHazards:["HAZ-009"],documentRef:"/docs/test/Payload_Release_Test.pdf",date:"2024-07-01",status:"Approved"},{id:"EV-012",title:"Geofence Verification Test Report",type:"Test",description:"Verification testing for geofence system effectiveness",relatedRequirements:["REQ-028","REQ-029","REQ-030"],relatedHazards:["HAZ-010"],documentRef:"/docs/test/Geofence_Verification.pdf",date:"2024-08-01",status:"Approved"},{id:"EV-013",title:"Cybersecurity Assessment Report v1.0",type:"Analysis",description:"Penetration testing and security assessment results",relatedRequirements:["REQ-033","REQ-034","REQ-035"],relatedHazards:["HAZ-012"],documentRef:"/docs/security/Cyber_Assessment_v1.0.pdf",date:"2024-09-15",status:"Under Review"},{id:"EV-014",title:"Motor Failure Flight Test Report",type:"Test",description:"Flight test with simulated motor failures",relatedRequirements:["REQ-020","REQ-021"],relatedHazards:["HAZ-007"],documentRef:"/docs/test/Motor_Failure_Flight_Test.pdf",date:"2024-08-20",status:"Approved"},{id:"EV-015",title:"Propeller Static Load Test Report",type:"Test",description:"Static and fatigue testing of propeller assemblies",relatedRequirements:["REQ-023","REQ-024"],relatedHazards:["HAZ-008"],documentRef:"/docs/test/Propeller_Static_Test.pdf",date:"2024-04-15",status:"Approved"},{id:"EV-016",title:"DO-178C Software Accomplishment Summary",type:"Certification",description:"Software accomplishment summary per DO-178C for flight control software",relatedRequirements:["REQ-003"],relatedHazards:["HAZ-001"],documentRef:"/docs/certification/SAS_FCS_v1.0.pdf",date:"2024-10-01",status:"Under Review"}];var N=i(4164),w=i(856);function C(...e){return(0,w.QP)((0,N.$)(e))}var S=i(4848);function k({className:e,...t}){return(0,S.jsx)("div",{"data-slot":"card",className:C("bg-card text-card-foreground flex flex-col gap-6 rounded-sm border border-border/60 shadow-lg shadow-black/20",e),...t})}function R({className:e,...t}){return(0,S.jsx)("div",{"data-slot":"card-header",className:C("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-5 pt-5 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-4 border-b border-border/40",e),...t})}function E({className:e,...t}){return(0,S.jsx)("h4",{"data-slot":"card-title",className:C("leading-none text-sm font-semibold tracking-wide uppercase text-foreground/90",e),...t})}function T({className:e,...t}){return(0,S.jsx)("div",{"data-slot":"card-content",className:C("px-5 [&:last-child]:pb-5",e),...t})}var M=i(3362),D=i(2732);const H=(0,D.F)("inline-flex items-center justify-center rounded-sm border px-2 py-0.5 text-[0.6875rem] font-medium font-mono tracking-wider uppercase w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none transition-colors overflow-hidden",{variants:{variant:{default:"border-electric-blue/30 bg-electric-blue-dim text-electric-blue",secondary:"border-border bg-secondary text-secondary-foreground",destructive:"border-critical-red/30 bg-critical-red-dim text-critical-red",outline:"text-foreground border-border",success:"border-tactical-green/30 bg-tactical-green-dim text-tactical-green",warning:"border-warning-amber/30 bg-warning-amber-dim text-warning-amber",info:"border-info-cyan/30 bg-info-cyan-dim text-info-cyan"}},defaultVariants:{variant:"default"}});function z({className:e,variant:t,asChild:i=!1,...a}){const s=i?M.DX:"span";return(0,S.jsx)(s,{"data-slot":"badge",className:C(H({variant:t}),e),...a})}const P=(0,D.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-sm text-xs font-medium tracking-wider uppercase transition-all duration-150 disabled:pointer-events-none disabled:opacity-40 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background aria-invalid:ring-destructive/20 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/85 shadow-sm shadow-primary/20 border border-primary/30",destructive:"bg-critical-red-dim text-critical-red border border-critical-red/30 hover:bg-critical-red/20 hover:border-critical-red/50",outline:"border border-border bg-transparent text-foreground hover:bg-accent hover:text-accent-foreground hover:border-electric-blue/30",secondary:"bg-secondary text-secondary-foreground border border-border hover:bg-accent hover:border-border",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline tracking-normal normal-case",tactical:"bg-tactical-green-dim text-tactical-green border border-tactical-green/30 hover:bg-tactical-green/20 hover:border-tactical-green/50 shadow-sm shadow-tactical-green/10"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-sm gap-1.5 px-3 has-[>svg]:px-2.5 text-[0.6875rem]",lg:"h-10 rounded-sm px-6 has-[>svg]:px-4",icon:"size-9 rounded-sm"}},defaultVariants:{variant:"default",size:"default"}});function F({className:e,variant:t,size:i,asChild:a=!1,...s}){const r=a?M.DX:"button";return(0,S.jsx)(r,{"data-slot":"button",className:C(P({variant:t,size:i,className:e})),...s})}function I({className:e,type:t,...i}){return(0,S.jsx)("input",{type:t,"data-slot":"input",className:C("file:text-foreground placeholder:text-muted-foreground selection:bg-primary/30 selection:text-foreground border-border/60 flex h-9 w-full min-w-0 rounded-sm border px-3 py-1 text-sm font-mono bg-card transition-all duration-150 outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-40","focus-visible:border-primary/50 focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background","aria-invalid:ring-destructive/20 aria-invalid:border-destructive","hover:border-border",e),...i})}var q=i(8196);function B({className:e,...t}){return(0,S.jsx)(q.b,{"data-slot":"label",className:C("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var V=i(5193);function L({...e}){return(0,S.jsx)(V.bL,{"data-slot":"dialog",...e})}function Z({...e}){return(0,S.jsx)(V.l9,{"data-slot":"dialog-trigger",...e})}function O({...e}){return(0,S.jsx)(V.ZL,{"data-slot":"dialog-portal",...e})}function Q({className:e,...t}){return(0,S.jsx)(V.hJ,{"data-slot":"dialog-overlay",className:C("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function G({className:e,children:t,...i}){return(0,S.jsxs)(O,{"data-slot":"dialog-portal",children:[(0,S.jsx)(Q,{}),(0,S.jsxs)(V.UC,{"data-slot":"dialog-content",className:C("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-sm border border-border/60 p-6 shadow-xl shadow-black/40 duration-200 sm:max-w-lg",e),...i,children:[t,(0,S.jsxs)(V.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,S.jsx)(o.A,{}),(0,S.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function _({className:e,...t}){return(0,S.jsx)("div",{"data-slot":"dialog-header",className:C("flex flex-col gap-2 text-center sm:text-left",e),...t})}function U({className:e,...t}){return(0,S.jsx)("div",{"data-slot":"dialog-footer",className:C("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function $({className:e,...t}){return(0,S.jsx)(V.hE,{"data-slot":"dialog-title",className:C("text-lg leading-none font-semibold",e),...t})}function W({className:e,...t}){return(0,S.jsx)(V.VY,{"data-slot":"dialog-description",className:C("text-muted-foreground text-sm",e),...t})}var J=i(1906);function K({...e}){return(0,S.jsx)(J.bL,{"data-slot":"alert-dialog",...e})}function Y({...e}){return(0,S.jsx)(J.l9,{"data-slot":"alert-dialog-trigger",...e})}function X({...e}){return(0,S.jsx)(J.ZL,{"data-slot":"alert-dialog-portal",...e})}function ee({className:e,...t}){return(0,S.jsx)(J.hJ,{"data-slot":"alert-dialog-overlay",className:C("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function te({className:e,...t}){return(0,S.jsxs)(X,{children:[(0,S.jsx)(ee,{}),(0,S.jsx)(J.UC,{"data-slot":"alert-dialog-content",className:C("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function ie({className:e,...t}){return(0,S.jsx)("div",{"data-slot":"alert-dialog-header",className:C("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ae({className:e,...t}){return(0,S.jsx)("div",{"data-slot":"alert-dialog-footer",className:C("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function se({className:e,...t}){return(0,S.jsx)(J.hE,{"data-slot":"alert-dialog-title",className:C("text-lg font-semibold",e),...t})}function re({className:e,...t}){return(0,S.jsx)(J.VY,{"data-slot":"alert-dialog-description",className:C("text-muted-foreground text-sm",e),...t})}function ne({className:e,...t}){return(0,S.jsx)(J.rc,{className:C(P(),e),...t})}function le({className:e,...t}){return(0,S.jsx)(J.ZD,{className:C(P({variant:"outline"}),e),...t})}var oe=i(9201),de=i(5773);function ce({...e}){return(0,S.jsx)(oe.bL,{"data-slot":"select",...e})}function me({...e}){return(0,S.jsx)(oe.WT,{"data-slot":"select-value",...e})}function ue({className:e,size:t="default",children:i,...a}){return(0,S.jsxs)(oe.l9,{"data-slot":"select-trigger","data-size":t,className:C("border-border/60 data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-primary/50 focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex w-full items-center justify-between gap-2 rounded-sm border bg-card px-3 py-2 text-sm font-mono whitespace-nowrap transition-all duration-150 outline-none disabled:cursor-not-allowed disabled:opacity-40 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 hover:border-border",e),...a,children:[i,(0,S.jsx)(oe.In,{asChild:!0,children:(0,S.jsx)(m.A,{className:"size-4 opacity-50"})})]})}function pe({className:e,children:t,position:i="popper",...a}){return(0,S.jsx)(oe.ZL,{children:(0,S.jsxs)(oe.UC,{"data-slot":"select-content",className:C("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-sm border border-border/60 shadow-xl shadow-black/30","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:i,...a,children:[(0,S.jsx)(fe,{}),(0,S.jsx)(oe.LM,{className:C("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,S.jsx)(xe,{})]})})}function he({className:e,children:t,...i}){return(0,S.jsxs)(oe.q7,{"data-slot":"select-item",className:C("focus:bg-electric-blue-dim focus:text-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm font-mono outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-40 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2 transition-colors duration-100",e),...i,children:[(0,S.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,S.jsx)(oe.VF,{children:(0,S.jsx)(de.A,{className:"size-4 text-primary"})})}),(0,S.jsx)(oe.p4,{children:t})]})}function fe({className:e,...t}){return(0,S.jsx)(oe.PP,{"data-slot":"select-scroll-up-button",className:C("flex cursor-default items-center justify-center py-1",e),...t,children:(0,S.jsx)(c.A,{className:"size-4"})})}function xe({className:e,...t}){return(0,S.jsx)(oe.wn,{"data-slot":"select-scroll-down-button",className:C("flex cursor-default items-center justify-center py-1",e),...t,children:(0,S.jsx)(m.A,{className:"size-4"})})}function ge({className:e,...t}){return(0,S.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,S.jsx)("table",{"data-slot":"table",className:C("w-full caption-bottom text-sm font-mono",e),...t})})}function ve({className:e,...t}){return(0,S.jsx)("thead",{"data-slot":"table-header",className:C("[&_tr]:border-b [&_tr]:border-border/60 bg-muted/30",e),...t})}function be({className:e,...t}){return(0,S.jsx)("tbody",{"data-slot":"table-body",className:C("[&_tr:last-child]:border-0",e),...t})}function ye({className:e,...t}){return(0,S.jsx)("tr",{"data-slot":"table-row",className:C("hover:bg-electric-blue-dim/50 data-[state=selected]:bg-electric-blue-dim border-b border-border/30 transition-colors duration-100",e),...t})}function je({className:e,...t}){return(0,S.jsx)("th",{"data-slot":"table-head",className:C("text-muted-foreground h-10 px-3 text-left align-middle text-[0.6875rem] font-semibold tracking-wider uppercase whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Ae({className:e,...t}){return(0,S.jsx)("td",{"data-slot":"table-cell",className:C("px-3 py-2.5 align-middle text-[0.8125rem] whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] tabular-nums",e),...t})}const Ne=["Catastrophic","Hazardous","Major","Minor","NoEffect"],we=["Frequent","Probable","Occasional","Remote","ExtremelyRemote","ExtremelyImprobable"],Ce=["A","B","C","D","E"],Se=["Open","Mitigated","Monitoring","Closed"],ke=["All Phases","Preflight","Takeoff","Climb","Cruise","Descent","Approach","Landing","Post-flight"],Re=[10,25,50],Ee={Catastrophic:5,Hazardous:4,Major:3,Minor:2,NoEffect:1},Te={Frequent:6,Probable:5,Occasional:4,Remote:3,ExtremelyRemote:2,ExtremelyImprobable:1},Me={A:5,B:4,C:3,D:2,E:1};function De(e){switch(e){case"Catastrophic":return"destructive";case"Hazardous":case"Major":return"warning";case"Minor":return"info";default:return"secondary"}}function He(e){switch(e){case"Open":return"destructive";case"Mitigated":return"success";case"Monitoring":return"default";default:return"secondary"}}function ze(e){switch(e){case"A":return"destructive";case"B":case"C":return"warning";case"D":return"success";default:return"secondary"}}function Pe(e){switch(e){case"high":return"bg-critical-red/20 hover:bg-critical-red/30 text-critical-red border-critical-red/30";case"serious":return"bg-warning-amber/20 hover:bg-warning-amber/30 text-warning-amber border-warning-amber/30";case"medium":return"bg-warning-amber/10 hover:bg-warning-amber/15 text-warning-amber/80 border-warning-amber/20";case"low":return"bg-tactical-green/15 hover:bg-tactical-green/25 text-tactical-green border-tactical-green/30"}}function Fe(){const e=Date.now().toString(36).toUpperCase(),t=Math.random().toString(36).substring(2,5).toUpperCase();return`HAZ-${e.slice(-3)}${t}`}function Ie(e){switch(e){case"ExtremelyImprobable":return"Ext. Improbable";case"ExtremelyRemote":return"Ext. Remote";default:return e}}function qe({hazards:e}){const t=(0,a.useMemo)(()=>({A:e.filter(e=>"A"===e.dal).length,B:e.filter(e=>"B"===e.dal).length,C:e.filter(e=>"C"===e.dal).length,DE:e.filter(e=>"D"===e.dal||"E"===e.dal).length}),[e]),i=(0,a.useMemo)(()=>({open:e.filter(e=>"Open"===e.status).length,mitigated:e.filter(e=>"Mitigated"===e.status).length,monitoring:e.filter(e=>"Monitoring"===e.status).length}),[e]);return(0,S.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3 mb-6",children:[(0,S.jsx)(k,{className:"border-critical-red/20",children:(0,S.jsxs)(T,{className:"p-4",children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--critical-red)"},children:"DAL A (Critical)"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--critical-red)"},children:t.A})]})}),(0,S.jsx)(k,{className:"border-warning-amber/20",children:(0,S.jsxs)(T,{className:"p-4",children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--warning-amber)"},children:"DAL B (Hazardous)"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--warning-amber)"},children:t.B})]})}),(0,S.jsx)(k,{className:"border-warning-amber/15",children:(0,S.jsxs)(T,{className:"p-4",children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--warning-amber)"},children:"DAL C (Major)"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--warning-amber)"},children:t.C})]})}),(0,S.jsx)(k,{className:"border-tactical-green/20",children:(0,S.jsxs)(T,{className:"p-4",children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--tactical-green)"},children:"DAL D/E (Low)"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--tactical-green)"},children:t.DE})]})}),(0,S.jsx)(k,{className:"border-critical-red/20",children:(0,S.jsxs)(T,{className:"p-4",children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--critical-red)"},children:"Open"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--critical-red)"},children:i.open})]})}),(0,S.jsx)(k,{className:"border-electric-blue/20",children:(0,S.jsxs)(T,{className:"p-4",children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--electric-blue)"},children:"Monitoring"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--electric-blue)"},children:i.monitoring})]})}),(0,S.jsx)(k,{className:"border-tactical-green/20",children:(0,S.jsxs)(T,{className:"p-4",children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--tactical-green)"},children:"Mitigated"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--tactical-green)"},children:i.mitigated})]})})]})}function Be({hazards:e,onCellClick:t,activeFilter:i}){const s=(0,a.useMemo)(()=>{const t={};for(const i of e){const e=`${i.severity}-${i.likelihood}`;t[e]=(t[e]||0)+1}return t},[e]),n=["Frequent","Probable","Occasional","Remote","ExtremelyRemote","ExtremelyImprobable"];return(0,S.jsxs)(k,{className:"mb-6",children:[(0,S.jsx)(R,{className:"pb-2",children:(0,S.jsxs)(E,{className:"text-base flex items-center gap-2",children:[(0,S.jsx)(r.A,{className:"w-4 h-4",style:{color:"var(--electric-blue)"}}),"Risk Assessment Matrix"]})}),(0,S.jsxs)(T,{children:[(0,S.jsx)("div",{className:"overflow-x-auto",children:(0,S.jsxs)("table",{className:"w-full border-collapse text-xs font-mono",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{className:"p-2 border border-border/30 bg-muted/30 text-left text-muted-foreground uppercase tracking-wider text-[0.625rem]",children:"Severity / Likelihood"}),n.map(e=>(0,S.jsx)("th",{className:"p-2 border border-border/30 bg-muted/30 text-center min-w-[80px] text-muted-foreground uppercase tracking-wider text-[0.625rem]",children:Ie(e)},e))]})}),(0,S.jsx)("tbody",{children:["Catastrophic","Hazardous","Major","Minor","NoEffect"].map(e=>(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"p-2 border border-border/30 bg-muted/20 font-medium text-foreground/80 text-[0.6875rem]",children:e}),n.map(a=>{const r=s[`${e}-${a}`]||0,n=function(e,t){const i=Ee[e],a=Te[t];return i>=5&&a>=3||i>=4&&a>=4?"high":i>=5&&a>=2||i>=4&&a>=3||i>=3&&a>=4?"serious":i>=3&&a>=2||i>=2&&a>=4?"medium":"low"}(e,a),l=i.severity===e&&i.likelihood===a;return(0,S.jsx)("td",{className:C("p-2 border border-border/20 text-center cursor-pointer transition-all tactical-corners font-bold tabular-nums",Pe(n),l&&"ring-2 ring-electric-blue ring-offset-1 ring-offset-background"),onClick:()=>{l?t(null,null):t(e,a)},children:r>0?r:"-"},`${e}-${a}`)})]},e))})]})}),(0,S.jsxs)("div",{className:"flex flex-wrap gap-4 mt-4 text-xs font-mono",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:"var(--critical-red)",opacity:.6}}),(0,S.jsx)("span",{className:"text-muted-foreground uppercase tracking-wider",children:"High Risk"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:"var(--warning-amber)",opacity:.6}}),(0,S.jsx)("span",{className:"text-muted-foreground uppercase tracking-wider",children:"Serious"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:"var(--warning-amber)",opacity:.3}}),(0,S.jsx)("span",{className:"text-muted-foreground uppercase tracking-wider",children:"Medium"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:"var(--tactical-green)",opacity:.5}}),(0,S.jsx)("span",{className:"text-muted-foreground uppercase tracking-wider",children:"Low"})]})]})]})]})}function Ve({hazard:e,onClose:t,onEdit:i}){return(0,S.jsxs)(k,{className:"tactical-corners",style:{borderLeftWidth:"3px",borderLeftColor:"var(--electric-blue)"},children:[(0,S.jsx)(R,{className:"pb-2",children:(0,S.jsxs)("div",{className:"flex items-start justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)(E,{className:"text-lg flex items-center gap-2",children:[(0,S.jsx)(n.A,{className:"w-5 h-5",style:{color:"var(--warning-amber)"}}),(0,S.jsx)("span",{className:"font-mono",children:e.id}),": ",e.title]}),(0,S.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,S.jsx)(z,{variant:De(e.severity),children:e.severity}),(0,S.jsx)(z,{variant:He(e.status),children:e.status}),(0,S.jsxs)(z,{variant:ze(e.dal),children:["DAL ",e.dal]})]})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsxs)(F,{variant:"outline",size:"sm",onClick:i,children:[(0,S.jsx)(l.A,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,S.jsx)(F,{variant:"ghost",size:"icon",onClick:t,children:(0,S.jsx)(o.A,{className:"w-4 h-4"})})]})]})}),(0,S.jsxs)(T,{className:"space-y-6",children:[(0,S.jsx)("p",{className:"text-muted-foreground text-sm",children:e.description}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",children:"System Function"}),(0,S.jsx)("p",{className:"font-medium text-sm mt-1",children:e.systemFunction})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",children:"Failure Condition"}),(0,S.jsx)("p",{className:"font-medium text-sm mt-1",children:e.failureCondition})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",children:"Flight Phase"}),(0,S.jsx)("p",{className:"font-medium text-sm mt-1",children:e.phase})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",children:"Likelihood"}),(0,S.jsx)("p",{className:"font-medium text-sm mt-1",children:e.likelihood})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",children:"Owner"}),(0,S.jsx)("p",{className:"font-medium text-sm mt-1",children:e.owner})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",children:"Probability (per flight hour)"}),(0,S.jsx)("p",{className:"font-mono font-medium text-sm mt-1 tabular-nums",children:e.probabilityPerFlightHour?.toExponential(1)||"N/A"})]})]}),e.aircraftLevelEffect&&(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",children:"Aircraft Level Effect"}),(0,S.jsx)("p",{className:"mt-1 p-3 bg-muted/30 rounded-sm border border-border/30 text-sm",children:e.aircraftLevelEffect})]}),e.mitigationDetails&&e.mitigationDetails.length>0&&(0,S.jsxs)("div",{children:[(0,S.jsxs)("h4",{className:"font-semibold mb-3 flex items-center gap-2 uppercase tracking-wider text-sm",children:[(0,S.jsx)(r.A,{className:"w-4 h-4",style:{color:"var(--tactical-green)"}}),"Mitigations (",e.mitigationDetails.length,")"]}),(0,S.jsx)("div",{className:"space-y-3",children:e.mitigationDetails.map(e=>(0,S.jsx)("div",{className:"p-3 bg-muted/20 rounded-sm border border-border/30",children:(0,S.jsxs)("div",{className:"flex items-start justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:"font-medium text-sm",children:e.description}),(0,S.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Verification: ",e.verificationMethod]})]}),(0,S.jsxs)("div",{className:"text-right",children:[(0,S.jsx)(z,{variant:"Verified"===e.implementationStatus?"success":"Implemented"===e.implementationStatus?"default":"warning",children:e.implementationStatus}),(0,S.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 font-mono tabular-nums",children:["Effectiveness: ",(100*e.effectiveness).toFixed(1),"%"]})]})]})},e.id))})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("h4",{className:"font-semibold mb-3 flex items-center gap-2 uppercase tracking-wider text-sm",children:[(0,S.jsx)(d.A,{className:"w-4 h-4",style:{color:"var(--electric-blue)"}}),"Traceability"]}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,S.jsxs)("div",{className:"p-3 bg-muted/20 rounded-sm border border-border/30",children:[(0,S.jsx)("div",{className:"data-label",children:"Linked Requirements"}),(0,S.jsx)("p",{className:"font-mono font-medium text-sm mt-1",children:e.linkedRequirements?.length>0?e.linkedRequirements.join(", "):"None"})]}),(0,S.jsxs)("div",{className:"p-3 bg-muted/20 rounded-sm border border-border/30",children:[(0,S.jsx)("div",{className:"data-label",children:"Linked Fault Trees"}),(0,S.jsx)("p",{className:"font-mono font-medium text-sm mt-1",children:e.linkedFaultTrees?.length>0?e.linkedFaultTrees.join(", "):"None"})]}),(0,S.jsxs)("div",{className:"p-3 bg-muted/20 rounded-sm border border-border/30",children:[(0,S.jsx)("div",{className:"data-label",children:"Linked GSN Nodes"}),(0,S.jsx)("p",{className:"font-mono font-medium text-sm mt-1",children:e.linkedGSNNodes?.length>0?e.linkedGSNNodes.join(", "):"None"})]})]})]}),e.notes&&(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",children:"Notes"}),(0,S.jsx)("p",{className:"mt-1 p-3 rounded-sm text-sm border",style:{backgroundColor:"var(--warning-amber-dim)",borderColor:"rgba(245, 158, 11, 0.15)"},children:e.notes})]})]})]})}function Le({hazard:e,onSave:t,onCancel:i}){const[s,r]=(0,a.useState)({id:e?.id||Fe(),title:e?.title||"",description:e?.description||"",systemFunction:e?.systemFunction||"",failureCondition:e?.failureCondition||"",severity:e?.severity||"Major",likelihood:e?.likelihood||"Remote",dal:e?.dal||"C",phase:e?.phase||"All Phases",owner:e?.owner||"",status:e?.status||"Open"});return(0,S.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(s)},className:"space-y-4",children:[(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"id",children:"Hazard ID"}),(0,S.jsx)(I,{id:"id",value:s.id,disabled:!0,className:"opacity-60"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"status",children:"Status"}),(0,S.jsxs)(ce,{value:s.status,onValueChange:e=>r({...s,status:e}),children:[(0,S.jsx)(ue,{id:"status",children:(0,S.jsx)(me,{})}),(0,S.jsx)(pe,{children:Se.map(e=>(0,S.jsx)(he,{value:e,children:e},e))})]})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"title",children:"Title"}),(0,S.jsx)(I,{id:"title",value:s.title,onChange:e=>r({...s,title:e.target.value}),required:!0})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"description",children:"Description"}),(0,S.jsx)("textarea",{id:"description",value:s.description,onChange:e=>r({...s,description:e.target.value}),className:"flex min-h-[80px] w-full rounded-sm border border-border/60 bg-card px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:border-primary/50 focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background transition-all duration-150",required:!0})]}),(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"systemFunction",children:"System Function"}),(0,S.jsx)(I,{id:"systemFunction",value:s.systemFunction,onChange:e=>r({...s,systemFunction:e.target.value})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"failureCondition",children:"Failure Condition"}),(0,S.jsx)(I,{id:"failureCondition",value:s.failureCondition,onChange:e=>r({...s,failureCondition:e.target.value})})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"severity",children:"Severity"}),(0,S.jsxs)(ce,{value:s.severity,onValueChange:e=>r({...s,severity:e}),children:[(0,S.jsx)(ue,{id:"severity",children:(0,S.jsx)(me,{})}),(0,S.jsx)(pe,{children:Ne.map(e=>(0,S.jsx)(he,{value:e,children:e},e))})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"likelihood",children:"Likelihood"}),(0,S.jsxs)(ce,{value:s.likelihood,onValueChange:e=>r({...s,likelihood:e}),children:[(0,S.jsx)(ue,{id:"likelihood",children:(0,S.jsx)(me,{})}),(0,S.jsx)(pe,{children:we.map(e=>(0,S.jsx)(he,{value:e,children:Ie(e)},e))})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"dal",children:"Design Assurance Level"}),(0,S.jsxs)(ce,{value:s.dal,onValueChange:e=>r({...s,dal:e}),children:[(0,S.jsx)(ue,{id:"dal",children:(0,S.jsx)(me,{})}),(0,S.jsx)(pe,{children:Ce.map(e=>(0,S.jsxs)(he,{value:e,children:["DAL ",e]},e))})]})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"phase",children:"Flight Phase"}),(0,S.jsxs)(ce,{value:s.phase,onValueChange:e=>r({...s,phase:e}),children:[(0,S.jsx)(ue,{id:"phase",children:(0,S.jsx)(me,{})}),(0,S.jsx)(pe,{children:ke.map(e=>(0,S.jsx)(he,{value:e,children:e},e))})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{htmlFor:"owner",children:"Owner"}),(0,S.jsx)(I,{id:"owner",value:s.owner,onChange:e=>r({...s,owner:e.target.value})})]})]}),(0,S.jsxs)(U,{children:[(0,S.jsx)(F,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),(0,S.jsx)(F,{type:"submit",children:e?"Update Hazard":"Create Hazard"})]})]})}function Ze(){const[e,t]=(0,a.useState)(g),[i,s]=(0,a.useState)(null),[r,n]=(0,a.useState)(null),[d,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[j,A]=(0,a.useState)("id"),[N,w]=(0,a.useState)("asc"),[R,E]=(0,a.useState)({severity:"",status:"",dal:"",owner:"",search:""}),[M,D]=(0,a.useState)({severity:null,likelihood:null}),[H,P]=(0,a.useState)(!1),[q,V]=(0,a.useState)(1),[O,Q]=(0,a.useState)(10),U=(0,a.useMemo)(()=>{const t=new Set(e.map(e=>e.owner));return Array.from(t).sort()},[e]),J=(0,a.useMemo)(()=>e.filter(e=>{if(M.severity&&e.severity!==M.severity)return!1;if(M.likelihood&&e.likelihood!==M.likelihood)return!1;if(R.severity&&e.severity!==R.severity)return!1;if(R.status&&e.status!==R.status)return!1;if(R.dal&&e.dal!==R.dal)return!1;if(R.owner&&e.owner!==R.owner)return!1;if(R.search){const t=R.search.toLowerCase();return e.id.toLowerCase().includes(t)||e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)}return!0}),[e,R,M]),X=(0,a.useMemo)(()=>[...J].sort((e,t)=>{let i=0;switch(j){case"id":i=e.id.localeCompare(t.id);break;case"title":i=e.title.localeCompare(t.title);break;case"severity":i=Ee[t.severity]-Ee[e.severity];break;case"likelihood":i=Te[t.likelihood]-Te[e.likelihood];break;case"dal":i=Me[t.dal]-Me[e.dal];break;case"status":i=e.status.localeCompare(t.status);break;case"owner":i=e.owner.localeCompare(t.owner)}return"asc"===N?i:-i}),[J,j,N]),ee=(0,a.useMemo)(()=>{const e=(q-1)*O;return X.slice(e,e+O)},[X,q,O]),oe=Math.ceil(X.length/O),de=(0,a.useCallback)(e=>{A(t=>t===e?(w(e=>"asc"===e?"desc":"asc"),e):(w("asc"),e))},[]),fe=(0,a.useCallback)((e,t)=>{D({severity:e,likelihood:t}),V(1)},[]),xe=(0,a.useCallback)(e=>{if(b){const i={...e,riskScore:Ee[e.severity]*Te[e.likelihood],mitigationDetails:[],linkedRequirements:[],linkedFaultTrees:[],linkedGSNNodes:[],aircraftLevelEffect:"",initialRisk:{score:0,level:"Acceptable"},residualRisk:{score:0,level:"Acceptable"},relatedRequirements:[],dateIdentified:(new Date).toISOString().split("T")[0],dateReviewed:(new Date).toISOString().split("T")[0]};t(e=>[...e,i])}else t(t=>t.map(t=>t.id===e.id?{...t,...e,riskScore:Ee[e.severity]*Te[e.likelihood]}:t));v(!1),n(null),y(!1)},[b]),we=(0,a.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e)),i?.id===e&&s(null)},[i]),ke=(0,a.useCallback)(()=>{const e=X.map(e=>[e.id,`"${e.title.replace(/"/g,'""')}"`,`"${e.systemFunction.replace(/"/g,'""')}"`,`"${e.failureCondition.replace(/"/g,'""')}"`,e.phase,e.severity,e.likelihood,e.probabilityPerFlightHour?.toExponential(1)||"N/A",e.dal,`"${e.mitigationDetails?.map(e=>e.description).join("; ").replace(/"/g,'""')||""}"`,e.status]),t=[["ID","Title","System Function","Failure Condition","Phase","Severity","Likelihood","Probability","DAL","Mitigation","Status"].join(","),...e.map(e=>e.join(","))].join("\n"),i=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=`hazard_analysis_${(new Date).toISOString().split("T")[0]}.csv`,s.click(),URL.revokeObjectURL(a)},[X]),Pe=(0,a.useCallback)(()=>{E({severity:"",status:"",dal:"",owner:"",search:""}),D({severity:null,likelihood:null}),V(1)},[]),Fe=({field:e,children:t})=>(0,S.jsx)(je,{className:"cursor-pointer hover:bg-electric-blue-dim/50 select-none",onClick:()=>de(e),children:(0,S.jsxs)("div",{className:"flex items-center gap-1",children:[t,j===e&&("asc"===N?(0,S.jsx)(c.A,{className:"w-3 h-3"}):(0,S.jsx)(m.A,{className:"w-3 h-3"}))]})});return(0,S.jsxs)("div",{className:"space-y-6",children:[(0,S.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h2",{className:"text-xl font-semibold tracking-tight",children:"Hazard Registry"}),(0,S.jsx)("p",{className:"text-muted-foreground text-sm mt-1 font-mono text-xs tracking-wider uppercase",children:"Functional Hazard Assessment per ARP4761A"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsxs)(F,{variant:"outline",size:"sm",onClick:ke,children:[(0,S.jsx)(u.A,{className:"w-4 h-4 mr-1"}),"Export CSV"]}),(0,S.jsxs)(L,{open:d,onOpenChange:v,children:[(0,S.jsx)(Z,{asChild:!0,children:(0,S.jsxs)(F,{size:"sm",onClick:()=>{y(!0),n(null)},children:[(0,S.jsx)(p.A,{className:"w-4 h-4 mr-1"}),"New Hazard"]})}),(0,S.jsxs)(G,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,S.jsxs)(_,{children:[(0,S.jsx)($,{children:b?"Create New Hazard":"Edit Hazard"}),(0,S.jsx)(W,{children:b?"Add a new hazard to the registry":`Editing hazard ${r?.id}`})]}),(0,S.jsx)(Le,{hazard:r,onSave:xe,onCancel:()=>{v(!1),n(null),y(!1)}})]})]})]})]}),(0,S.jsx)(qe,{hazards:e}),(0,S.jsx)(Be,{hazards:e,onCellClick:fe,activeFilter:M}),(0,S.jsx)(k,{children:(0,S.jsxs)(T,{className:"p-4",children:[(0,S.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[(0,S.jsxs)("div",{className:"relative flex-1",children:[(0,S.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,S.jsx)(I,{placeholder:"Search hazards...",value:R.search,onChange:e=>{E(t=>({...t,search:e.target.value})),V(1)},className:"pl-9"})]}),(0,S.jsxs)(F,{variant:"outline",size:"sm",onClick:()=>P(!H),className:C(H&&"bg-electric-blue-dim border-electric-blue/30"),children:[(0,S.jsx)(f.A,{className:"w-4 h-4 mr-1"}),"Filters",(R.severity||R.status||R.dal||R.owner)&&(0,S.jsx)(z,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center",children:[R.severity,R.status,R.dal,R.owner].filter(Boolean).length})]}),(R.severity||R.status||R.dal||R.owner||M.severity)&&(0,S.jsxs)(F,{variant:"ghost",size:"sm",onClick:Pe,children:[(0,S.jsx)(o.A,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),H&&(0,S.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 pt-4 border-t border-border/30",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{className:"data-label",children:"Severity"}),(0,S.jsxs)(ce,{value:R.severity,onValueChange:e=>{E(t=>({...t,severity:"all"===e?"":e})),V(1)},children:[(0,S.jsx)(ue,{size:"sm",children:(0,S.jsx)(me,{placeholder:"All"})}),(0,S.jsxs)(pe,{children:[(0,S.jsx)(he,{value:"all",children:"All"}),Ne.map(e=>(0,S.jsx)(he,{value:e,children:e},e))]})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{className:"data-label",children:"Status"}),(0,S.jsxs)(ce,{value:R.status,onValueChange:e=>{E(t=>({...t,status:"all"===e?"":e})),V(1)},children:[(0,S.jsx)(ue,{size:"sm",children:(0,S.jsx)(me,{placeholder:"All"})}),(0,S.jsxs)(pe,{children:[(0,S.jsx)(he,{value:"all",children:"All"}),Se.map(e=>(0,S.jsx)(he,{value:e,children:e},e))]})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{className:"data-label",children:"DAL"}),(0,S.jsxs)(ce,{value:R.dal,onValueChange:e=>{E(t=>({...t,dal:"all"===e?"":e})),V(1)},children:[(0,S.jsx)(ue,{size:"sm",children:(0,S.jsx)(me,{placeholder:"All"})}),(0,S.jsxs)(pe,{children:[(0,S.jsx)(he,{value:"all",children:"All"}),Ce.map(e=>(0,S.jsxs)(he,{value:e,children:["DAL ",e]},e))]})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{className:"data-label",children:"Owner"}),(0,S.jsxs)(ce,{value:R.owner,onValueChange:e=>{E(t=>({...t,owner:"all"===e?"":e})),V(1)},children:[(0,S.jsx)(ue,{size:"sm",children:(0,S.jsx)(me,{placeholder:"All"})}),(0,S.jsxs)(pe,{children:[(0,S.jsx)(he,{value:"all",children:"All"}),U.map(e=>(0,S.jsx)(he,{value:e,children:e},e))]})]})]})]})]})}),(0,S.jsx)(k,{children:(0,S.jsxs)(T,{className:"p-0",children:[(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(Fe,{field:"id",children:"ID"}),(0,S.jsx)(Fe,{field:"title",children:"Title"}),(0,S.jsx)(Fe,{field:"severity",children:"Severity"}),(0,S.jsx)(Fe,{field:"likelihood",children:"Likelihood"}),(0,S.jsx)(Fe,{field:"dal",children:"DAL"}),(0,S.jsx)(Fe,{field:"status",children:"Status"}),(0,S.jsx)(Fe,{field:"owner",children:"Owner"}),(0,S.jsx)(je,{className:"w-[100px]",children:"Actions"})]})}),(0,S.jsx)(be,{children:0===ee.length?(0,S.jsx)(ye,{children:(0,S.jsx)(Ae,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No hazards found matching your criteria"})}):ee.map(e=>(0,S.jsxs)(ye,{className:C("cursor-pointer",i?.id===e.id&&"bg-electric-blue-dim"),onClick:()=>s(e),children:[(0,S.jsx)(Ae,{className:"font-mono text-sm",children:e.id}),(0,S.jsx)(Ae,{className:"max-w-[200px] truncate",children:e.title}),(0,S.jsx)(Ae,{children:(0,S.jsx)(z,{variant:De(e.severity),children:e.severity})}),(0,S.jsx)(Ae,{className:"text-sm font-mono",children:Ie(e.likelihood)}),(0,S.jsx)(Ae,{children:(0,S.jsxs)(z,{variant:ze(e.dal),children:["DAL ",e.dal]})}),(0,S.jsx)(Ae,{children:(0,S.jsx)(z,{variant:He(e.status),children:e.status})}),(0,S.jsx)(Ae,{className:"text-sm",children:e.owner}),(0,S.jsx)(Ae,{children:(0,S.jsxs)("div",{className:"flex items-center gap-1",children:[(0,S.jsx)(F,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:t=>{t.stopPropagation(),n(e),y(!1),v(!0)},children:(0,S.jsx)(l.A,{className:"w-4 h-4"})}),(0,S.jsxs)(K,{children:[(0,S.jsx)(Y,{asChild:!0,children:(0,S.jsx)(F,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-critical-red-dim",style:{color:"var(--critical-red)"},onClick:e=>e.stopPropagation(),children:(0,S.jsx)(x.A,{className:"w-4 h-4"})})}),(0,S.jsxs)(te,{children:[(0,S.jsxs)(ie,{children:[(0,S.jsx)(se,{children:"Delete Hazard"}),(0,S.jsxs)(re,{children:["Are you sure you want to delete hazard ",e.id,"? This action cannot be undone."]})]}),(0,S.jsxs)(ae,{children:[(0,S.jsx)(le,{children:"Cancel"}),(0,S.jsx)(ne,{className:"bg-critical-red hover:bg-critical-red/80 text-white",onClick:()=>we(e.id),children:"Delete"})]})]})]})]})})]},e.id))})]}),(0,S.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border/30",children:[(0,S.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground font-mono text-xs",children:[(0,S.jsxs)("span",{className:"tabular-nums",children:["Showing ",(q-1)*O+1," to"," ",Math.min(q*O,X.length)," of ",X.length]}),(0,S.jsxs)(ce,{value:O.toString(),onValueChange:e=>{Q(Number(e)),V(1)},children:[(0,S.jsx)(ue,{className:"w-[80px]",size:"sm",children:(0,S.jsx)(me,{})}),(0,S.jsx)(pe,{children:Re.map(e=>(0,S.jsx)(he,{value:e.toString(),children:e},e))})]}),(0,S.jsx)("span",{className:"uppercase tracking-wider",children:"per page"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)(F,{variant:"outline",size:"sm",disabled:1===q,onClick:()=>V(e=>e-1),children:"Previous"}),(0,S.jsxs)("span",{className:"text-sm text-muted-foreground font-mono tabular-nums",children:["Page ",q," of ",oe]}),(0,S.jsx)(F,{variant:"outline",size:"sm",disabled:q===oe,onClick:()=>V(e=>e+1),children:"Next"})]})]})]})}),i&&(0,S.jsx)(Ve,{hazard:i,onClose:()=>s(null),onEdit:()=>{n(i),y(!1),v(!0)}})]})}var Oe=i(1805),Qe=i(8834),Ge=i(690),_e=i(5005),Ue=i(3160),$e=i(3540),We=i(1745),Je=i(942),Ke=i(719),Ye=i(8e3),Xe=i(9014);function et({className:e,...t}){return(0,S.jsx)(Xe.bL,{"data-slot":"switch",className:C("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,S.jsx)(Xe.zi,{"data-slot":"switch-thumb",className:C("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var tt=i(803);function it({className:e,defaultValue:t,value:i,min:s=0,max:r=100,...n}){const l=a.useMemo(()=>Array.isArray(i)?i:Array.isArray(t)?t:[s,r],[i,t,s,r]);return(0,S.jsxs)(tt.bL,{"data-slot":"slider",defaultValue:t,value:i,min:s,max:r,className:C("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...n,children:[(0,S.jsx)(tt.CC,{"data-slot":"slider-track",className:C("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,S.jsx)(tt.Q6,{"data-slot":"slider-range",className:C("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(e,t)=>(0,S.jsx)(tt.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}var at=i(8731);function st({className:e,value:t,...i}){return(0,S.jsx)(at.bL,{"data-slot":"progress",className:C("bg-muted relative h-1.5 w-full overflow-hidden rounded-sm",e),...i,children:(0,S.jsx)(at.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all duration-300 ease-out shadow-[0_0_8px_var(--electric-blue-glow)]",style:{transform:`translateX(-${100-(t||0)}%)`}})})}var rt=i(6128);function nt({delayDuration:e=0,...t}){return(0,S.jsx)(rt.Kq,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function lt({...e}){return(0,S.jsx)(nt,{children:(0,S.jsx)(rt.bL,{"data-slot":"tooltip",...e})})}function ot({...e}){return(0,S.jsx)(rt.l9,{"data-slot":"tooltip-trigger",...e})}function dt({className:e,sideOffset:t=0,children:i,...a}){return(0,S.jsx)(rt.ZL,{children:(0,S.jsxs)(rt.UC,{"data-slot":"tooltip-content",sideOffset:t,className:C("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...a,children:[i,(0,S.jsx)(rt.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function ct(e,t){if(t<0||t>e)return 0;if(0===t||t===e)return 1;const i=Math.min(t,e-t);let a=1;for(let s=0;s<i;s++)a=a*(e-s)/(s+1);return Math.round(a)}function mt(e,t,i){if(0===t.length)throw new Error("Gate must have at least one input");for(const a of t)if(a<0||a>1)throw new Error(`Invalid probability: ${a}. Must be between 0 and 1`);switch(e){case"AND":case"INHIBIT":return t.reduce((e,t)=>e*t,1);case"OR":return 1-t.reduce((e,t)=>e*(1-t),1);case"VOTING":{if(void 0===i)throw new Error("Voting gate requires votingThreshold parameter");const e=t.length,a=i;if(a<1||a>e)throw new Error(`Invalid voting threshold: ${a}. Must be between 1 and ${e}`);if(t.every(e=>Math.abs(e-t[0])<1e-10)){const i=t[0];let s=0;for(let t=a;t<=e;t++)s+=ct(e,t)*Math.pow(i,t)*Math.pow(1-i,e-t);return s}return function(e,t){const i=e.length;let a=0;for(let r=t;r<=i;r++){const t=pt(i,r);for(const a of t){let t=1;for(let s=0;s<i;s++)a.includes(s)?t*=e[s]:t*=1-e[s]}}const s=Math.pow(2,i);a=0;for(let r=0;r<s;r++){if(ut(r)>=t){let t=1;for(let a=0;a<i;a++)t*=r&1<<a?e[a]:1-e[a];a+=t}}return a}(t,a)}case"NOT":if(1!==t.length)throw new Error("NOT gate must have exactly one input");return 1-t[0];case"TRANSFER":if(1!==t.length)throw new Error("TRANSFER gate must have exactly one input");return t[0];default:throw new Error(`Unknown gate type: ${e}`)}}function ut(e){let t=0;for(;e>0;)t+=1&e,e>>=1;return t}function pt(e,t){const i=[];return function a(s,r){if(r.length!==t)for(let t=s;t<e;t++)r.push(t),a(t+1,r),r.pop();else i.push([...r])}(0,[]),i}function ht(e){const t=structuredClone(e);return ft(t),t}function ft(e){if("basic-event"===e.type||"undeveloped"===e.type||"house-event"===e.type)return void 0===e.probability&&void 0!==e.failureRate&&void 0!==e.exposureTime&&(e.probability=function(e,t){if(e<0)throw new Error("Failure rate must be non-negative");if(t<0)throw new Error("Exposure time must be non-negative");return 1-Math.exp(-e*t)}(e.failureRate,e.exposureTime)),e.probability??0;if(!e.children||0===e.children.length)return e.probability??0;const t=e.children.map(e=>ft(e));return e.gate?e.probability=mt(e.gate,t,e.votingThreshold):e.probability=mt("OR",t),e.probability}function xt(e){if(null==e)return"N/A";if(0===e)return"0";if(e<1e-12)return"< 1x10^-12";const t=Math.floor(Math.log10(e)),i=e/Math.pow(10,t),a=["\u2070","\xb9","\xb2","\xb3","\u2074","\u2075","\u2076","\u2077","\u2078","\u2079"];return`${i.toFixed(2)}x10${(e=>{const t=Math.abs(e).toString().split("").map(e=>a[parseInt(e)]).join("");return e<0?"\u207b"+t:t})(t)}`}function gt(e,t){if(e<=0)return 100;if(t<=0)return 0;if(e<=t)return 100;const i=t/e;return Math.min(Math.max(100*i,0),100)}function vt(e){switch(e){case"top-event":return"border-critical-red/50 text-foreground glow-red";case"intermediate":return"border-electric-blue/40 text-foreground";case"basic-event":return"border-tactical-green/40 text-foreground glow-green";case"undeveloped":return"border-warning-amber/40 text-foreground";case"house-event":return"border-info-cyan/40 text-foreground";default:return"border-border/40 text-foreground"}}function bt(e){switch(e){case"top-event":return(0,S.jsx)(Oe.A,{className:"w-4 h-4",style:{color:"var(--critical-red)"}});case"intermediate":return(0,S.jsx)(Qe.A,{className:"w-4 h-4",style:{color:"var(--electric-blue)"}});case"basic-event":return(0,S.jsx)(Ge.A,{className:"w-4 h-4 fill-current",style:{color:"var(--tactical-green)"}});case"undeveloped":return(0,S.jsx)("div",{className:"w-4 h-4 border-2 rounded-full relative",style:{borderColor:"var(--warning-amber)"},children:(0,S.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] font-bold",style:{color:"var(--warning-amber)"},children:"?"})});case"house-event":return(0,S.jsx)(Oe.A,{className:"w-4 h-4",style:{color:"var(--info-cyan)"}});default:return null}}function yt({event:e,onUpdate:t,open:i,onOpenChange:s}){const[r,n]=(0,a.useState)(e.failureRate??0),[l,o]=(0,a.useState)(e.exposureTime??1),d=(0,a.useMemo)(()=>1-Math.exp(-r*l),[r,l]);return(0,S.jsx)(L,{open:i,onOpenChange:s,children:(0,S.jsxs)(G,{className:"sm:max-w-md",children:[(0,S.jsx)(_,{children:(0,S.jsxs)($,{children:["Edit Basic Event: ",e.id]})}),(0,S.jsxs)("div",{className:"space-y-4 py-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(B,{className:"text-sm font-medium",children:"Event Label"}),(0,S.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.label})]}),(0,S.jsxs)("div",{className:"space-y-2",children:[(0,S.jsx)(B,{htmlFor:"failureRate",children:"Failure Rate (\u03bb) [per hour]"}),(0,S.jsx)(I,{id:"failureRate",type:"number",step:"1e-10",value:r,onChange:e=>n(parseFloat(e.target.value)||0),className:"font-mono"}),(0,S.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Current: ",xt(r)," per hour"]})]}),(0,S.jsxs)("div",{className:"space-y-2",children:[(0,S.jsx)(B,{htmlFor:"exposureTime",children:"Exposure Time [hours]"}),(0,S.jsx)(I,{id:"exposureTime",type:"number",step:"0.1",min:"0",value:l,onChange:e=>o(parseFloat(e.target.value)||1),className:"font-mono"})]}),(0,S.jsxs)("div",{className:"border-t pt-4",children:[(0,S.jsx)(B,{children:"Calculated Probability"}),(0,S.jsxs)("p",{className:"font-mono text-lg mt-1",children:["P = 1 - e",(0,S.jsx)("sup",{children:"-\u03bbt"})," = ",xt(d)]}),(0,S.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Using exponential distribution: P = 1 - e^(-",xt(r)," x ",l,"h)"]})]})]}),(0,S.jsxs)(U,{children:[(0,S.jsx)(F,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,S.jsx)(F,{onClick:()=>{t({...e,failureRate:r,exposureTime:l,probability:d}),s(!1)},children:"Save Changes"})]})]})})}function jt({node:e,level:t,showProbabilities:i,highlightCutSets:a,cutSetEventIds:s,singlePointThreshold:r,expandedNodes:l,onToggleExpand:o,onEditNode:d,zoom:c}){const u=e.children&&e.children.length>0,p=l.has(e.id),h=e.probability??e.failureData?.probability,f="basic-event"===e.type&&void 0!==h&&h>r,x=a&&s.has(e.id),g="string"==typeof e.gate?e.gate:e.gate?.type,v="object"==typeof e.gate?e.gate?.votingThreshold:e.votingThreshold;return(0,S.jsx)("div",{className:"relative",style:{fontSize:`${Math.max(.75,c)}rem`,transform:`scale(${Math.max(.5,c/100)})`,transformOrigin:"top left"},children:(0,S.jsxs)("div",{className:"flex items-start gap-2",children:[u&&(0,S.jsx)("button",{onClick:()=>o(e.id),className:"mt-2 text-muted-foreground hover:text-foreground flex-shrink-0 transition-transform",style:{transform:p?"rotate(0deg)":"rotate(-90deg)"},children:(0,S.jsx)(m.A,{className:"w-5 h-5"})}),!u&&(0,S.jsx)("div",{className:"w-5"}),(0,S.jsxs)("div",{className:"flex-1",children:[(0,S.jsx)("div",{className:C("border-2 rounded-sm p-3 transition-all tactical-corners",vt(e.type),f&&"border-critical-red ring-2 ring-critical-red/30",x&&"ring-2 ring-warning-amber/40"),style:{backgroundColor:"var(--bg-elevated)"},children:(0,S.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,S.jsxs)("div",{className:"flex-1",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[bt(e.type),(()=>{if(!g)return null;let t="",i=g;switch(g){case"AND":t="\u2227";break;case"OR":t="\u2228";break;case"VOTING":t=`${v}/${e.children?.length||"n"}`,i=`VOTING ${v}/${e.children?.length||"n"}`;break;case"NOT":t="\xac";break;case"INHIBIT":t="\u22b2";break;default:t=g}return(0,S.jsxs)(lt,{children:[(0,S.jsx)(ot,{asChild:!0,children:(0,S.jsx)(z,{variant:"secondary",className:"text-xs px-2 py-0.5 font-mono",children:t})}),(0,S.jsxs)(dt,{children:[i," Gate"]})]})})(),(0,S.jsx)("span",{className:"text-xs opacity-70 font-mono",children:e.id}),f&&(0,S.jsxs)(lt,{children:[(0,S.jsx)(ot,{children:(0,S.jsx)(n.A,{className:"w-4 h-4 text-critical-red"})}),(0,S.jsxs)(dt,{children:["Single-Point Failure Warning: Probability exceeds ",xt(r)]})]}),"basic-event"===e.type&&(0,S.jsx)("button",{onClick:()=>d(e),className:"ml-auto p-1 hover:bg-electric-blue-dim/50 rounded",children:(0,S.jsx)(_e.A,{className:"w-3 h-3"})})]}),(0,S.jsx)("div",{className:"mt-1 font-medium",children:e.label}),e.description&&(0,S.jsx)("div",{className:"mt-1 text-xs opacity-70",children:e.description})]}),i&&void 0!==h&&(0,S.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,S.jsx)("div",{className:"text-xs opacity-70",children:"Probability"}),(0,S.jsx)("div",{className:"font-mono text-sm",children:xt(h)}),"basic-event"===e.type&&void 0!==e.failureRate&&(0,S.jsxs)("div",{className:"text-xs opacity-60 mt-1",children:["\u03bb = ",xt(e.failureRate),"/hr"]})]})]})}),u&&p&&(0,S.jsx)("div",{className:"ml-6 mt-3 border-l-2 border-border/40 pl-4 space-y-3",children:e.children.map(e=>(0,S.jsx)(jt,{node:e,level:t+1,showProbabilities:i,highlightCutSets:a,cutSetEventIds:s,singlePointThreshold:r,expandedNodes:l,onToggleExpand:o,onEditNode:d,zoom:c},e.id))})]})]})})}function At({tree:e}){const t={value:1e-9,label:"DAL A: Catastrophic"},i={value:1e-7,label:"DAL B: Hazardous"},a={value:1e-5,label:"DAL C: Major"},s=e.topEventProbability,r=s<=t.value,n=s<=i.value,l=s<=a.value;return(0,S.jsxs)("div",{className:"rounded-sm border border-border/40 p-4 space-y-6",children:[(0,S.jsx)("h3",{className:"text-lg font-semibold",children:"Quantitative Analysis Results"}),(0,S.jsxs)("div",{className:"space-y-2",children:[(0,S.jsxs)("div",{className:"flex justify-between items-center",children:[(0,S.jsx)("span",{className:"text-muted-foreground",children:"Top Event Probability:"}),(0,S.jsx)("span",{className:"font-mono text-xl font-bold",children:xt(s)})]}),(0,S.jsx)("p",{className:"text-sm text-muted-foreground",children:"per flight hour"})]}),(0,S.jsxs)("div",{className:"space-y-4",children:[(0,S.jsx)("h4",{className:"font-medium text-sm text-foreground/80",children:"Target Compliance"}),(0,S.jsxs)("div",{className:"space-y-1",children:[(0,S.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,S.jsx)("span",{children:t.label}),(0,S.jsxs)("span",{className:"font-mono",children:["\u2264 ",xt(t.value)]})]}),(0,S.jsx)(st,{value:gt(s,t.value),className:C("h-3",r?"[&>div]:bg-tactical-green":"[&>div]:bg-critical-red")}),(0,S.jsx)("div",{className:C("text-sm font-medium",r?"text-tactical-green":"text-critical-red"),children:r?"\u2713 Meets target":"\u2717 Exceeds target"})]}),(0,S.jsxs)("div",{className:"space-y-1",children:[(0,S.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,S.jsx)("span",{children:i.label}),(0,S.jsxs)("span",{className:"font-mono",children:["\u2264 ",xt(i.value)]})]}),(0,S.jsx)(st,{value:gt(s,i.value),className:C("h-3",n?"[&>div]:bg-tactical-green":"[&>div]:bg-warning-amber")}),(0,S.jsx)("div",{className:C("text-sm font-medium",n?"text-tactical-green":"text-warning-amber"),children:n?"\u2713 Meets target":"\u2717 Exceeds target"})]}),(0,S.jsxs)("div",{className:"space-y-1",children:[(0,S.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,S.jsx)("span",{children:a.label}),(0,S.jsxs)("span",{className:"font-mono",children:["\u2264 ",xt(a.value)]})]}),(0,S.jsx)(st,{value:gt(s,a.value),className:C("h-3",l?"[&>div]:bg-tactical-green":"[&>div]:bg-electric-blue")}),(0,S.jsx)("div",{className:C("text-sm font-medium",l?"text-tactical-green":"text-electric-blue"),children:l?"\u2713 Meets target":"\u2717 Exceeds target"})]})]}),(0,S.jsxs)("div",{className:"border-t pt-4 space-y-2 text-sm",children:[(0,S.jsxs)("div",{className:"flex justify-between",children:[(0,S.jsx)("span",{className:"text-muted-foreground",children:"Analysis Type:"}),(0,S.jsx)(z,{variant:"outline",children:e.analysisType})]}),(0,S.jsxs)("div",{className:"flex justify-between",children:[(0,S.jsx)("span",{className:"text-muted-foreground",children:"Analysis Date:"}),(0,S.jsx)("span",{children:e.analysisDate})]}),(0,S.jsxs)("div",{className:"flex justify-between",children:[(0,S.jsx)("span",{className:"text-muted-foreground",children:"Analyst:"}),(0,S.jsx)("span",{children:e.analyst})]}),(0,S.jsxs)("div",{className:"flex justify-between",children:[(0,S.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,S.jsx)(z,{variant:"Approved"===e.approvalStatus?"default":"secondary",children:e.approvalStatus})]})]})]})}function Nt({cutSets:e,topEventProbability:t}){const i=(0,a.useMemo)(()=>[...e].sort((e,t)=>e.order!==t.order?e.order-t.order:(t.probability??0)-(e.probability??0)),[e]),s=e.filter(e=>1===e.order).length;return(0,S.jsxs)("div",{className:"rounded-sm border border-border/40 p-4 space-y-4",children:[(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsx)("h3",{className:"text-lg font-semibold",children:"Minimal Cut Sets"}),(0,S.jsxs)(z,{variant:"outline",children:[e.length," total"]})]}),s>0&&(0,S.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-critical-red-dim border border-critical-red/30 rounded-lg",children:[(0,S.jsx)(n.A,{className:"w-5 h-5 text-critical-red"}),(0,S.jsxs)("span",{className:"text-sm text-critical-red",children:["Warning: ",s," single-point failure",s>1?"s":""," identified"]})]}),(0,S.jsx)("div",{className:"overflow-x-auto",children:(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{className:"w-16",children:"Order"}),(0,S.jsx)(je,{children:"Basic Events"}),(0,S.jsx)(je,{className:"text-right",children:"Probability"}),(0,S.jsx)(je,{className:"text-right w-24",children:"Contribution"})]})}),(0,S.jsx)(be,{children:i.map(e=>{const i=t>0?(e.probability??0)/t*100:0;return(0,S.jsxs)(ye,{className:C(1===e.order&&"bg-critical-red-dim"),children:[(0,S.jsx)(Ae,{children:(0,S.jsx)(z,{variant:1===e.order?"destructive":"secondary",className:"font-mono",children:e.order})}),(0,S.jsxs)(Ae,{children:[(0,S.jsx)("div",{className:"flex flex-wrap gap-1",children:e.basicEventIds.map((e,t)=>(0,S.jsxs)(a.Fragment,{children:[t>0&&(0,S.jsx)("span",{className:"text-muted-foreground/70",children:"\u2227"}),(0,S.jsx)("code",{className:"text-xs bg-muted/40 px-1 py-0.5 rounded",children:e})]},e))}),e.description&&(0,S.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]}),(0,S.jsx)(Ae,{className:"text-right font-mono text-sm",children:xt(e.probability)}),(0,S.jsx)(Ae,{className:"text-right",children:(0,S.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,S.jsx)("div",{className:"w-16 bg-muted/30 rounded-full h-2",children:(0,S.jsx)("div",{className:"bg-electric-blue h-2 rounded-full",style:{width:`${Math.min(i,100)}%`}})}),(0,S.jsxs)("span",{className:"text-sm font-mono w-12 text-right",children:[i.toFixed(1),"%"]})]})})]},e.id)})})]})})]})}function wt({measures:e}){const t=(0,a.useMemo)(()=>[...e].sort((e,t)=>t.fussellVesely-e.fussellVesely),[e]);return(0,S.jsxs)("div",{className:"rounded-sm border border-border/40 p-4 space-y-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h3",{className:"text-lg font-semibold",children:"Importance Measures"}),(0,S.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Identifies which basic events contribute most to system failure probability"})]}),(0,S.jsx)("div",{className:"overflow-x-auto",children:(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{children:"Basic Event"}),(0,S.jsx)(je,{className:"text-right",children:(0,S.jsxs)(lt,{children:[(0,S.jsx)(ot,{className:"cursor-help underline decoration-dotted",children:"F-V"}),(0,S.jsxs)(dt,{className:"max-w-xs",children:[(0,S.jsx)("p",{className:"font-semibold",children:"Fussell-Vesely Importance"}),(0,S.jsx)("p",{className:"text-xs mt-1",children:"Fraction of top event probability from cut sets containing this event. Higher values indicate greater contribution to system failure."})]})]})}),(0,S.jsx)(je,{className:"text-right",children:(0,S.jsxs)(lt,{children:[(0,S.jsx)(ot,{className:"cursor-help underline decoration-dotted",children:"Birnbaum"}),(0,S.jsxs)(dt,{className:"max-w-xs",children:[(0,S.jsx)("p",{className:"font-semibold",children:"Birnbaum Importance"}),(0,S.jsx)("p",{className:"text-xs mt-1",children:"Rate of change of top event probability with respect to this event. Shows sensitivity to component reliability changes."})]})]})}),(0,S.jsx)(je,{className:"text-right",children:(0,S.jsxs)(lt,{children:[(0,S.jsx)(ot,{className:"cursor-help underline decoration-dotted",children:"RAW"}),(0,S.jsxs)(dt,{className:"max-w-xs",children:[(0,S.jsx)("p",{className:"font-semibold",children:"Risk Achievement Worth"}),(0,S.jsx)("p",{className:"text-xs mt-1",children:"Factor increase in top event probability if event probability = 1. High RAW indicates critical component for system success."})]})]})}),(0,S.jsx)(je,{className:"text-right",children:(0,S.jsxs)(lt,{children:[(0,S.jsx)(ot,{className:"cursor-help underline decoration-dotted",children:"RRW"}),(0,S.jsxs)(dt,{className:"max-w-xs",children:[(0,S.jsx)("p",{className:"font-semibold",children:"Risk Reduction Worth"}),(0,S.jsx)("p",{className:"text-xs mt-1",children:"Factor decrease in top event probability if event probability = 0. High RRW indicates good candidate for reliability improvement."})]})]})})]})}),(0,S.jsx)(be,{children:t.map(e=>(0,S.jsxs)(ye,{children:[(0,S.jsx)(Ae,{children:(0,S.jsxs)("div",{children:[(0,S.jsx)("code",{className:"text-xs bg-muted/40 px-1 py-0.5 rounded",children:e.eventId}),e.eventLabel&&(0,S.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.eventLabel})]})}),(0,S.jsx)(Ae,{className:"text-right font-mono text-sm",children:e.fussellVesely.toFixed(4)}),(0,S.jsx)(Ae,{className:"text-right font-mono text-sm",children:e.birnbaum.toExponential(2)}),(0,S.jsx)(Ae,{className:"text-right font-mono text-sm",children:e.raw>1e6?e.raw.toExponential(2):e.raw.toFixed(2)}),(0,S.jsx)(Ae,{className:"text-right font-mono text-sm",children:e.rrw.toFixed(2)})]},e.eventId))})]})})]})}function Ct(){return(0,S.jsxs)("div",{className:"rounded-sm border border-border/40 p-4",children:[(0,S.jsx)("h4",{className:"font-medium mb-4",children:"Gate Types"}),(0,S.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,S.jsxs)("div",{className:"flex items-center gap-3",children:[(0,S.jsx)("div",{className:"w-8 h-8 border-2 border-border/50 rounded-full flex items-center justify-center font-bold",children:"\u2228"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"font-medium block",children:"OR Gate"}),(0,S.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:"P = 1 - \u220f(1 - P\u1d62)"})]})]}),(0,S.jsxs)("div",{className:"flex items-center gap-3",children:[(0,S.jsx)("div",{className:"w-8 h-8 border-2 border-border/50 rounded flex items-center justify-center font-bold",children:"\u2227"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"font-medium block",children:"AND Gate"}),(0,S.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:"P = \u220fP\u1d62"})]})]}),(0,S.jsxs)("div",{className:"flex items-center gap-3",children:[(0,S.jsx)("div",{className:"w-8 h-8 border-2 border-border/50 rounded flex items-center justify-center text-xs font-bold",children:"k/n"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"font-medium block",children:"VOTING Gate"}),(0,S.jsx)("span",{className:"text-xs text-muted-foreground",children:"k+ of n inputs fail"})]})]})]}),(0,S.jsxs)("div",{className:"mt-4 pt-4 border-t border-border/30",children:[(0,S.jsx)("h4",{className:"font-medium mb-3",children:"Node Types"}),(0,S.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-4 h-4 bg-critical-red/40 border-2 border-critical-red rounded"}),(0,S.jsx)("span",{className:"text-sm",children:"Top Event"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-4 h-4 bg-electric-blue/40 border-2 border-electric-blue rounded"}),(0,S.jsx)("span",{className:"text-sm",children:"Intermediate"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-4 h-4 bg-tactical-green/40 border-2 border-tactical-green rounded-full"}),(0,S.jsx)("span",{className:"text-sm",children:"Basic Event"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-4 h-4 bg-warning-amber/40 border-2 border-warning-amber rounded-full"}),(0,S.jsx)("span",{className:"text-sm",children:"Undeveloped"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-4 h-4 bg-info-cyan/40 border-2 border-info-cyan rounded"}),(0,S.jsx)("span",{className:"text-sm",children:"House Event"})]})]})]})]})}function St(){const[e,t]=(0,a.useState)(v),[i,s]=(0,a.useState)(!0),[r,n]=(0,a.useState)(!0),[l,o]=(0,a.useState)(100),[d,c]=(0,a.useState)(()=>{const t=new Set,i=e=>{t.add(e.id),e.children?.forEach(i)};return i(e.rootNode),t}),m=(0,a.useMemo)(()=>{const t=new Set;return e.minimalCutSets?.forEach(e=>{e.basicEventIds.forEach(e=>t.add(e))}),t},[e.minimalCutSets]),[u,p]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1);return(0,S.jsxs)("div",{className:"space-y-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h2",{className:"text-2xl font-bold",children:"Fault Tree Analysis"}),(0,S.jsx)("p",{className:"text-muted-foreground mt-1",children:"Quantitative fault tree analysis with probability calculations and importance measures"}),(0,S.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,S.jsx)(z,{variant:"outline",children:e.name}),(0,S.jsx)(z,{variant:"secondary",children:e.analysisType}),(0,S.jsx)(z,{variant:"Approved"===e.approvalStatus?"default":"outline",children:e.approvalStatus})]})]}),(0,S.jsx)("div",{className:"rounded-sm border border-border/40 p-4",children:(0,S.jsxs)("div",{className:"flex flex-wrap items-center gap-6",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)(et,{id:"show-probabilities",checked:i,onCheckedChange:s}),(0,S.jsx)(B,{htmlFor:"show-probabilities",className:"cursor-pointer",children:(0,S.jsxs)("span",{className:"flex items-center gap-1",children:[i?(0,S.jsx)(Ue.A,{className:"w-4 h-4"}):(0,S.jsx)($e.A,{className:"w-4 h-4"}),"Show Probabilities"]})})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)(et,{id:"highlight-cutsets",checked:r,onCheckedChange:n}),(0,S.jsx)(B,{htmlFor:"highlight-cutsets",className:"cursor-pointer",children:"Highlight Cut Sets"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsxs)(F,{variant:"outline",size:"sm",onClick:()=>{const t=new Set,i=e=>{t.add(e.id),e.children?.forEach(i)};i(e.rootNode),c(t)},children:[(0,S.jsx)(We.A,{className:"w-4 h-4 mr-1"}),"Expand All"]}),(0,S.jsxs)(F,{variant:"outline",size:"sm",onClick:()=>{c(new Set([e.rootNode.id]))},children:[(0,S.jsx)(Je.A,{className:"w-4 h-4 mr-1"}),"Collapse All"]})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2 min-w-[200px]",children:[(0,S.jsx)(Ke.A,{className:"w-4 h-4 text-muted-foreground"}),(0,S.jsx)(it,{value:[l],onValueChange:e=>o(e[0]),min:50,max:150,step:10,className:"flex-1"}),(0,S.jsx)(Ye.A,{className:"w-4 h-4 text-muted-foreground"}),(0,S.jsxs)("span",{className:"text-sm text-muted-foreground w-12",children:[l,"%"]})]})]})}),(0,S.jsx)(Ct,{}),(0,S.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,S.jsx)("div",{className:"lg:col-span-2",children:(0,S.jsx)("div",{className:"rounded-sm border border-border/40 p-6 overflow-x-auto",children:(0,S.jsx)(jt,{node:e.rootNode,level:0,showProbabilities:i,highlightCutSets:r,cutSetEventIds:m,singlePointThreshold:1e-9,expandedNodes:d,onToggleExpand:e=>{c(t=>{const i=new Set(t);return i.has(e)?i.delete(e):i.add(e),i})},onEditNode:e=>{p(e),f(!0)},zoom:l})})}),(0,S.jsx)("div",{className:"lg:col-span-1",children:(0,S.jsx)(At,{tree:e})})]}),e.minimalCutSets&&e.minimalCutSets.length>0&&(0,S.jsx)(Nt,{cutSets:e.minimalCutSets,topEventProbability:e.topEventProbability}),e.importanceMeasures&&e.importanceMeasures.length>0&&(0,S.jsx)(wt,{measures:e.importanceMeasures}),u&&(0,S.jsx)(yt,{event:u,onUpdate:i=>{const a=e=>e.id===i.id?i:e.children?{...e,children:e.children.map(a)}:e,s=ht(a(e.rootNode));t({...e,rootNode:s,topEventProbability:s.probability??e.topEventProbability}),p(null)},open:h,onOpenChange:f})]})}var kt=i(2864),Rt=i(2853),Et=i(4653),Tt=i(8224),Mt=i(7984),Dt=i(3495),Ht=i(5867),zt=i(6551),Pt=i(2050);const Ft=[{rating:10,description:"Hazardous without warning - affects safe operation, no warning"},{rating:9,description:"Hazardous with warning - affects safe operation, with warning"},{rating:8,description:"Very High - item inoperable, loss of primary function"},{rating:7,description:"High - item operable but at reduced level of performance"},{rating:6,description:"Moderate - item operable but comfort item inoperable"},{rating:5,description:"Low - item operable but comfort item at reduced performance"},{rating:4,description:"Very Low - fit & finish/squeak & rattle item does not conform"},{rating:3,description:"Minor - fit & finish/squeak & rattle item noticed by average customer"},{rating:2,description:"Very Minor - fit & finish/squeak & rattle item noticed by discriminating customer"},{rating:1,description:"None - no effect"}],It=[{rating:10,description:"Very High: Failure is almost inevitable (>= 1 in 2)"},{rating:9,description:"High (1 in 3)"},{rating:8,description:"High (1 in 8)"},{rating:7,description:"Moderate (1 in 20)"},{rating:6,description:"Moderate (1 in 80)"},{rating:5,description:"Moderate (1 in 400)"},{rating:4,description:"Low (1 in 2,000)"},{rating:3,description:"Low (1 in 15,000)"},{rating:2,description:"Very Low (1 in 150,000)"},{rating:1,description:"Remote: Failure is unlikely (<= 1 in 1,500,000)"}],qt=[{rating:10,description:"Absolute Uncertainty: Design control cannot detect"},{rating:9,description:"Very Remote: Very remote chance of detection"},{rating:8,description:"Remote: Remote chance of detection"},{rating:7,description:"Very Low: Very low chance of detection"},{rating:6,description:"Low: Low chance of detection"},{rating:5,description:"Moderate: Moderate chance of detection"},{rating:4,description:"Moderately High: Moderately high chance of detection"},{rating:3,description:"High: High chance of detection"},{rating:2,description:"Very High: Very high chance of detection"},{rating:1,description:"Almost Certain: Design control will detect"}];function Bt({rpn:e}){return(0,S.jsx)("span",{className:"px-2 py-1 rounded font-bold "+(e>100?"bg-critical-red text-white":e>50?"bg-warning-amber text-white":"bg-tactical-green text-white"),children:e})}function Vt({title:e,value:t,color:i}){const a={blue:"text-electric-blue",red:"text-critical-red",orange:"text-warning-amber",gray:"text-foreground "};return(0,S.jsx)(k,{className:`${{blue:"bg-electric-blue-dim border-electric-blue/30",red:"bg-critical-red-dim border-critical-red/30",orange:"bg-warning-amber-dim border-warning-amber/30",gray:"bg-muted/20 border-border/40"}[i]} border tactical-corners`,children:(0,S.jsxs)(T,{className:"pt-4",children:[(0,S.jsx)("div",{className:`data-label ${a[i]}`,children:e}),(0,S.jsx)("div",{className:`data-value-large ${a[i]}`,children:t})]})})}function Lt({title:e,items:t}){return(0,S.jsxs)("div",{children:[(0,S.jsx)("h4",{className:"font-semibold mb-2",children:e}),(0,S.jsx)("div",{className:"space-y-1 text-sm",children:t.slice(0,5).map(e=>(0,S.jsxs)("div",{className:"flex gap-2",children:[(0,S.jsx)("span",{className:"font-mono w-6 text-foreground/80",children:e.rating}),(0,S.jsx)("span",{className:"text-muted-foreground truncate",children:e.description})]},e.rating))})]})}function Zt({active:e,payload:t}){if(!e||!t||0===t.length)return null;const i=t[0].payload;return(0,S.jsxs)("div",{className:"bg-card p-3 rounded-sm shadow-lg border border-border/40",children:[(0,S.jsx)("p",{className:"font-semibold text-foreground",children:i.id}),(0,S.jsx)("p",{className:"text-sm text-muted-foreground",children:i.componentName}),(0,S.jsx)("p",{className:"text-sm text-muted-foreground max-w-xs truncate",children:i.failureMode}),(0,S.jsxs)("div",{className:"mt-2 pt-2 border-t border-border/30",children:[(0,S.jsxs)("p",{className:"text-sm",children:[(0,S.jsx)("span",{className:"font-medium",children:"RPN:"})," ",(0,S.jsx)("span",{className:i.rpn>100?"text-critical-red":i.rpn>50?"text-warning-amber":"text-tactical-green",children:i.rpn})]}),(0,S.jsxs)("p",{className:"text-xs text-muted-foreground",children:["S=",i.severity," x O=",i.occurrence," x D=",i.detection]})]})]})}function Ot({severity:e}){return e>=9?(0,S.jsx)(z,{variant:"destructive",children:e}):e>=7||e>=5?(0,S.jsx)(z,{className:"bg-warning-amber text-white hover:bg-warning-amber/80",children:e}):(0,S.jsx)(z,{variant:"secondary",children:e})}function Qt(){const[e,t]=(0,a.useState)(y),[i,s]=(0,a.useState)("rpn"),[r,o]=(0,a.useState)("desc"),[d,g]=(0,a.useState)("all"),[v,b]=(0,a.useState)(""),[j,A]=(0,a.useState)(null),[N,w]=(0,a.useState)(!1),C=(0,a.useMemo)(()=>[...e].filter(e=>{if("all"!==d&&e.severity<d)return!1;if(v){const t=v.toLowerCase();return e.id.toLowerCase().includes(t)||e.componentName.toLowerCase().includes(t)||e.failureMode.toLowerCase().includes(t)||e.function.toLowerCase().includes(t)}return!0}).sort((e,t)=>{let a,s;switch(i){case"rpn":a=e.rpn,s=t.rpn;break;case"severity":a=e.severity,s=t.severity;break;case"component":a=e.componentName,s=t.componentName;break;case"id":a=e.id,s=t.id;break;default:return 0}return"string"==typeof a&&"string"==typeof s?"desc"===r?s.localeCompare(a):a.localeCompare(s):"desc"===r?s-a:a-s}),[e,i,r,d,v]),M=(0,a.useMemo)(()=>({total:e.length,highRPN:e.filter(e=>e.rpn>100).length,highSeverity:e.filter(e=>e.severity>=9).length,avgRPN:e.length>0?Math.round(e.reduce((e,t)=>e+t.rpn,0)/e.length):0}),[e]),D=e=>{i===e?o("desc"===r?"asc":"desc"):(s(e),o("desc"))},H=e=>i!==e?null:"desc"===r?(0,S.jsx)(m.A,{className:"w-4 h-4 inline ml-1"}):(0,S.jsx)(c.A,{className:"w-4 h-4 inline ml-1"});return(0,S.jsxs)("div",{className:"space-y-6",children:[(0,S.jsxs)("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Failure Modes and Effects Analysis"}),(0,S.jsx)("p",{className:"text-muted-foreground",children:"Design FMEA for Flight Management System (SAE ARP4761A aligned)"})]}),(0,S.jsxs)("div",{className:"flex gap-2",children:[(0,S.jsxs)(F,{variant:"outline",onClick:()=>{const e=C.map(e=>[e.id,e.componentName,e.function,e.failureMode,e.localEffect,e.systemEffect,e.severity,e.occurrence,e.detection,e.rpn,e.currentControls,e.recommendedActions]),t=[["ID","Component","Function","Failure Mode","Local Effect","System Effect","Severity","Occurrence","Detection","RPN","Current Controls","Recommended Actions"].join(","),...e.map(e=>e.map(e=>`"${String(e).replace(/"/g,'""')}"`).join(","))].join("\n"),i=new Blob([t],{type:"text/csv"}),a=URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download="fmea_export.csv",s.click(),URL.revokeObjectURL(a)},children:[(0,S.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Export"]}),(0,S.jsxs)(F,{children:[(0,S.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Add Item"]})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,S.jsx)(Vt,{title:"Total Items",value:M.total,color:"blue"}),(0,S.jsx)(Vt,{title:"High RPN (>100)",value:M.highRPN,color:"red"}),(0,S.jsx)(Vt,{title:"Severity 9-10",value:M.highSeverity,color:"orange"}),(0,S.jsx)(Vt,{title:"Avg RPN",value:M.avgRPN,color:"gray"})]}),(0,S.jsxs)(k,{children:[(0,S.jsx)(R,{children:(0,S.jsxs)(E,{className:"flex items-center gap-2",children:[(0,S.jsx)(kt.A,{className:"w-5 h-5"}),"RPN Pareto Chart (Top 10)"]})}),(0,S.jsx)(T,{className:"scanline-overlay",children:(0,S.jsx)(Et.u,{width:"100%",height:250,children:(0,S.jsxs)(Tt.E,{data:C.slice(0,10),margin:{top:10,right:30,left:0,bottom:20},children:[(0,S.jsx)(Mt.W,{dataKey:"id",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),(0,S.jsx)(Dt.h,{}),(0,S.jsx)(Ht.m,{content:(0,S.jsx)(Zt,{})}),(0,S.jsx)(zt.y,{dataKey:"rpn",name:"RPN",children:C.slice(0,10).map(e=>(0,S.jsx)(Pt.f,{fill:e.rpn>100?"#ef4444":e.rpn>50?"#f59e0b":"#22c55e"},e.id))})]})})})]}),(0,S.jsxs)(k,{children:[(0,S.jsx)(R,{children:(0,S.jsxs)("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[(0,S.jsx)(E,{children:"FMEA Worksheet"}),(0,S.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,S.jsxs)("div",{className:"relative",children:[(0,S.jsx)(h.A,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground/70"}),(0,S.jsx)(I,{placeholder:"Search...",value:v,onChange:e=>b(e.target.value),className:"pl-9 w-48"})]}),(0,S.jsxs)(ce,{value:String(d),onValueChange:e=>g("all"===e?"all":parseInt(e)),children:[(0,S.jsxs)(ue,{className:"w-40",children:[(0,S.jsx)(f.A,{className:"w-4 h-4 mr-2"}),(0,S.jsx)(me,{placeholder:"Filter Severity"})]}),(0,S.jsxs)(pe,{children:[(0,S.jsx)(he,{value:"all",children:"All Severities"}),(0,S.jsx)(he,{value:"9",children:"Severity >= 9"}),(0,S.jsx)(he,{value:"7",children:"Severity >= 7"}),(0,S.jsx)(he,{value:"5",children:"Severity >= 5"})]})]})]})]})}),(0,S.jsxs)(T,{children:[(0,S.jsx)("div",{className:"overflow-x-auto",children:(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsxs)(je,{className:"cursor-pointer hover:bg-electric-blue-dim/50",onClick:()=>D("id"),children:["ID ",H("id")]}),(0,S.jsxs)(je,{className:"cursor-pointer hover:bg-electric-blue-dim/50",onClick:()=>D("component"),children:["Component ",H("component")]}),(0,S.jsx)(je,{children:"Function"}),(0,S.jsx)(je,{children:"Failure Mode"}),(0,S.jsx)(je,{children:"Local Effect"}),(0,S.jsx)(je,{children:"System Effect"}),(0,S.jsxs)(je,{className:"cursor-pointer text-center hover:bg-electric-blue-dim/50",onClick:()=>D("severity"),children:["S ",H("severity")]}),(0,S.jsx)(je,{className:"text-center",children:"O"}),(0,S.jsx)(je,{className:"text-center",children:"D"}),(0,S.jsxs)(je,{className:"cursor-pointer text-center hover:bg-electric-blue-dim/50",onClick:()=>D("rpn"),children:["RPN ",H("rpn")]}),(0,S.jsx)(je,{children:"Current Controls"}),(0,S.jsx)(je,{children:"Recommended Actions"}),(0,S.jsx)(je,{children:"Links"}),(0,S.jsx)(je,{children:"Actions"})]})}),(0,S.jsx)(be,{children:C.map(e=>(0,S.jsxs)(ye,{className:e.rpn>100?"bg-critical-red-dim":"",children:[(0,S.jsx)(Ae,{className:"font-mono text-sm",children:e.id}),(0,S.jsx)(Ae,{className:"max-w-32",children:(0,S.jsx)("span",{className:"truncate block",title:e.componentName,children:e.componentName})}),(0,S.jsx)(Ae,{className:"max-w-32",children:(0,S.jsx)("span",{className:"truncate block",title:e.function,children:e.function})}),(0,S.jsx)(Ae,{className:"max-w-40",children:(0,S.jsx)("span",{className:"truncate block",title:e.failureMode,children:e.failureMode})}),(0,S.jsx)(Ae,{className:"max-w-32",children:(0,S.jsx)("span",{className:"truncate block",title:e.localEffect,children:e.localEffect})}),(0,S.jsx)(Ae,{className:"max-w-32",children:(0,S.jsx)("span",{className:"truncate block",title:e.systemEffect,children:e.systemEffect})}),(0,S.jsx)(Ae,{className:"text-center",children:(0,S.jsx)(Ot,{severity:e.severity})}),(0,S.jsx)(Ae,{className:"text-center",children:e.occurrence}),(0,S.jsx)(Ae,{className:"text-center",children:e.detection}),(0,S.jsx)(Ae,{className:"text-center",children:(0,S.jsx)(Bt,{rpn:e.rpn})}),(0,S.jsx)(Ae,{className:"max-w-40",children:(0,S.jsx)("span",{className:"truncate block",title:e.currentControls,children:e.currentControls})}),(0,S.jsx)(Ae,{className:"max-w-40",children:(0,S.jsx)("span",{className:"truncate block",title:e.recommendedActions,children:e.recommendedActions})}),(0,S.jsx)(Ae,{children:(0,S.jsxs)("div",{className:"flex gap-1",children:[e.linkedHazards&&e.linkedHazards.length>0&&(0,S.jsxs)(z,{variant:"outline",title:`Linked Hazards: ${e.linkedHazards.join(", ")}`,className:"cursor-help",children:[(0,S.jsx)(Rt.A,{className:"w-3 h-3 mr-1"}),e.linkedHazards.length]}),e.linkedFaultTreeEvents&&e.linkedFaultTreeEvents.length>0&&(0,S.jsxs)(z,{variant:"outline",title:`Linked FT Events: ${e.linkedFaultTreeEvents.join(", ")}`,className:"cursor-help",children:[(0,S.jsx)(n.A,{className:"w-3 h-3 mr-1"}),e.linkedFaultTreeEvents.length]})]})}),(0,S.jsx)(Ae,{children:(0,S.jsxs)("div",{className:"flex gap-1",children:[(0,S.jsx)(F,{variant:"ghost",size:"sm",onClick:()=>(e=>{A(e),w(!0)})(e),title:"View Details",children:(0,S.jsx)(l.A,{className:"w-4 h-4"})}),(0,S.jsx)(F,{variant:"ghost",size:"sm",title:"Delete",className:"text-critical-red hover:text-critical-red hover:bg-critical-red-dim",children:(0,S.jsx)(x.A,{className:"w-4 h-4"})})]})})]},e.id))})]})}),0===C.length&&(0,S.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No items match the current filters"})]})]}),(0,S.jsxs)(k,{children:[(0,S.jsx)(R,{children:(0,S.jsx)(E,{children:"Rating Scales (SAE ARP4761A / MIL-STD-1629A)"})}),(0,S.jsxs)(T,{children:[(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,S.jsx)(Lt,{title:"Severity (S)",items:Ft}),(0,S.jsx)(Lt,{title:"Occurrence (O)",items:It}),(0,S.jsx)(Lt,{title:"Detection (D)",items:qt})]}),(0,S.jsx)("div",{className:"mt-4 pt-4 border-t border-border/30",children:(0,S.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,S.jsx)("strong",{children:"RPN"})," (Risk Priority Number) = Severity x Occurrence x Detection. Range: 1-1000. Action thresholds: >100 (High Priority), >50 (Medium Priority), <=50 (Monitor)."]})})]})]}),(0,S.jsx)(L,{open:N,onOpenChange:w,children:(0,S.jsxs)(G,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,S.jsx)(_,{children:(0,S.jsxs)($,{className:"flex items-center gap-2",children:[(0,S.jsx)(n.A,{className:"w-5 h-5 text-warning-amber"}),"FMEA Item Details: ",j?.id]})}),j&&(0,S.jsxs)("div",{className:"space-y-4",children:[(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Component"}),(0,S.jsx)("p",{className:"text-foreground",children:j.componentName})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Component ID"}),(0,S.jsx)("p",{className:"font-mono text-foreground",children:j.componentId})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Function"}),(0,S.jsx)("p",{className:"text-foreground",children:j.function})]}),(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Failure Mode"}),(0,S.jsx)("p",{className:"text-foreground",children:j.failureMode})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Failure Mechanism"}),(0,S.jsx)("p",{className:"text-foreground",children:j.failureMechanism})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Local Effect"}),(0,S.jsx)("p",{className:"text-foreground",children:j.localEffect})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"System Effect"}),(0,S.jsx)("p",{className:"text-foreground",children:j.systemEffect})]})]}),(0,S.jsxs)("div",{className:"bg-muted/20 rounded-sm p-4",children:[(0,S.jsx)("h4",{className:"font-semibold mb-3",children:"Risk Assessment"}),(0,S.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"text-2xl font-bold",children:(0,S.jsx)(Ot,{severity:j.severity})}),(0,S.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Severity"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"text-2xl font-bold text-foreground",children:j.occurrence}),(0,S.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Occurrence"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"text-2xl font-bold text-foreground",children:j.detection}),(0,S.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Detection"})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"text-2xl font-bold",children:(0,S.jsx)(Bt,{rpn:j.rpn})}),(0,S.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"RPN"})]})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Current Controls"}),(0,S.jsx)("p",{className:"text-foreground",children:j.currentControls})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Recommended Actions"}),(0,S.jsx)("p",{className:"text-foreground",children:j.recommendedActions})]}),(j.responsible||j.targetDate)&&(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[j.responsible&&(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Responsible"}),(0,S.jsx)("p",{className:"text-foreground",children:j.responsible})]}),j.targetDate&&(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Target Date"}),(0,S.jsx)("p",{className:"text-foreground",children:j.targetDate})]})]}),j.actionTaken&&(0,S.jsxs)("div",{className:"bg-tactical-green-dim/30 rounded-sm p-4",children:[(0,S.jsx)("h4",{className:"font-semibold mb-2 text-tactical-green",children:"Action Taken"}),(0,S.jsx)("p",{className:"text-tactical-green mb-3",children:j.actionTaken}),j.newRpn&&(0,S.jsxs)("div",{className:"flex items-center gap-4",children:[(0,S.jsx)("span",{className:"text-sm text-muted-foreground",children:"New RPN:"}),(0,S.jsx)(Bt,{rpn:j.newRpn}),(0,S.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(S=",j.newSeverity,", O=",j.newOccurrence,", D=",j.newDetection,")"]})]})]}),(j.linkedHazards&&j.linkedHazards.length>0||j.linkedFaultTreeEvents&&j.linkedFaultTreeEvents.length>0)&&(0,S.jsxs)("div",{className:"border-t pt-4",children:[(0,S.jsx)("h4",{className:"font-semibold mb-2",children:"Cross-References"}),(0,S.jsxs)("div",{className:"flex flex-wrap gap-2",children:[j.linkedHazards?.map(e=>(0,S.jsxs)(z,{variant:"outline",className:"cursor-pointer",children:[(0,S.jsx)(Rt.A,{className:"w-3 h-3 mr-1"}),e]},e)),j.linkedFaultTreeEvents?.map(e=>(0,S.jsxs)(z,{variant:"outline",className:"cursor-pointer",children:[(0,S.jsx)(n.A,{className:"w-3 h-3 mr-1"}),e]},e))]})]})]})]})})]})}var Gt=i(5721),_t=i(9107),Ut=i(3026),$t=i(6279),Wt=i(6810),Jt=i(3161),Kt=i(7946),Yt=i(4471),Xt=i(6316),ei=i(1429);const ti=[{month:"Jan",incidents:3,resolved:3},{month:"Feb",incidents:5,resolved:4},{month:"Mar",incidents:2,resolved:2},{month:"Apr",incidents:4,resolved:5},{month:"May",incidents:1,resolved:3},{month:"Jun",incidents:2,resolved:2}],ii=[{metric:"Equipment Checks",completion:95},{metric:"Training",completion:88},{metric:"Risk Assessments",completion:92},{metric:"Audits",completion:100},{metric:"Documentation",completion:85}],ai=[{name:"Electrical",value:8},{name:"Mechanical",value:12},{name:"Software",value:6},{name:"Environmental",value:5},{name:"Human Factors",value:9}],si=["#38bdf8","#22c55e","#f59e0b","#ef4444","#06b6d4"];function ri(){return(0,S.jsxs)("div",{className:"space-y-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h2",{className:"tracking-tight",children:"Safety Performance Indicators"}),(0,S.jsx)("p",{className:"text-muted-foreground mt-1 font-mono text-xs tracking-wider uppercase",children:"Key metrics and trends for safety performance monitoring"})]}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,S.jsx)("div",{className:"tactical-corners rounded-sm border border-electric-blue/20 p-4",style:{backgroundColor:"var(--bg-elevated)"},children:(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--electric-blue)"},children:"Total Hazards"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--electric-blue)"},children:"40"})]}),(0,S.jsx)(Kt.A,{className:"w-8 h-8 opacity-40",style:{color:"var(--electric-blue)"}})]})}),(0,S.jsxs)("div",{className:"tactical-corners rounded-sm border border-tactical-green/20 p-4",style:{backgroundColor:"var(--bg-elevated)"},children:[(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--tactical-green)"},children:"Mitigated"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--tactical-green)"},children:"32"})]}),(0,S.jsx)(Yt.A,{className:"w-8 h-8 opacity-40",style:{color:"var(--tactical-green)"}})]}),(0,S.jsxs)("div",{className:"tactical-chip tactical-chip-up mt-2",children:[(0,S.jsx)(Xt.A,{className:"w-3 h-3"}),(0,S.jsx)("span",{children:"+5% from last month"})]})]}),(0,S.jsxs)("div",{className:"tactical-corners rounded-sm border border-warning-amber/20 p-4",style:{backgroundColor:"var(--bg-elevated)"},children:[(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--warning-amber)"},children:"Open Issues"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--warning-amber)"},children:"8"})]}),(0,S.jsx)(Kt.A,{className:"w-8 h-8 opacity-40",style:{color:"var(--warning-amber)"}})]}),(0,S.jsxs)("div",{className:"tactical-chip tactical-chip-up mt-2",children:[(0,S.jsx)(ei.A,{className:"w-3 h-3"}),(0,S.jsx)("span",{children:"-12% from last month"})]})]}),(0,S.jsxs)("div",{className:"tactical-corners rounded-sm border border-info-cyan/20 p-4",style:{backgroundColor:"var(--bg-elevated)"},children:[(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",style:{color:"var(--info-cyan)"},children:"Safety Score"}),(0,S.jsx)("div",{className:"data-value-large mt-1",style:{color:"var(--info-cyan)"},children:"92%"})]}),(0,S.jsx)(Xt.A,{className:"w-8 h-8 opacity-40",style:{color:"var(--info-cyan)"}})]}),(0,S.jsxs)("div",{className:"tactical-chip tactical-chip-up mt-2",children:[(0,S.jsx)(Xt.A,{className:"w-3 h-3"}),(0,S.jsx)("span",{children:"+3% from last month"})]})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,S.jsxs)("div",{className:"rounded-sm border border-border/40 p-6 scanline-overlay",style:{backgroundColor:"var(--bg-elevated)"},children:[(0,S.jsx)("h3",{className:"mb-4 uppercase tracking-wider text-sm font-semibold",children:"Incident Trends"}),(0,S.jsx)(Et.u,{width:"100%",height:300,children:(0,S.jsxs)(Gt.b,{data:ti,children:[(0,S.jsx)(_t.d,{strokeDasharray:"3 3",stroke:"rgba(56, 189, 248, 0.08)"}),(0,S.jsx)(Mt.W,{dataKey:"month",stroke:"hsl(215, 15%, 52%)",fontSize:11,fontFamily:"JetBrains Mono"}),(0,S.jsx)(Dt.h,{stroke:"hsl(215, 15%, 52%)",fontSize:11,fontFamily:"JetBrains Mono"}),(0,S.jsx)(Ht.m,{contentStyle:{backgroundColor:"var(--bg-overlay)",border:"1px solid rgba(56, 189, 248, 0.2)",borderRadius:"4px",fontFamily:"JetBrains Mono",fontSize:"0.75rem"}}),(0,S.jsx)(Ut.s,{}),(0,S.jsx)($t.N,{type:"monotone",dataKey:"incidents",stroke:"#ef4444",strokeWidth:2,name:"New Incidents",dot:{fill:"#ef4444",r:3}}),(0,S.jsx)($t.N,{type:"monotone",dataKey:"resolved",stroke:"#22c55e",strokeWidth:2,name:"Resolved",dot:{fill:"#22c55e",r:3}})]})})]}),(0,S.jsxs)("div",{className:"rounded-sm border border-border/40 p-6 scanline-overlay",style:{backgroundColor:"var(--bg-elevated)"},children:[(0,S.jsx)("h3",{className:"mb-4 uppercase tracking-wider text-sm font-semibold",children:"Hazards by Category"}),(0,S.jsx)(Et.u,{width:"100%",height:300,children:(0,S.jsxs)(Wt.r,{children:[(0,S.jsx)(Jt.F,{data:ai,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",stroke:"var(--bg-base)",strokeWidth:2,children:ai.map((e,t)=>(0,S.jsx)(Pt.f,{fill:si[t%si.length]},`cell-${t}`))}),(0,S.jsx)(Ht.m,{contentStyle:{backgroundColor:"var(--bg-overlay)",border:"1px solid rgba(56, 189, 248, 0.2)",borderRadius:"4px",fontFamily:"JetBrains Mono",fontSize:"0.75rem"}})]})})]})]}),(0,S.jsxs)("div",{className:"rounded-sm border border-border/40 p-6 scanline-overlay",style:{backgroundColor:"var(--bg-elevated)"},children:[(0,S.jsx)("h3",{className:"mb-4 uppercase tracking-wider text-sm font-semibold",children:"Safety Metrics Completion"}),(0,S.jsx)(Et.u,{width:"100%",height:300,children:(0,S.jsxs)(Tt.E,{data:ii,children:[(0,S.jsx)(_t.d,{strokeDasharray:"3 3",stroke:"rgba(56, 189, 248, 0.08)"}),(0,S.jsx)(Mt.W,{dataKey:"metric",stroke:"hsl(215, 15%, 52%)",fontSize:11,fontFamily:"JetBrains Mono"}),(0,S.jsx)(Dt.h,{domain:[0,100],stroke:"hsl(215, 15%, 52%)",fontSize:11,fontFamily:"JetBrains Mono"}),(0,S.jsx)(Ht.m,{contentStyle:{backgroundColor:"var(--bg-overlay)",border:"1px solid rgba(56, 189, 248, 0.2)",borderRadius:"4px",fontFamily:"JetBrains Mono",fontSize:"0.75rem"}}),(0,S.jsx)(Ut.s,{}),(0,S.jsx)(zt.y,{dataKey:"completion",fill:"#38bdf8",name:"Completion %",radius:[2,2,0,0]})]})})]})]})}var ni=i(7792),li=i(7213),oi=i(4997),di=i(827),ci=i(8931),mi=i(7677),ui=i(8635);function pi(e){switch(e){case"approved":return"bg-tactical-green text-white";case"under-review":return"bg-warning-amber text-white";default:return"bg-muted/200 text-white"}}function hi(e){switch(e){case"Compliant":case"Complete":return"bg-tactical-green";case"Partial":return"bg-warning-amber";case"Non-Compliant":return"bg-critical-red";default:return"bg-muted/200"}}function fi(e){switch(e){case"Goal":return{bgColor:"bg-electric-blue-dim",borderColor:"border-electric-blue/40",textColor:"text-electric-blue",icon:r.A,shape:"rounded-sm",badgeVariant:"default"};case"Strategy":return{bgColor:"bg-muted/30",borderColor:"border-muted-foreground/30",textColor:"text-muted-foreground",icon:ni.A,shape:"rounded-sm skew-x-[-6deg]",badgeVariant:"secondary"};case"Solution":return{bgColor:"bg-tactical-green-dim",borderColor:"border-tactical-green/40",textColor:"text-tactical-green",icon:Yt.A,shape:"rounded-full",badgeVariant:"default"};case"Context":return{bgColor:"bg-muted/20",borderColor:"border-border/40",textColor:"text-foreground/80",icon:li.A,shape:"rounded-xl",badgeVariant:"outline"};case"Assumption":return{bgColor:"bg-warning-amber-dim",borderColor:"border-warning-amber/40",textColor:"text-warning-amber",icon:Kt.A,shape:"rounded-[50%]",badgeVariant:"secondary"};case"Justification":return{bgColor:"bg-warning-amber-dim",borderColor:"border-warning-amber/40",textColor:"text-warning-amber",icon:oi.A,shape:"rounded-[50%]",badgeVariant:"secondary"};default:return{bgColor:"bg-muted/20",borderColor:"border-border/40",textColor:"text-foreground/80",icon:di.A,shape:"rounded-sm",badgeVariant:"outline"}}}function xi(e){switch(e){case"complete":return"bg-tactical-green";case"in-progress":return"bg-warning-amber";case"not-started":return"bg-muted-foreground/60";default:return"bg-muted-foreground/40"}}function gi({confidence:e}){return(0,S.jsxs)(lt,{children:[(0,S.jsx)(ot,{asChild:!0,children:(0,S.jsxs)("div",{className:"flex items-center gap-1 cursor-help",children:[(0,S.jsx)("div",{className:C("w-2 h-2 rounded-full",{high:"bg-tactical-green",medium:"bg-warning-amber",low:"bg-critical-red"}[e.level])}),(0,S.jsx)("span",{className:"text-xs capitalize",children:e.level})]})}),(0,S.jsxs)(dt,{className:"max-w-xs",children:[(0,S.jsxs)("p",{className:"font-medium",children:["Confidence: ",e.level]}),(0,S.jsx)("p",{className:"text-xs mt-1",children:e.rationale})]})]})}function vi({node:e}){return(0,S.jsxs)("div",{className:"space-y-3",children:[(0,S.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,S.jsx)(di.A,{className:"w-4 h-4"}),"Linked Evidence (",e.evidence?.length||0,")"]}),e.evidence?.map(e=>(0,S.jsx)("div",{className:"p-3 bg-muted/20 rounded-sm border",children:(0,S.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,S.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,S.jsx)(z,{variant:"secondary",className:"mb-1",children:e.type}),(0,S.jsx)("p",{className:"font-medium mt-1 truncate",children:e.title}),(0,S.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.location}),e.dateApproved&&(0,S.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Approved: ",e.dateApproved]})]}),(0,S.jsx)(z,{className:pi(e.status),children:e.status})]})},e.id)),(0,S.jsxs)(F,{variant:"outline",size:"sm",className:"w-full",children:[(0,S.jsx)(p.A,{className:"w-4 h-4 mr-1"}),"Link Evidence"]})]})}function bi({mappings:e}){return(0,S.jsxs)("div",{className:"space-y-3",children:[(0,S.jsx)("h4",{className:"font-semibold",children:"Standards Compliance"}),e.map((e,t)=>(0,S.jsxs)("div",{className:"p-2 border rounded bg-muted/20",children:[(0,S.jsx)(z,{variant:"outline",className:"mb-1",children:e.standard}),(0,S.jsx)("p",{className:"text-sm mt-1 text-muted-foreground",children:e.objective}),(0,S.jsx)(z,{className:C("mt-2",hi(e.status)),children:e.status})]},t))]})}function yi({nodes:e}){const t=(0,a.useMemo)(()=>{const t=e.filter(e=>"Goal"===e.type),i=t.filter(t=>"complete"===t.status||e.some(e=>"Solution"===e.type&&e.parent===t.id&&e.evidence&&e.evidence.length>0));return{goals:t,goalsWithEvidence:i,percentage:t.length>0?i.length/t.length*100:0,complete:e.filter(e=>"complete"===e.status).length,inProgress:e.filter(e=>"in-progress"===e.status).length,notStarted:e.filter(e=>"not-started"===e.status).length}},[e]);return(0,S.jsxs)(k,{children:[(0,S.jsx)(R,{className:"pb-2",children:(0,S.jsx)(E,{className:"text-base",children:"Safety Case Completeness"})}),(0,S.jsxs)(T,{children:[(0,S.jsx)(st,{value:t.percentage,className:"h-3"}),(0,S.jsxs)("p",{className:"text-sm mt-2 text-muted-foreground",children:[t.goalsWithEvidence.length," of ",t.goals.length," goals have supporting evidence"]}),(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-4 text-center text-sm",children:[(0,S.jsxs)("div",{className:"p-2 bg-tactical-green-dim rounded",children:[(0,S.jsx)("div",{className:"font-bold text-tactical-green",children:t.complete}),(0,S.jsx)("div",{className:"text-xs text-muted-foreground",children:"Complete"})]}),(0,S.jsxs)("div",{className:"p-2 bg-warning-amber-dim rounded",children:[(0,S.jsx)("div",{className:"font-bold text-warning-amber",children:t.inProgress}),(0,S.jsx)("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),(0,S.jsxs)("div",{className:"p-2 bg-muted/20 rounded",children:[(0,S.jsx)("div",{className:"font-bold text-muted-foreground",children:t.notStarted}),(0,S.jsx)("div",{className:"text-xs text-muted-foreground",children:"Not Started"})]})]})]})]})}function ji({node:e,onClose:t}){const i=fi(e.type),a=i.icon;return(0,S.jsxs)(k,{className:C("border-l-4",i.borderColor),children:[(0,S.jsx)(R,{className:"pb-2",children:(0,S.jsxs)("div",{className:"flex justify-between items-start",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,S.jsxs)(z,{variant:i.badgeVariant,className:C(i.bgColor,i.textColor),children:[(0,S.jsx)(a,{className:"w-3 h-3 mr-1"}),e.type]}),e.status&&(0,S.jsxs)("div",{className:"flex items-center gap-1",children:[(0,S.jsx)("div",{className:C("w-2 h-2 rounded-full",xi(e.status))}),(0,S.jsx)("span",{className:"text-xs capitalize",children:e.status.replace("-"," ")})]}),e.isAway&&(0,S.jsxs)(z,{variant:"outline",className:"border-dashed",children:[(0,S.jsx)(ci.A,{className:"w-3 h-3 mr-1"}),"Away"]})]}),(0,S.jsxs)(E,{className:"text-lg",children:[e.id,": ",e.label]})]}),(0,S.jsx)(F,{variant:"ghost",size:"icon",onClick:t,children:(0,S.jsx)(o.A,{className:"w-4 h-4"})})]})}),(0,S.jsxs)(T,{className:"space-y-4",children:[(0,S.jsx)("p",{className:"text-muted-foreground",children:e.description}),e.confidence&&(0,S.jsxs)("div",{className:"p-3 bg-muted/20 rounded-sm",children:[(0,S.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Confidence Assessment"}),(0,S.jsx)(gi,{confidence:e.confidence}),(0,S.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:e.confidence.rationale})]}),e.linkedHazards&&e.linkedHazards.length>0&&(0,S.jsxs)("div",{className:"p-3 bg-critical-red-dim rounded-sm",children:[(0,S.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Linked Hazards"}),(0,S.jsx)("div",{className:"flex flex-wrap gap-1",children:e.linkedHazards.map(e=>(0,S.jsx)(z,{variant:"outline",className:"text-critical-red border-critical-red/30",children:e},e))})]}),e.linkedRequirements&&e.linkedRequirements.length>0&&(0,S.jsxs)("div",{className:"p-3 bg-electric-blue-dim rounded-sm",children:[(0,S.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Linked Requirements"}),(0,S.jsx)("div",{className:"flex flex-wrap gap-1",children:e.linkedRequirements.map(e=>(0,S.jsx)(z,{variant:"outline",className:"text-electric-blue border-electric-blue/30",children:e},e))})]}),e.isAway&&e.awayReference&&(0,S.jsxs)("div",{className:"p-3 bg-muted/30 rounded-sm",children:[(0,S.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Away Reference"}),(0,S.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,S.jsx)(ci.A,{className:"w-3 h-3 inline mr-1"}),e.awayReference]})]}),e.evidence&&e.evidence.length>0&&(0,S.jsx)(vi,{node:e}),e.complianceMapping&&e.complianceMapping.length>0&&(0,S.jsx)(bi,{mappings:e.complianceMapping})]})]})}function Ai({nodes:e}){const t=(0,a.useMemo)(()=>{const t={Goal:0,Strategy:0,Solution:0,Context:0,Assumption:0,Justification:0};let i=0,a=0;e.forEach(e=>{t[e.type]=(t[e.type]||0)+1,e.evidence&&(i+=e.evidence.length,a+=e.evidence.filter(e=>"approved"===e.status).length)});const s=e.filter(e=>"complete"===e.status).length,r=e.filter(e=>void 0!==e.status).length,n=r>0?Math.round(s/r*100):0,l=i>0?Math.round(a/i*100):0;return{byType:t,evidenceCount:i,approvedEvidence:a,completionPercent:n,evidenceCoverage:l}},[e]),i=[{type:"Goal",icon:r.A,color:"text-electric-blue"},{type:"Strategy",icon:ni.A,color:"text-muted-foreground"},{type:"Solution",icon:Yt.A,color:"text-tactical-green"},{type:"Context",icon:li.A,color:"text-muted-foreground"},{type:"Assumption",icon:Kt.A,color:"text-warning-amber"},{type:"Justification",icon:oi.A,color:"text-warning-amber"}];return(0,S.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[i.map(({type:e,icon:i,color:a})=>(0,S.jsxs)("div",{className:"p-3 bg-card border rounded-sm text-center",children:[(0,S.jsx)(i,{className:C("w-5 h-5 mx-auto mb-1",a)}),(0,S.jsx)("div",{className:"font-bold text-lg",children:t.byType[e]||0}),(0,S.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e,"s"]})]},e)),(0,S.jsxs)("div",{className:"p-3 bg-card border rounded-sm text-center",children:[(0,S.jsx)(Ge.A,{className:"w-5 h-5 mx-auto mb-1 text-tactical-green"}),(0,S.jsxs)("div",{className:"font-bold text-lg",children:[t.completionPercent,"%"]}),(0,S.jsx)("div",{className:"text-xs text-muted-foreground",children:"Complete"})]}),(0,S.jsxs)("div",{className:"p-3 bg-card border rounded-sm text-center",children:[(0,S.jsx)(di.A,{className:"w-5 h-5 mx-auto mb-1 text-info-cyan"}),(0,S.jsxs)("div",{className:"font-bold text-lg",children:[t.evidenceCoverage,"%"]}),(0,S.jsx)("div",{className:"text-xs text-muted-foreground",children:"Evidence"})]})]})}function Ni({node:e,nodeMap:t,level:i=0,selectedNode:s,onSelectNode:r}){const[n,l]=(0,a.useState)(!0),o=e.children?.map(e=>t.get(e)).filter(e=>void 0!==e)||[],d=o.length>0,c=fi(e.type),u=c.icon,p=s===e.id,h="Solution"===e.type,f="Context"===e.type||"Assumption"===e.type||"Justification"===e.type;return(0,S.jsx)("div",{className:"relative",children:(0,S.jsxs)("div",{className:"flex items-start gap-2",children:[d?(0,S.jsx)("button",{onClick:()=>l(!n),className:"mt-3 text-muted-foreground hover:text-foreground flex-shrink-0",children:n?(0,S.jsx)(m.A,{className:"w-5 h-5"}):(0,S.jsx)(mi.A,{className:"w-5 h-5"})}):(0,S.jsx)("div",{className:"w-5 flex-shrink-0"}),(0,S.jsxs)("div",{className:"flex-1",children:[(0,S.jsx)("button",{onClick:()=>r(p?null:e.id),className:C("w-full text-left border-2 p-4 shadow-sm hover:shadow-md transition-all",c.bgColor,c.borderColor,h?"rounded-full px-6":c.shape,e.isAway&&"border-dashed",p&&"ring-2 ring-offset-2 ring-electric-blue ring-offset-[var(--bg-base)]"),children:(0,S.jsxs)("div",{className:C("flex items-start gap-3","Strategy"===e.type&&"skew-x-[6deg]"),children:[(0,S.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0 mt-1",children:[(0,S.jsx)(u,{className:C("w-5 h-5",c.textColor)}),e.isAway&&(0,S.jsx)(ui.A,{className:"w-4 h-4 text-muted-foreground/70"})]}),(0,S.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[(0,S.jsx)("span",{className:"text-xs px-2 py-0.5 bg-muted/40 rounded font-mono",children:e.id}),(0,S.jsx)("span",{className:C("text-xs px-2 py-0.5 rounded capitalize",c.bgColor,c.textColor),children:e.type}),e.status&&(0,S.jsxs)("div",{className:"flex items-center gap-1",children:[(0,S.jsx)("div",{className:C("w-2 h-2 rounded-full",xi(e.status))}),(0,S.jsx)("span",{className:"text-xs capitalize",children:e.status.replace("-"," ")})]}),e.confidence&&(0,S.jsx)(gi,{confidence:e.confidence}),e.evidence&&e.evidence.length>0&&(0,S.jsxs)(z,{variant:"outline",className:"text-xs",children:[(0,S.jsx)(di.A,{className:"w-3 h-3 mr-1"}),e.evidence.length]}),e.isAway&&(0,S.jsx)(z,{variant:"outline",className:"text-xs border-dashed",children:"Away"})]}),(0,S.jsx)("div",{className:C("font-medium",c.textColor),children:e.label}),!h&&!f&&(0,S.jsx)("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.description})]})]})}),d&&n&&(0,S.jsx)("div",{className:"ml-6 mt-3 border-l-2 border-border/30 pl-4 space-y-3",children:o.map(e=>(0,S.jsx)(Ni,{node:e,nodeMap:t,level:i+1,selectedNode:s,onSelectNode:r},e.id))})]})]})})}function wi(){const e=[{type:"Goal",icon:r.A,color:"text-electric-blue",shape:"Rectangle"},{type:"Strategy",icon:ni.A,color:"text-muted-foreground",shape:"Parallelogram"},{type:"Solution",icon:Yt.A,color:"text-tactical-green",shape:"Circle"},{type:"Context",icon:li.A,color:"text-muted-foreground",shape:"Rounded Rectangle"},{type:"Assumption",icon:Kt.A,color:"text-warning-amber",shape:"Ellipse (A)"},{type:"Justification",icon:oi.A,color:"text-warning-amber",shape:"Ellipse (J)"}];return(0,S.jsxs)("div",{className:"bg-muted/20 border border-border/40 rounded-sm p-4",children:[(0,S.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 text-sm",children:e.map(({type:e,icon:t,color:i,shape:a})=>(0,S.jsxs)(lt,{children:[(0,S.jsx)(ot,{asChild:!0,children:(0,S.jsxs)("div",{className:"flex items-center gap-2 cursor-help",children:[(0,S.jsx)(t,{className:C("w-4 h-4",i)}),(0,S.jsx)("span",{children:e})]})}),(0,S.jsx)(dt,{children:(0,S.jsxs)("p",{children:[e,": ",a]})})]},e))}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-4 pt-4 border-t border-border/30 text-sm",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-3 h-3 rounded-full bg-tactical-green"}),(0,S.jsx)("span",{children:"Complete - Evidence provided and verified"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-3 h-3 rounded-full bg-warning-amber"}),(0,S.jsx)("span",{children:"In Progress - Work ongoing"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("div",{className:"w-3 h-3 rounded-full bg-muted-foreground/60"}),(0,S.jsx)("span",{children:"Not Started - Planned work"})]})]})]})}function Ci(){const[e,t]=(0,a.useState)(null),i=b,s=(0,a.useMemo)(()=>function(e){const t=new Map;return e.forEach(e=>t.set(e.id,e)),t}(i),[i]),r=(0,a.useMemo)(()=>function(e){return e.filter(e=>!e.parent)}(i),[i]),n=e?s.get(e):null;return(0,S.jsxs)("div",{className:"space-y-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h2",{className:"text-2xl font-bold",children:"Goal Structured Notation Tree"}),(0,S.jsx)("p",{className:"text-muted-foreground mt-1",children:"Interactive safety argument structure showing goals, strategies, and supporting evidence per GSN Standard Version 2"})]}),(0,S.jsx)(Ai,{nodes:i}),(0,S.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,S.jsx)("div",{className:"lg:col-span-2",children:(0,S.jsx)(yi,{nodes:i})}),(0,S.jsx)("div",{className:"flex items-center justify-center",children:(0,S.jsxs)(k,{className:"w-full",children:[(0,S.jsx)(R,{className:"pb-2",children:(0,S.jsx)(E,{className:"text-base",children:"Quick Actions"})}),(0,S.jsxs)(T,{className:"space-y-2",children:[(0,S.jsxs)(F,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,S.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Add New Goal"]}),(0,S.jsxs)(F,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,S.jsx)(di.A,{className:"w-4 h-4 mr-2"}),"Export Safety Case"]}),(0,S.jsxs)(F,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,S.jsx)(Yt.A,{className:"w-4 h-4 mr-2"}),"Validate Completeness"]})]})]})})]}),(0,S.jsx)(wi,{}),(0,S.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,S.jsx)("div",{className:C("bg-card border border-border/40 rounded-sm p-6",n?"lg:col-span-2":"lg:col-span-3"),children:(0,S.jsx)("div",{className:"space-y-4",children:r.map(i=>(0,S.jsx)(Ni,{node:i,nodeMap:s,selectedNode:e,onSelectNode:t},i.id))})}),n&&(0,S.jsx)("div",{className:"lg:col-span-1",children:(0,S.jsx)(ji,{node:n,onClose:()=>t(null)})})]})]})}var Si=i(2534);function ki({className:e,...t}){return(0,S.jsx)(Si.bL,{"data-slot":"tabs",className:C("flex flex-col gap-0",e),...t})}function Ri({className:e,...t}){return(0,S.jsx)(Si.B8,{"data-slot":"tabs-list",className:C("bg-muted/30 text-muted-foreground inline-flex h-10 w-full items-center justify-start border-b border-border/60 px-1 gap-0",e),...t})}function Ei({className:e,...t}){return(0,S.jsx)(Si.l9,{"data-slot":"tabs-trigger",className:C("data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:bg-transparent","focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background focus-visible:outline-none","text-muted-foreground hover:text-foreground hover:bg-accent/50","inline-flex items-center justify-center gap-1.5 px-4 py-2.5 text-xs font-medium tracking-wider uppercase whitespace-nowrap transition-all duration-150","border-b-2 border-transparent -mb-px","disabled:pointer-events-none disabled:opacity-40","[&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Ti({className:e,...t}){return(0,S.jsx)(Si.UC,{"data-slot":"tabs-content",className:C("flex-1 outline-none",e),...t})}var Mi=i(180);function Di({rows:e,columns:t,getCellValue:i}){return(0,S.jsx)("div",{className:"overflow-x-auto",children:(0,S.jsxs)("table",{className:"w-full border-collapse text-xs",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{className:"p-2 border bg-muted/30 sticky left-0 z-10",children:"Hazards / Requirements"}),t.map(e=>(0,S.jsx)("th",{className:"p-2 border bg-muted/30 min-w-[60px]",children:(0,S.jsx)("div",{className:"transform -rotate-45 origin-center whitespace-nowrap",children:e.id})},e.id))]})}),(0,S.jsx)("tbody",{children:e.map(e=>(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"p-2 border bg-muted/20 sticky left-0 font-medium",children:e.id}),t.map(t=>{const a=i(e.id,t.id);return(0,S.jsx)("td",{className:"p-2 border text-center "+(a?"bg-tactical-green-dim":""),children:a&&(0,S.jsx)(Yt.A,{className:"w-4 h-4 text-tactical-green mx-auto"})},`${e.id}-${t.id}`)})]},e.id))})]})})}function Hi(){const e=g.length,t=g.filter(e=>e.linkedRequirements&&e.linkedRequirements.length>0).length,i=j.length,a=j.filter(e=>e.linkedTests&&e.linkedTests.length>0).length,s=j.filter(e=>A.some(t=>t.relatedRequirements&&t.relatedRequirements.includes(e.id))).length,r=e>0?Math.round(t/e*100):0,l=i>0?Math.round(a/i*100):0,o=i>0?Math.round(s/i*100):0,d=e-t+(i-a);return(0,S.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,S.jsx)(k,{children:(0,S.jsxs)(T,{className:"pt-4",children:[(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"text-sm text-muted-foreground",children:"Hazard Coverage"}),(0,S.jsxs)("div",{className:"text-2xl font-bold",children:[r,"%"]})]}),(0,S.jsx)(n.A,{className:"w-8 h-8 text-warning-amber opacity-50"})]}),(0,S.jsx)(st,{value:r,className:"mt-2 h-2"}),(0,S.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[t,"/",e," hazards linked to requirements"]})]})}),(0,S.jsx)(k,{children:(0,S.jsxs)(T,{className:"pt-4",children:[(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"text-sm text-muted-foreground",children:"Test Coverage"}),(0,S.jsxs)("div",{className:"text-2xl font-bold",children:[l,"%"]})]}),(0,S.jsx)(Yt.A,{className:"w-8 h-8 text-tactical-green opacity-50"})]}),(0,S.jsx)(st,{value:l,className:"mt-2 h-2"}),(0,S.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[a,"/",i," requirements have tests"]})]})}),(0,S.jsx)(k,{children:(0,S.jsxs)(T,{className:"pt-4",children:[(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"text-sm text-muted-foreground",children:"Evidence Coverage"}),(0,S.jsxs)("div",{className:"text-2xl font-bold",children:[o,"%"]})]}),(0,S.jsx)(di.A,{className:"w-8 h-8 text-electric-blue opacity-50"})]}),(0,S.jsx)(st,{value:o,className:"mt-2 h-2"}),(0,S.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[s,"/",i," requirements have evidence"]})]})}),(0,S.jsx)(k,{className:"bg-critical-red-dim border-critical-red/30",children:(0,S.jsxs)(T,{className:"pt-4",children:[(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"text-sm text-critical-red",children:"Gaps Found"}),(0,S.jsx)("div",{className:"text-2xl font-bold text-critical-red",children:d})]}),(0,S.jsx)(Mi.A,{className:"w-8 h-8 text-critical-red opacity-50"})]}),(0,S.jsx)("p",{className:"text-xs text-critical-red mt-2",children:"Missing links requiring attention"})]})})]})}function zi(){const e=g.filter(e=>!e.linkedRequirements||0===e.linkedRequirements.length),t=j.filter(e=>!e.linkedTests||0===e.linkedTests.length);return(0,S.jsxs)(k,{children:[(0,S.jsx)(R,{children:(0,S.jsxs)(E,{className:"flex items-center gap-2 text-critical-red",children:[(0,S.jsx)(Mi.A,{className:"w-5 h-5"}),"Gap Analysis"]})}),(0,S.jsx)(T,{children:(0,S.jsxs)(ki,{defaultValue:"hazards",children:[(0,S.jsxs)(Ri,{children:[(0,S.jsxs)(Ei,{value:"hazards",children:["Unlinked Hazards (",e.length,")"]}),(0,S.jsxs)(Ei,{value:"requirements",children:["Untested Requirements (",t.length,")"]})]}),(0,S.jsx)(Ti,{value:"hazards",children:0===e.length?(0,S.jsxs)("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:[(0,S.jsx)(Yt.A,{className:"w-5 h-5 mr-2 text-tactical-green"}),"All hazards are linked to requirements"]}):(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{children:"Hazard ID"}),(0,S.jsx)(je,{children:"Title"}),(0,S.jsx)(je,{children:"Severity"}),(0,S.jsx)(je,{children:"DAL"}),(0,S.jsx)(je,{children:"Action"})]})}),(0,S.jsx)(be,{children:e.map(e=>(0,S.jsxs)(ye,{className:"bg-critical-red-dim",children:[(0,S.jsx)(Ae,{className:"font-mono",children:e.id}),(0,S.jsx)(Ae,{children:e.title}),(0,S.jsx)(Ae,{children:(0,S.jsx)(z,{variant:"destructive",children:e.severity})}),(0,S.jsx)(Ae,{children:(0,S.jsxs)(z,{children:["DAL ",e.dal]})}),(0,S.jsx)(Ae,{children:(0,S.jsxs)(F,{variant:"outline",size:"sm",children:[(0,S.jsx)(d.A,{className:"w-3 h-3 mr-1"}),"Link"]})})]},e.id))})]})}),(0,S.jsx)(Ti,{value:"requirements",children:0===t.length?(0,S.jsxs)("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:[(0,S.jsx)(Yt.A,{className:"w-5 h-5 mr-2 text-tactical-green"}),"All requirements have tests"]}):(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{children:"Req ID"}),(0,S.jsx)(je,{children:"Text"}),(0,S.jsx)(je,{children:"Type"}),(0,S.jsx)(je,{children:"DAL"}),(0,S.jsx)(je,{children:"Action"})]})}),(0,S.jsx)(be,{children:t.map(e=>(0,S.jsxs)(ye,{className:"bg-warning-amber-dim/20",children:[(0,S.jsx)(Ae,{className:"font-mono",children:e.id}),(0,S.jsx)(Ae,{className:"max-w-md truncate",children:e.text}),(0,S.jsx)(Ae,{children:(0,S.jsx)(z,{variant:"outline",children:e.type})}),(0,S.jsx)(Ae,{children:(0,S.jsxs)(z,{children:["DAL ",e.dal]})}),(0,S.jsx)(Ae,{children:(0,S.jsxs)(F,{variant:"outline",size:"sm",children:[(0,S.jsx)(d.A,{className:"w-3 h-3 mr-1"}),"Link Test"]})})]},e.id))})]})})]})})]})}function Pi({hazardId:e}){const t=g.find(t=>t.id===e),i=j.filter(e=>t?.linkedRequirements?.includes(e.id)),a=A.filter(e=>i.some(t=>e.relatedRequirements&&e.relatedRequirements.includes(t.id)));return t?(0,S.jsxs)("div",{className:"flex items-center gap-2 p-4 bg-muted/20 rounded-sm overflow-x-auto",children:[(0,S.jsxs)("div",{className:"flex-shrink-0 p-3 bg-critical-red-dim rounded-sm text-center min-w-[100px]",children:[(0,S.jsx)(n.A,{className:"w-5 h-5 text-critical-red mx-auto"}),(0,S.jsx)("p",{className:"text-xs font-mono mt-1",children:e}),(0,S.jsx)("p",{className:"text-xs text-muted-foreground",children:"Hazard"})]}),(0,S.jsx)(ui.A,{className:"w-5 h-5 text-muted-foreground/70 flex-shrink-0"}),(0,S.jsx)("div",{className:"flex gap-2",children:0===i.length?(0,S.jsxs)("div",{className:"flex-shrink-0 p-3 bg-muted/30 rounded-sm text-center",children:[(0,S.jsx)(Mi.A,{className:"w-5 h-5 text-muted-foreground/70 mx-auto"}),(0,S.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"No linked requirements"})]}):i.map(e=>(0,S.jsxs)("div",{className:"flex-shrink-0 p-3 bg-electric-blue-dim rounded-sm text-center min-w-[100px]",children:[(0,S.jsx)(di.A,{className:"w-5 h-5 text-electric-blue mx-auto"}),(0,S.jsx)("p",{className:"text-xs font-mono mt-1",children:e.id}),(0,S.jsx)("p",{className:"text-xs text-muted-foreground",children:"Requirement"})]},e.id))}),(0,S.jsx)(ui.A,{className:"w-5 h-5 text-muted-foreground/70 flex-shrink-0"}),(0,S.jsx)("div",{className:"flex gap-2",children:0===a.length?(0,S.jsxs)("div",{className:"flex-shrink-0 p-3 bg-muted/30 rounded-sm text-center",children:[(0,S.jsx)(Mi.A,{className:"w-5 h-5 text-muted-foreground/70 mx-auto"}),(0,S.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"No linked evidence"})]}):a.map(e=>(0,S.jsxs)("div",{className:"flex-shrink-0 p-3 bg-tactical-green-dim rounded-sm text-center min-w-[100px]",children:[(0,S.jsx)(Yt.A,{className:"w-5 h-5 text-tactical-green mx-auto"}),(0,S.jsx)("p",{className:"text-xs font-mono mt-1",children:e.id}),(0,S.jsx)("p",{className:"text-xs text-muted-foreground",children:"Evidence"})]},e.id))})]}):(0,S.jsx)("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:"Hazard not found"})}function Fi(){const e=(0,a.useMemo)(()=>{const e=new Set;return j.forEach(t=>{t.linkedTests?.forEach(t=>e.add(t))}),Array.from(e).sort()},[]),t=j.slice(0,20).map(e=>({id:e.id,label:e.text.slice(0,40)})),i=e.slice(0,15).map(e=>({id:e,label:e}));return(0,S.jsxs)(k,{children:[(0,S.jsx)(R,{children:(0,S.jsx)(E,{children:"Requirements x Tests Matrix"})}),(0,S.jsx)(T,{children:(0,S.jsx)(Di,{rows:t,columns:i,getCellValue:(e,t)=>{const i=j.find(t=>t.id===e);return i?.linkedTests?.includes(t)||!1}})})]})}function Ii(){const e=y.slice(0,15).map(e=>({id:e.id,label:e.componentName})),t=g.slice(0,12).map(e=>({id:e.id,label:e.title.slice(0,30)}));return(0,S.jsxs)(k,{children:[(0,S.jsx)(R,{children:(0,S.jsx)(E,{children:"FMEA Items x Hazards Matrix"})}),(0,S.jsx)(T,{children:(0,S.jsx)(Di,{rows:e,columns:t,getCellValue:(e,t)=>{const i=y.find(t=>t.id===e);return i?.linkedHazards?.includes(t)||!1}})})]})}function qi(){const e=function(){const e=[];e.push("TRACEABILITY MATRIX REPORT"),e.push("=========================="),e.push(`Generated: ${(new Date).toISOString()}`),e.push(""),e.push("COVERAGE SUMMARY"),e.push("----------------");const t=g.length,i=g.filter(e=>e.linkedRequirements&&e.linkedRequirements.length>0).length,a=j.length,s=j.filter(e=>e.linkedTests&&e.linkedTests.length>0).length;return e.push(`Hazard Coverage: ${i}/${t} (${Math.round(i/t*100)}%)`),e.push(`Test Coverage: ${s}/${a} (${Math.round(s/a*100)}%)`),e.push(""),e.push("HAZARD TO REQUIREMENT TRACEABILITY"),e.push("-----------------------------------"),g.forEach(t=>{e.push(`${t.id}: ${t.title}`),e.push(` Linked Requirements: ${t.linkedRequirements?.join(", ")||"NONE"}`),e.push("")}),e.push("REQUIREMENT TO TEST TRACEABILITY"),e.push("--------------------------------"),j.forEach(t=>{e.push(`${t.id}: ${t.text.slice(0,60)}...`),e.push(` Linked Tests: ${t.linkedTests?.join(", ")||"NONE"}`),e.push(` Linked Hazards: ${t.linkedHazards?.join(", ")||"NONE"}`),e.push("")}),e.join("\n")}(),t=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(t),a=document.createElement("a");a.href=i,a.download=`traceability-matrix-${(new Date).toISOString().split("T")[0]}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}function Bi(){const[e,t]=(0,a.useState)("matrix"),[i,s]=(0,a.useState)(null),[r,n]=(0,a.useState)("hazard-req"),l=(0,a.useMemo)(()=>g.map(e=>({id:e.id,label:e.title})),[]),o=(0,a.useMemo)(()=>j.slice(0,15).map(e=>({id:e.id,label:e.text.slice(0,30)})),[]);return(0,S.jsxs)("div",{className:"space-y-6",children:[(0,S.jsxs)("div",{className:"flex justify-between items-center",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h2",{className:"text-2xl font-bold",children:"Traceability Matrix"}),(0,S.jsx)("p",{className:"text-muted-foreground",children:"Bidirectional traceability for DO-178C/ARP4761A compliance"})]}),(0,S.jsxs)(F,{variant:"outline",onClick:qi,children:[(0,S.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Export Matrix"]})]}),(0,S.jsx)(Hi,{}),(0,S.jsxs)(ki,{value:e,onValueChange:e=>t(e),children:[(0,S.jsxs)(Ri,{children:[(0,S.jsx)(Ei,{value:"matrix",children:"Matrix View"}),(0,S.jsx)(Ei,{value:"chain",children:"Chain View"}),(0,S.jsx)(Ei,{value:"gaps",children:"Gap Analysis"})]}),(0,S.jsxs)(Ti,{value:"matrix",children:[(0,S.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,S.jsx)(F,{variant:"hazard-req"===r?"default":"outline",size:"sm",onClick:()=>n("hazard-req"),children:"Hazards x Requirements"}),(0,S.jsx)(F,{variant:"req-test"===r?"default":"outline",size:"sm",onClick:()=>n("req-test"),children:"Requirements x Tests"}),(0,S.jsx)(F,{variant:"fmea-haz"===r?"default":"outline",size:"sm",onClick:()=>n("fmea-haz"),children:"FMEA x Hazards"})]}),"hazard-req"===r&&(0,S.jsxs)(k,{children:[(0,S.jsx)(R,{children:(0,S.jsx)(E,{children:"Hazards x Requirements Matrix"})}),(0,S.jsx)(T,{children:(0,S.jsx)(Di,{rows:l,columns:o,getCellValue:(e,t)=>{const i=g.find(t=>t.id===e);return i?.linkedRequirements?.includes(t)||!1}})})]}),"req-test"===r&&(0,S.jsx)(Fi,{}),"fmea-haz"===r&&(0,S.jsx)(Ii,{})]}),(0,S.jsxs)(Ti,{value:"chain",children:[(0,S.jsxs)(k,{children:[(0,S.jsx)(R,{children:(0,S.jsx)(E,{children:"Traceability Chain"})}),(0,S.jsxs)(T,{children:[(0,S.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Select a hazard to view its complete traceability chain"}),(0,S.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:g.slice(0,6).map(e=>(0,S.jsx)(F,{variant:i===e.id?"default":"outline",size:"sm",onClick:()=>s(e.id),children:e.id},e.id))}),i?(0,S.jsx)(Pi,{hazardId:i}):(0,S.jsx)("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:"Select a hazard above to view its traceability chain"})]})]}),i&&(0,S.jsxs)(k,{className:"mt-4",children:[(0,S.jsx)(R,{children:(0,S.jsx)(E,{children:"Chain Details"})}),(0,S.jsx)(T,{children:(0,S.jsx)(Vi,{hazardId:i})})]})]}),(0,S.jsx)(Ti,{value:"gaps",children:(0,S.jsx)(zi,{})})]})]})}function Vi({hazardId:e}){const t=g.find(t=>t.id===e),i=j.filter(e=>t?.linkedRequirements?.includes(e.id)),a=A.filter(e=>i.some(t=>e.relatedRequirements&&e.relatedRequirements.includes(t.id))),s=y.filter(t=>t.linkedHazards?.includes(e));return t?(0,S.jsxs)("div",{className:"space-y-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,S.jsx)(n.A,{className:"w-4 h-4 text-critical-red"}),"Hazard: ",t.id]}),(0,S.jsxs)("div",{className:"pl-6 text-sm space-y-1",children:[(0,S.jsxs)("p",{children:[(0,S.jsx)("span",{className:"text-muted-foreground",children:"Title:"})," ",t.title]}),(0,S.jsxs)("p",{children:[(0,S.jsx)("span",{className:"text-muted-foreground",children:"Severity:"})," ",(0,S.jsx)(z,{variant:"destructive",children:t.severity})]}),(0,S.jsxs)("p",{children:[(0,S.jsx)("span",{className:"text-muted-foreground",children:"DAL:"})," ",(0,S.jsxs)(z,{children:["DAL ",t.dal]})]}),(0,S.jsxs)("p",{children:[(0,S.jsx)("span",{className:"text-muted-foreground",children:"Status:"})," ",(0,S.jsx)(z,{variant:"outline",children:t.status})]})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,S.jsx)(di.A,{className:"w-4 h-4 text-electric-blue"}),"Linked Requirements (",i.length,")"]}),i.length>0?(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{children:"ID"}),(0,S.jsx)(je,{children:"Text"}),(0,S.jsx)(je,{children:"Type"}),(0,S.jsx)(je,{children:"Status"})]})}),(0,S.jsx)(be,{children:i.map(e=>(0,S.jsxs)(ye,{children:[(0,S.jsx)(Ae,{className:"font-mono",children:e.id}),(0,S.jsx)(Ae,{className:"max-w-xs truncate",children:e.text}),(0,S.jsx)(Ae,{children:(0,S.jsx)(z,{variant:"outline",children:e.type})}),(0,S.jsx)(Ae,{children:(0,S.jsx)(z,{variant:"Verified"===e.status?"default":"secondary",children:e.status})})]},e.id))})]}):(0,S.jsx)("p",{className:"text-sm text-muted-foreground pl-6",children:"No linked requirements"})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,S.jsx)(Yt.A,{className:"w-4 h-4 text-tactical-green"}),"Linked Evidence (",a.length,")"]}),a.length>0?(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{children:"ID"}),(0,S.jsx)(je,{children:"Title"}),(0,S.jsx)(je,{children:"Type"}),(0,S.jsx)(je,{children:"Status"})]})}),(0,S.jsx)(be,{children:a.map(e=>(0,S.jsxs)(ye,{children:[(0,S.jsx)(Ae,{className:"font-mono",children:e.id}),(0,S.jsx)(Ae,{children:e.title}),(0,S.jsx)(Ae,{children:(0,S.jsx)(z,{variant:"outline",children:e.type})}),(0,S.jsx)(Ae,{children:(0,S.jsx)(z,{variant:"Approved"===e.status?"default":"secondary",children:e.status})})]},e.id))})]}):(0,S.jsx)("p",{className:"text-sm text-muted-foreground pl-6",children:"No linked evidence"})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,S.jsx)(h.A,{className:"w-4 h-4 text-purple-500"}),"Related FMEA Items (",s.length,")"]}),s.length>0?(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{children:"ID"}),(0,S.jsx)(je,{children:"Component"}),(0,S.jsx)(je,{children:"Failure Mode"}),(0,S.jsx)(je,{children:"RPN"})]})}),(0,S.jsx)(be,{children:s.map(e=>(0,S.jsxs)(ye,{children:[(0,S.jsx)(Ae,{className:"font-mono",children:e.id}),(0,S.jsx)(Ae,{children:e.componentName}),(0,S.jsx)(Ae,{children:e.failureMode}),(0,S.jsx)(Ae,{children:(0,S.jsx)(z,{variant:e.rpn>100?"destructive":e.rpn>50?"secondary":"outline",children:e.rpn})})]},e.id))})]}):(0,S.jsx)("p",{className:"text-sm text-muted-foreground pl-6",children:"No related FMEA items"})]})]}):null}var Li=i(2731);function Zi({className:e,...t}){return(0,S.jsx)(Li.bL,{"data-slot":"checkbox",className:C("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,S.jsx)(Li.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,S.jsx)(de.A,{className:"size-3.5"})})})}const Oi=[{id:"A1-1",objective:"Software development and verification processes are defined",description:"Define processes and standards for software development lifecycle activities including requirements, design, coding, and integration.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Development Plan","Software Verification Plan"],table:"A-1"},{id:"A1-2",objective:"Software life cycle environment is defined",description:"Define the software development environment including tools, methods, and facilities used during development and verification.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Development Plan","Software Life Cycle Environment Configuration Index"],table:"A-1"},{id:"A1-3",objective:"Software development standards are defined",description:"Define standards for software requirements, design, and code including naming conventions, complexity limits, and documentation standards.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Requirements Standards","Software Design Standards","Software Code Standards"],table:"A-1"},{id:"A1-4",objective:"Software plans comply with this document",description:"Ensure that the software planning documents address all applicable objectives from DO-178C for the assigned software level.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Development Plan","Software Verification Plan","Software Configuration Management Plan","Software Quality Assurance Plan"],table:"A-1"},{id:"A1-5",objective:"Software development and verification processes are coordinated with system processes",description:"Coordinate software lifecycle processes with system-level development and safety assessment processes.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Plan for Software Aspects of Certification"],table:"A-1"},{id:"A1-6",objective:"Software plans are coordinated",description:"Ensure consistency and coordination between all software planning documents.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Development Plan","Software Verification Plan","Software Configuration Management Plan","Software Quality Assurance Plan"],table:"A-1"},{id:"A1-7",objective:"Transition criteria are defined",description:"Define criteria for transition between software lifecycle processes and for process entry/exit.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Development Plan","Software Verification Plan"],table:"A-1"}],Qi=[{id:"A2-1",objective:"High-level requirements are developed",description:"Develop high-level requirements (HLR) from system requirements allocated to software, including functional, performance, and interface requirements.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Requirements Data"],table:"A-2"},{id:"A2-2",objective:"Derived high-level requirements are defined",description:"Identify and document derived high-level requirements that arise from software design decisions but do not directly trace to system requirements.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Requirements Data"],table:"A-2"},{id:"A2-3",objective:"Software architecture is developed",description:"Develop the software architecture that satisfies the high-level requirements, defining the structure and organization of software components.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Design Description"],table:"A-2"},{id:"A2-4",objective:"Low-level requirements are developed",description:"Develop low-level requirements (LLR) from high-level requirements and software architecture, providing detail needed for source code implementation.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Design Description"],table:"A-2"},{id:"A2-5",objective:"Derived low-level requirements are defined",description:"Identify and document derived low-level requirements that arise from detailed design decisions.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Design Description"],table:"A-2"},{id:"A2-6",objective:"Source code is developed",description:"Develop source code that implements the low-level requirements (or high-level requirements for Level D software).",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Source Code"],table:"A-2"},{id:"A2-7",objective:"Executable Object Code and Parameter Data Item Files are produced",description:"Compile and link source code to produce executable object code and associated parameter data item files.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Executable Object Code","Parameter Data Item File"],table:"A-2"}],Gi=[{id:"A3-1",objective:"High-level requirements comply with system requirements",description:"Verify that each high-level requirement is traceable to and consistent with the system requirements allocated to software.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-3"},{id:"A3-2",objective:"High-level requirements are accurate and consistent",description:"Verify that high-level requirements are unambiguous, internally consistent, and accurately describe the intended software behavior.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-3"},{id:"A3-3",objective:"High-level requirements are compatible with target computer",description:"Verify that high-level requirements are compatible with the capabilities and constraints of the target computer hardware.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-3"},{id:"A3-4",objective:"High-level requirements are verifiable",description:"Verify that each high-level requirement can be verified through testing, analysis, or review.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-3"},{id:"A3-5",objective:"High-level requirements conform to standards",description:"Verify that high-level requirements conform to the software requirements standards defined in the Software Development Plan.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-3"},{id:"A3-6",objective:"High-level requirements are traceable to system requirements",description:"Verify that bidirectional traceability exists between high-level requirements and system requirements.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-3"},{id:"A3-7",objective:"Algorithms are accurate",description:"Verify that algorithms specified in high-level requirements are mathematically accurate and suitable for the intended application.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-3"}],_i=[{id:"A4-1",objective:"Low-level requirements comply with high-level requirements",description:"Verify that each low-level requirement is traceable to and consistent with the high-level requirements.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-2",objective:"Low-level requirements are accurate and consistent",description:"Verify that low-level requirements are unambiguous, internally consistent, and accurately describe the intended software behavior.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-3",objective:"Low-level requirements are compatible with target computer",description:"Verify that low-level requirements are compatible with the capabilities and constraints of the target computer.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-4",objective:"Low-level requirements are verifiable",description:"Verify that each low-level requirement can be verified through testing, analysis, or review.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-5",objective:"Low-level requirements conform to standards",description:"Verify that low-level requirements conform to the software design standards defined in the Software Development Plan.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-6",objective:"Low-level requirements are traceable to high-level requirements",description:"Verify that bidirectional traceability exists between low-level requirements and high-level requirements.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-7",objective:"Algorithms are accurate",description:"Verify that algorithms specified in low-level requirements are mathematically accurate and suitable for the intended application.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-8",objective:"Software architecture is compatible with high-level requirements",description:"Verify that the software architecture satisfies the high-level requirements and is compatible with system architecture.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-9",objective:"Software architecture is consistent",description:"Verify that the software architecture components are internally consistent and compatible with each other.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-10",objective:"Software architecture is compatible with target computer",description:"Verify that the software architecture is compatible with the target computer capabilities including memory, timing, and I/O.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-11",objective:"Software architecture is verifiable",description:"Verify that the software architecture allows verification of the implemented software.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-12",objective:"Software architecture conforms to standards",description:"Verify that the software architecture conforms to the software design standards.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"},{id:"A4-13",objective:"Software partitioning integrity is confirmed",description:"Verify that software partitioning mechanisms prevent interference between partitioned components.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-4"}],Ui=[{id:"A5-1",objective:"Source Code complies with low-level requirements",description:"Verify that the source code correctly implements the low-level requirements (or high-level requirements for Level D).",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-5"},{id:"A5-2",objective:"Source Code complies with software architecture",description:"Verify that the source code is consistent with the software architecture.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-5"},{id:"A5-3",objective:"Source Code is verifiable",description:"Verify that the source code structure allows for complete verification through testing and analysis.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-5"},{id:"A5-4",objective:"Source Code conforms to standards",description:"Verify that the source code conforms to the software code standards defined in the Software Development Plan.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-5"},{id:"A5-5",objective:"Source Code is traceable to low-level requirements",description:"Verify that bidirectional traceability exists between source code and low-level requirements (or HLR for Level D).",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-5"},{id:"A5-6",objective:"Source Code is accurate and consistent",description:"Verify that the source code is accurate, internally consistent, and free from defects.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-5"},{id:"A5-7",objective:"Output of software integration process is complete and correct",description:"Verify that the integrated software is complete and that all components are correctly linked.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-5"},{id:"A5-8",objective:"Parameter Data Item File is correct and complete",description:"Verify that parameter data item files are correct and complete for the intended application.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-5"},{id:"A5-9",objective:"Verification of Parameter Data Item File is achieved",description:"Verify that parameter data item files have been verified according to the verification plan.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-5"}],$i=[{id:"A6-1",objective:"Executable Object Code complies with high-level requirements",description:"Verify through testing that the executable object code satisfies the high-level requirements.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-6"},{id:"A6-2",objective:"Executable Object Code is robust with high-level requirements",description:"Verify through testing that the executable object code behaves correctly under abnormal inputs and conditions.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-6"},{id:"A6-3",objective:"Executable Object Code complies with low-level requirements",description:"Verify through testing that the executable object code satisfies the low-level requirements.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-6"},{id:"A6-4",objective:"Executable Object Code is robust with low-level requirements",description:"Verify through testing that the executable object code handles error conditions defined in low-level requirements.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-6"},{id:"A6-5",objective:"Executable Object Code is compatible with target computer",description:"Verify through testing that the executable object code operates correctly on the target computer hardware.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-6"}],Wi=[{id:"A7-1",objective:"Test procedures are correct",description:"Verify that test procedures correctly implement the test cases and produce the expected results.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-7"},{id:"A7-2",objective:"Test results are correct and discrepancies explained",description:"Verify that test results are correctly recorded and any discrepancies are analyzed and explained.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-7"},{id:"A7-3",objective:"Test coverage of high-level requirements is achieved",description:"Verify that testing achieves complete coverage of all high-level requirements.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-7"},{id:"A7-4",objective:"Test coverage of low-level requirements is achieved",description:"Verify that testing achieves complete coverage of all low-level requirements.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-7"},{id:"A7-5",objective:"Test coverage of software structure (modified condition/decision) is achieved",description:"Verify that testing achieves MC/DC coverage demonstrating that each condition independently affects the decision.",applicability:{A:!0,B:!1,C:!1,D:!1},independence:{A:!0,B:!1,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-7"},{id:"A7-6",objective:"Test coverage of software structure (decision coverage) is achieved",description:"Verify that testing achieves decision coverage demonstrating that each decision has taken all possible outcomes.",applicability:{A:!0,B:!0,C:!1,D:!1},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-7"},{id:"A7-7",objective:"Test coverage of software structure (statement coverage) is achieved",description:"Verify that testing achieves statement coverage demonstrating that each statement has been executed.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-7"},{id:"A7-8",objective:"Test coverage of software structure (data coupling and control coupling) is achieved",description:"Verify that testing demonstrates data and control coupling between software components.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-7"},{id:"A7-9",objective:"Verification of additional code that cannot be traced to source code is achieved",description:"Verify that any code generated by the compiler or linker that cannot be traced to source code does not cause anomalous behavior.",applicability:{A:!0,B:!0,C:!0,D:!1},independence:{A:!0,B:!0,C:!1,D:!1},outputs:["Software Verification Results"],table:"A-7"}],Ji=[{id:"A8-1",objective:"Configuration items are identified",description:"Identify all configuration items that are required to be controlled, including software code, data, tools, and documentation.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Configuration Management Records","Software Configuration Index"],table:"A-8"},{id:"A8-2",objective:"Baselines and traceability are established",description:"Establish configuration baselines and maintain traceability between configuration items.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Configuration Management Records","Software Configuration Index"],table:"A-8"},{id:"A8-3",objective:"Problem reporting, change control, change review, and configuration status accounting are established",description:"Establish processes for problem reporting, change control, change review, and tracking configuration status.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Problem Reports","Software Configuration Management Records"],table:"A-8"},{id:"A8-4",objective:"Archive, retrieval, and release are established",description:"Establish processes for archiving, retrieving, and releasing configuration items.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Configuration Management Records"],table:"A-8"},{id:"A8-5",objective:"Software load control is established",description:"Establish processes to ensure only authorized software is loaded onto the target computer.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Configuration Management Records"],table:"A-8"},{id:"A8-6",objective:"Software life cycle environment control is established",description:"Establish control over the software development and verification environment including tools and equipment.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Life Cycle Environment Configuration Index"],table:"A-8"}],Ki=[{id:"A9-1",objective:"Assurance is obtained that software development and verification processes comply with approved plans",description:"Provide assurance that software processes are conducted in compliance with the approved software plans and standards.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!0,D:!0},outputs:["Software Quality Assurance Records"],table:"A-9"},{id:"A9-2",objective:"Assurance is obtained that software development and verification processes comply with approved standards",description:"Provide assurance that software products conform to the approved software standards.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!0,D:!0},outputs:["Software Quality Assurance Records"],table:"A-9"},{id:"A9-3",objective:"Assurance is obtained that transition criteria have been satisfied",description:"Provide assurance that transition criteria between processes have been satisfied before proceeding.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!0,D:!0},outputs:["Software Quality Assurance Records"],table:"A-9"},{id:"A9-4",objective:"Assurance is obtained that software conformity review is conducted",description:"Provide assurance that a conformity review is conducted to verify that the software product conforms to its definition.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!0,D:!0},outputs:["Software Conformity Review"],table:"A-9"},{id:"A9-5",objective:"Software Quality Assurance Records are complete",description:"Ensure that software quality assurance records are complete and available for certification.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!0,B:!0,C:!0,D:!0},outputs:["Software Quality Assurance Records"],table:"A-9"}],Yi=[{id:"A10-1",objective:"Communication and understanding between the applicant and the certification authority is established",description:"Establish and maintain communication with the certification authority regarding software aspects of certification.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Plan for Software Aspects of Certification"],table:"A-10"},{id:"A10-2",objective:"The means of compliance is proposed and agreement with the Plan for Software Aspects of Certification is obtained",description:"Propose the means of compliance and obtain certification authority agreement with the Plan for Software Aspects of Certification.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Plan for Software Aspects of Certification"],table:"A-10"},{id:"A10-3",objective:"Compliance substantiation is provided",description:"Provide evidence of compliance with the certification basis and Plan for Software Aspects of Certification.",applicability:{A:!0,B:!0,C:!0,D:!0},independence:{A:!1,B:!1,C:!1,D:!1},outputs:["Software Accomplishment Summary"],table:"A-10"}],Xi=[...Oi,...Qi,...Gi,..._i,...Ui,...$i,...Wi,...Ji,...Ki,...Yi],ea=[{id:"A-1",title:"Software Planning Process",description:"Objectives for software planning activities",objectiveCount:Oi.length},{id:"A-2",title:"Software Development Process",description:"Objectives for software development activities",objectiveCount:Qi.length},{id:"A-3",title:"Verification of Outputs of Software Requirements Process",description:"Objectives for verifying software requirements",objectiveCount:Gi.length},{id:"A-4",title:"Verification of Outputs of Software Design Process",description:"Objectives for verifying software design",objectiveCount:_i.length},{id:"A-5",title:"Verification of Outputs of Software Coding & Integration Process",description:"Objectives for verifying coding and integration",objectiveCount:Ui.length},{id:"A-6",title:"Testing of Outputs of Integration Process",description:"Objectives for integration testing",objectiveCount:$i.length},{id:"A-7",title:"Verification of Verification Process Results",description:"Objectives for verifying test coverage and results",objectiveCount:Wi.length},{id:"A-8",title:"Software Configuration Management Process",description:"Objectives for configuration management",objectiveCount:Ji.length},{id:"A-9",title:"Software Quality Assurance Process",description:"Objectives for quality assurance",objectiveCount:Ki.length},{id:"A-10",title:"Certification Liaison Process",description:"Objectives for certification activities",objectiveCount:Yi.length}],ta=(Xi.filter(e=>e.applicability.A).length,Xi.filter(e=>e.applicability.A&&e.independence.A).length,Xi.filter(e=>e.applicability.B).length,Xi.filter(e=>e.applicability.B&&e.independence.B).length,Xi.filter(e=>e.applicability.C).length,Xi.filter(e=>e.applicability.C&&e.independence.C).length,Xi.filter(e=>e.applicability.D).length,Xi.filter(e=>e.applicability.D&&e.independence.D).length,[{id:"FHA-1",requirement:"Identify aircraft and system functions",description:"Identify all functions to be performed by the system under assessment, including normal, abnormal, and emergency operations.",inputs:["Aircraft-level functional requirements","System architecture","Operational requirements"],outputs:["Function list","Function descriptions"],activities:["Review system requirements and architecture","Identify primary and secondary functions","Document function descriptions and boundaries","Identify function interfaces and dependencies"]},{id:"FHA-2",requirement:"Identify failure conditions",description:"Identify failure conditions resulting from loss, malfunction, or unintended function of each system function.",inputs:["Function list","System architecture","Interface definitions"],outputs:["Failure condition list","Failure condition descriptions"],activities:["Apply systematic hazard identification techniques","Consider loss of function scenarios","Consider malfunction scenarios","Consider unintended function scenarios","Document failure condition descriptions"]},{id:"FHA-3",requirement:"Classify failure condition severity",description:"Classify the severity of each failure condition based on its effect on the aircraft, crew, and passengers.",inputs:["Failure condition list","Aircraft operational envelope","Crew response capabilities"],outputs:["Failure condition classifications","Safety objectives"],activities:["Evaluate worst-case effects on aircraft","Evaluate effects on crew workload and capability","Evaluate effects on passengers","Assign severity classification","Document classification rationale"]},{id:"FHA-4",requirement:"Assign probability objectives",description:"Assign quantitative and qualitative probability objectives to each failure condition based on its severity.",inputs:["Failure condition classifications","Regulatory requirements"],outputs:["Probability objectives","Safety requirements"],activities:["Determine quantitative probability objective","Determine qualitative probability classification","Document probability objectives","Derive safety requirements"]},{id:"FHA-5",requirement:"Document FHA results",description:"Document the FHA results including all failure conditions, classifications, and derived safety requirements.",inputs:["All FHA outputs"],outputs:["FHA Report","Safety requirements document"],activities:["Compile FHA worksheet/table","Document assumptions and rationale","Cross-reference to system requirements","Obtain engineering review and approval"]}]),ia=[{id:"PSSA-1",requirement:"Develop preliminary system architecture",description:"Develop and analyze preliminary system architecture to identify safety-significant design features.",inputs:["System requirements","FHA results","Preliminary architecture concepts"],outputs:["Preliminary architecture description","Safety-significant items list"],activities:["Review system requirements","Identify candidate architectures","Identify safety-significant design elements","Document preliminary architecture"],analysisTypes:["Architectural analysis","Trade study"]},{id:"PSSA-2",requirement:"Perform preliminary Fault Tree Analysis (FTA)",description:"Construct preliminary fault trees for each identified failure condition to evaluate architecture adequacy.",inputs:["FHA failure conditions","Preliminary architecture","Component failure data"],outputs:["Preliminary fault trees","Cut set analysis"],activities:["Construct fault tree for each failure condition","Identify minimal cut sets","Evaluate architecture independence","Assess probability compliance"],analysisTypes:["Fault Tree Analysis (FTA)"]},{id:"PSSA-3",requirement:"Perform preliminary Failure Modes and Effects Analysis (FMEA)",description:"Conduct preliminary FMEA to identify component failure modes and their system-level effects.",inputs:["System architecture","Component specifications","FHA failure conditions"],outputs:["Preliminary FMEA","Critical items list"],activities:["Identify component failure modes","Analyze local and system effects","Identify detection methods","Document compensating provisions"],analysisTypes:["Failure Modes and Effects Analysis (FMEA)"]},{id:"PSSA-4",requirement:"Perform Common Cause Analysis (CCA)",description:"Conduct preliminary CCA to identify potential common causes that could compromise independence assumptions.",inputs:["System architecture","Fault trees","Installation drawings"],outputs:["Preliminary CCA report","CCA checklist results"],activities:["Perform Zonal Safety Analysis","Perform Particular Risks Analysis","Perform Common Mode Analysis","Document common cause vulnerabilities"],analysisTypes:["Zonal Safety Analysis (ZSA)","Particular Risks Analysis (PRA)","Common Mode Analysis (CMA)"]},{id:"PSSA-5",requirement:"Derive safety requirements",description:"Derive safety requirements for lower-level systems, hardware, and software based on PSSA results.",inputs:["PSSA analysis results","FHA safety objectives"],outputs:["Derived safety requirements","Design assurance level assignments"],activities:["Derive hardware safety requirements","Derive software safety requirements","Assign design assurance levels","Document requirement allocation"],analysisTypes:["Requirements derivation"]},{id:"PSSA-6",requirement:"Document PSSA results",description:"Document all PSSA activities, analyses, and results in the PSSA report.",inputs:["All PSSA outputs"],outputs:["PSSA Report"],activities:["Compile analysis results","Document assumptions and limitations","Cross-reference to FHA","Obtain engineering review and approval"],analysisTypes:["Documentation"]}],aa=[{id:"SSA-1",requirement:"Update fault trees with final design data",description:"Update preliminary fault trees with final design details and verified component failure rates.",inputs:["PSSA fault trees","Final design data","Verified failure rate data"],outputs:["Final fault trees","Quantitative analysis results"],activities:["Update fault tree structure for final design","Input verified failure rate data","Calculate top event probability","Verify compliance with safety objectives"],verificationMethods:["Analysis","Test data","Service experience"]},{id:"SSA-2",requirement:"Complete FMEA with verified data",description:"Complete the FMEA with final design details and verified component failure data.",inputs:["PSSA FMEA","Final design data","Verified failure data"],outputs:["Final FMEA"],activities:["Update FMEA for final design","Verify failure mode coverage","Confirm detection provisions","Document mitigation measures"],verificationMethods:["Analysis","Test","Inspection"]},{id:"SSA-3",requirement:"Complete Common Cause Analysis",description:"Complete CCA with final installation details and verify independence assumptions.",inputs:["PSSA CCA","Final installation data","Wiring diagrams"],outputs:["Final CCA report"],activities:["Complete Zonal Safety Analysis","Complete Particular Risks Analysis","Complete Common Mode Analysis","Verify independence claims"],verificationMethods:["Inspection","Analysis","Test"]},{id:"SSA-4",requirement:"Verify safety requirement compliance",description:"Verify that all derived safety requirements have been implemented and verified.",inputs:["Derived safety requirements","Design verification data","Test results"],outputs:["Safety requirement verification matrix"],activities:["Trace safety requirements to implementation","Verify requirement satisfaction","Document verification evidence","Close safety requirements"],verificationMethods:["Analysis","Test","Inspection","Demonstration"]},{id:"SSA-5",requirement:"Verify design assurance level compliance",description:"Verify that hardware and software meet assigned design assurance levels.",inputs:["DAL assignments","Development artifacts","Verification evidence"],outputs:["DAL compliance evidence"],activities:["Review development process compliance","Verify verification coverage","Confirm tool qualification status","Document compliance evidence"],verificationMethods:["Audit","Review","Analysis"]},{id:"SSA-6",requirement:"Document SSA results",description:"Document all SSA activities and results demonstrating safety objective compliance.",inputs:["All SSA outputs"],outputs:["SSA Report","Safety assessment summary"],activities:["Compile all analysis results","Summarize compliance status","Document residual risks","Obtain engineering and certification approval"],verificationMethods:["Review"]}],sa=[{id:"ZSA-1",category:"ZSA",item:"Physical separation of redundant elements",description:"Verify that redundant system elements are physically separated to prevent single failure propagation.",verificationMethod:"Installation inspection and drawing review",acceptanceCriteria:"Redundant elements located in different zones or with adequate physical barriers"},{id:"ZSA-2",category:"ZSA",item:"Routing of redundant wiring/tubing",description:"Verify that redundant wiring and tubing are routed through different zones or protected paths.",verificationMethod:"Wire routing diagram review and inspection",acceptanceCriteria:"No common routing paths without adequate protection"},{id:"ZSA-3",category:"ZSA",item:"Equipment installation interference",description:"Verify that equipment installation does not create interference with other systems.",verificationMethod:"Installation review and EMI/EMC analysis",acceptanceCriteria:"No adverse interference identified"},{id:"ZSA-4",category:"ZSA",item:"Maintenance accessibility",description:"Verify that safety-critical items are accessible for maintenance without creating hazards.",verificationMethod:"Maintenance procedure review and physical inspection",acceptanceCriteria:"Maintenance access does not compromise system safety"},{id:"ZSA-5",category:"ZSA",item:"Failure propagation paths",description:"Identify potential failure propagation paths between systems in the same zone.",verificationMethod:"Zone analysis and FMEA review",acceptanceCriteria:"No unmitigated failure propagation paths identified"},{id:"PRA-1",category:"PRA",item:"Fire and smoke effects",description:"Analyze effects of fire and smoke on system safety and identify mitigation measures.",verificationMethod:"Fire zone analysis and test",acceptanceCriteria:"System can withstand fire effects or adequate protection provided"},{id:"PRA-2",category:"PRA",item:"Bird strike effects",description:"Analyze effects of bird strike on system safety.",verificationMethod:"Vulnerability analysis",acceptanceCriteria:"Critical functions protected from bird strike effects"},{id:"PRA-3",category:"PRA",item:"Tire burst effects",description:"Analyze effects of tire burst on systems located near landing gear.",verificationMethod:"Trajectory analysis and inspection",acceptanceCriteria:"Critical systems protected from tire burst debris"},{id:"PRA-4",category:"PRA",item:"Uncontained engine failure",description:"Analyze effects of uncontained engine failure on system safety.",verificationMethod:"Trajectory analysis and vulnerability assessment",acceptanceCriteria:"Critical functions maintained after uncontained engine failure"},{id:"PRA-5",category:"PRA",item:"High Intensity Radiated Fields (HIRF)",description:"Analyze effects of HIRF on electronic systems.",verificationMethod:"HIRF analysis and test",acceptanceCriteria:"Systems meet HIRF protection requirements"},{id:"PRA-6",category:"PRA",item:"Lightning effects",description:"Analyze direct and indirect effects of lightning on system safety.",verificationMethod:"Lightning analysis and test",acceptanceCriteria:"Systems meet lightning protection requirements"},{id:"PRA-7",category:"PRA",item:"Icing effects",description:"Analyze effects of icing conditions on system operation.",verificationMethod:"Icing analysis and test",acceptanceCriteria:"System operation maintained under icing conditions"},{id:"PRA-8",category:"PRA",item:"Water and fluid ingress",description:"Analyze effects of water or fluid ingress on system safety.",verificationMethod:"Environmental analysis and test",acceptanceCriteria:"Systems protected from water/fluid ingress effects"},{id:"CMA-1",category:"CMA",item:"Software common mode failures",description:"Identify potential software common mode failures affecting redundant channels.",verificationMethod:"Software architecture review",acceptanceCriteria:"Dissimilar software or demonstrated independence"},{id:"CMA-2",category:"CMA",item:"Hardware common mode failures",description:"Identify potential hardware common mode failures in redundant systems.",verificationMethod:"Hardware design review",acceptanceCriteria:"Dissimilar hardware or demonstrated independence"},{id:"CMA-3",category:"CMA",item:"Common power source effects",description:"Analyze effects of common power source failures on redundant systems.",verificationMethod:"Power architecture review",acceptanceCriteria:"Independent power sources or adequate backup"},{id:"CMA-4",category:"CMA",item:"Common environmental stress",description:"Identify common environmental conditions that could affect multiple channels.",verificationMethod:"Environmental analysis",acceptanceCriteria:"Channels protected from common environmental stress"},{id:"CMA-5",category:"CMA",item:"Common production defects",description:"Identify potential production defects that could affect multiple units.",verificationMethod:"Production process review",acceptanceCriteria:"Quality controls prevent systematic production defects"},{id:"CMA-6",category:"CMA",item:"Common maintenance errors",description:"Identify maintenance actions that could introduce common failures.",verificationMethod:"Maintenance procedure review",acceptanceCriteria:"Procedures prevent simultaneous errors on redundant systems"},{id:"CMA-7",category:"CMA",item:"Cascading failures",description:"Identify potential cascading failure sequences between systems.",verificationMethod:"Failure propagation analysis",acceptanceCriteria:"Isolation provisions prevent cascading failures"},{id:"CMA-8",category:"CMA",item:"Design review and requirements traceability",description:"Verify that common requirements do not create common vulnerabilities.",verificationMethod:"Requirements traceability review",acceptanceCriteria:"Common requirements do not compromise independence"}],ra=[{id:"FHA",name:"FHA",fullName:"Functional Hazard Assessment",description:"Identifies aircraft and system-level functions, failure conditions, and their effects to establish safety objectives.",primaryInputs:["System requirements","Operational requirements","Aircraft functions"],primaryOutputs:["Failure condition list","Severity classifications","Safety objectives"]},{id:"PSSA",name:"PSSA",fullName:"Preliminary System Safety Assessment",description:"Examines proposed system architecture to determine how failures can cause FHA failure conditions and derives safety requirements.",primaryInputs:["FHA results","Preliminary architecture","Component data"],primaryOutputs:["Preliminary analyses","Derived safety requirements","DAL assignments"]},{id:"SSA",name:"SSA",fullName:"System Safety Assessment",description:"Verifies that the implemented system meets safety objectives through completed analyses with verified data.",primaryInputs:["PSSA results","Final design data","Verified failure data"],primaryOutputs:["Final analyses","Compliance verification","SSA report"]},{id:"CCA",name:"CCA",fullName:"Common Cause Analysis",description:"Verifies independence of systems and identifies potential common causes that could affect multiple systems.",primaryInputs:["System architecture","Installation data","Independence claims"],primaryOutputs:["ZSA report","PRA report","CMA report"]}],na={1:{category:"Catastrophic",description:"Could result in one or more of the following: death, permanent total disability, irreversible significant environmental impact, or monetary loss equal to or exceeding $10M",mishapDefinition:"Death or permanent total disability; system loss; significant irreversible environmental damage; monetary loss equal to or exceeding $10M"},2:{category:"Critical",description:"Could result in one or more of the following: permanent partial disability, injuries or occupational illness that may result in hospitalization of at least three personnel, reversible significant environmental impact, or monetary loss equal to or exceeding $1M but less than $10M",mishapDefinition:"Permanent partial disability; temporary total disability exceeding 3 months; hospitalization of 3 or more personnel; reversible significant environmental damage; monetary loss of $1M or more but less than $10M"},3:{category:"Marginal",description:"Could result in one or more of the following: injury or occupational illness resulting in one or more lost work day(s), reversible moderate environmental impact, or monetary loss equal to or exceeding $100K but less than $1M",mishapDefinition:"Injury or occupational illness resulting in 1 or more lost work days; reversible moderate environmental damage; monetary loss of $100K or more but less than $1M"},4:{category:"Negligible",description:"Could result in one or more of the following: injury or occupational illness not resulting in a lost work day, minimal environmental impact, or monetary loss less than $100K",mishapDefinition:"Injury or illness not resulting in a lost work day; minimal environmental damage; monetary loss less than $100K"}},la={A:{level:"Frequent",description:"Likely to occur often in the life of an item",quantitative:"> 10^-1",individualItem:"Likely to occur often",fleet:"Continuously experienced"},B:{level:"Probable",description:"Will occur several times in the life of an item",quantitative:"10^-1 to 10^-2",individualItem:"Will occur several times",fleet:"Will occur frequently"},C:{level:"Occasional",description:"Likely to occur some time in the life of an item",quantitative:"10^-2 to 10^-3",individualItem:"Likely to occur sometime",fleet:"Will occur several times"},D:{level:"Remote",description:"Unlikely but possible to occur in the life of an item",quantitative:"10^-3 to 10^-6",individualItem:"Unlikely but possible",fleet:"Unlikely but can reasonably be expected to occur"},E:{level:"Improbable",description:"So unlikely, it can be assumed occurrence may not be experienced",quantitative:"< 10^-6",individualItem:"So unlikely, may be assumed occurrence may not be experienced",fleet:"Unlikely to occur, but possible"},F:{level:"Eliminated",description:"Incapable of occurrence. This level is used when potential hazards are identified and later eliminated",quantitative:"0",individualItem:"Incapable of occurrence",fleet:"Incapable of occurrence"}},oa={High:{authority:"Component Acquisition Executive (CAE)",description:"The Component Acquisition Executive or equivalent has the authority to accept High risks. These risks require formal review and explicit acceptance documentation."},Serious:{authority:"Program Executive Officer (PEO)",description:"The Program Executive Officer has the authority to accept Serious risks. These risks require documented justification and risk mitigation plans."},Medium:{authority:"Program Manager (PM)",description:"The Program Manager has the authority to accept Medium risks. These risks should be documented and tracked with appropriate mitigation measures."},Low:{authority:"As directed by PM",description:"Low risks may be accepted at the level directed by the Program Manager. Documentation and tracking requirements are at PM discretion."}},da=[{id:"TASK-100",name:"System Safety Program",description:"Tasks related to planning and managing the system safety program",tasks:[{id:"101",name:"System Safety Program Plan",description:"Document the approach, organization, resources, methods, and schedule for the system safety program. The SSPP describes how the contractor will implement MIL-STD-882E requirements.",applicability:["All acquisition phases","All system types"],outputs:["System Safety Program Plan (SSPP)"]},{id:"102",name:"Integration of System Safety in SE Process",description:"Integrate system safety engineering into the overall systems engineering process. Ensure safety is considered throughout the system lifecycle.",applicability:["All acquisition phases","All system types"],outputs:["Systems Engineering Management Plan updates","Safety integration documentation"]},{id:"103",name:"System Safety Program Audits and Reviews",description:"Conduct periodic audits and reviews to assess system safety program implementation and identify areas for improvement.",applicability:["All acquisition phases"],outputs:["Audit reports","Review findings","Corrective action plans"]},{id:"104",name:"System Safety Progress Summary",description:"Provide periodic summary of system safety program status, including hazard analysis progress, risk status, and verification activities.",applicability:["All acquisition phases"],outputs:["System Safety Progress Reports"]}]},{id:"TASK-200",name:"Hazard Analysis",description:"Tasks related to identifying and analyzing system hazards",tasks:[{id:"201",name:"Preliminary Hazard List (PHL)",description:"Compile an initial list of potential hazards based on system description, intended use, and historical data from similar systems.",applicability:["Concept","Technology Development"],outputs:["Preliminary Hazard List"]},{id:"202",name:"Preliminary Hazard Analysis (PHA)",description:"Perform initial hazard analysis to identify hazards, assess initial risk, and identify potential hazard controls. Forms basis for system safety requirements.",applicability:["Technology Development","Engineering & Manufacturing Development"],outputs:["Preliminary Hazard Analysis Report","Hazard Tracking System entries"]},{id:"203",name:"Subsystem Hazard Analysis (SSHA)",description:"Analyze subsystems to identify hazards arising from design details. Evaluate hazard controls at the subsystem level.",applicability:["Engineering & Manufacturing Development"],outputs:["Subsystem Hazard Analysis Report","Hazard Tracking System updates"]},{id:"204",name:"System Hazard Analysis (SHA)",description:"Analyze integrated system to identify hazards from subsystem interfaces and integrated operation. Evaluate system-level hazard controls.",applicability:["Engineering & Manufacturing Development","Production & Deployment"],outputs:["System Hazard Analysis Report","Hazard Tracking System updates"]},{id:"205",name:"Operating & Support Hazard Analysis (O&SHA)",description:"Analyze hazards associated with operating and supporting the system, including maintenance, training, and logistics.",applicability:["Engineering & Manufacturing Development","Operations & Support"],outputs:["Operating and Support Hazard Analysis Report"]},{id:"206",name:"Health Hazard Assessment",description:"Identify and evaluate health hazards including toxic materials, radiation, noise, and ergonomic factors.",applicability:["All acquisition phases"],outputs:["Health Hazard Assessment Report"]},{id:"207",name:"Functional Hazard Analysis (FHA)",description:"Top-down functional analysis to identify hazards associated with system functions and their failure conditions.",applicability:["Concept","Technology Development"],outputs:["Functional Hazard Analysis Report"]},{id:"208",name:"Fault Tree Analysis (FTA)",description:"Deductive analysis method to identify combinations of events that lead to a hazardous top event. Quantify probability if data available.",applicability:["Engineering & Manufacturing Development"],outputs:["Fault Tree Analysis Report","Minimal cut sets"]},{id:"209",name:"Failure Mode and Effects Analysis (FMEA)",description:"Inductive analysis method to identify failure modes and their effects on system operation and safety.",applicability:["Engineering & Manufacturing Development"],outputs:["FMEA Report","Criticality Analysis (if FMECA)"]},{id:"210",name:"Event Tree Analysis (ETA)",description:"Forward-looking analysis to trace possible outcomes from an initiating event through a series of success/failure conditions.",applicability:["Engineering & Manufacturing Development"],outputs:["Event Tree Analysis Report"]}]},{id:"TASK-300",name:"Risk Assessment",description:"Tasks related to assessing and documenting risk",tasks:[{id:"301",name:"Safety Assessment Report",description:"Comprehensive assessment of system safety status including hazard analysis results, risk levels, verification status, and recommendations.",applicability:["All acquisition phases"],outputs:["Safety Assessment Report (SAR)"]},{id:"302",name:"Test Safety Assessment",description:"Assess hazards and risks associated with testing activities. Identify safety precautions and controls for test execution.",applicability:["Engineering & Manufacturing Development"],outputs:["Test Safety Assessment Report","Test Hazard Analysis"]},{id:"303",name:"Explosive Ordnance Disposal Assessment",description:"Assess system for explosive ordnance disposal requirements. Evaluate hazards during disposal operations.",applicability:["Engineering & Manufacturing Development","Operations & Support"],outputs:["EOD Assessment Report"]},{id:"304",name:"Environmental Impact Assessment",description:"Assess potential environmental hazards and impacts from system operation, accidents, and disposal.",applicability:["All acquisition phases"],outputs:["Environmental Impact Assessment Report"]}]},{id:"TASK-400",name:"Supporting Activities",description:"Tasks supporting the system safety program",tasks:[{id:"401",name:"Safety Verification",description:"Verify that hazard controls are implemented and effective. Ensure safety requirements are met through testing, analysis, and inspection.",applicability:["Engineering & Manufacturing Development","Production & Deployment"],outputs:["Safety Verification Reports","Compliance matrices"]},{id:"402",name:"Training Safety",description:"Identify safety hazards in training systems and activities. Ensure training adequately addresses system safety requirements.",applicability:["Engineering & Manufacturing Development","Operations & Support"],outputs:["Training Safety Assessment","Safety training materials"]},{id:"403",name:"Mishap Data",description:"Collect, analyze, and apply mishap and incident data to identify trends and improve system safety.",applicability:["Operations & Support"],outputs:["Mishap reports","Trend analysis","Lessons learned"]},{id:"404",name:"Software Safety",description:"Identify and mitigate hazards associated with software controlling safety-critical functions.",applicability:["Engineering & Manufacturing Development"],outputs:["Software Hazard Analysis","Software Safety Case"]},{id:"405",name:"Human Factors Safety",description:"Analyze human factors contributions to hazards. Design human-system interfaces to minimize human error.",applicability:["All acquisition phases"],outputs:["Human Factors Analysis","Human Error Analysis"]},{id:"406",name:"Hazardous Materials Management",description:"Identify, control, and minimize use of hazardous materials. Ensure proper handling, storage, and disposal.",applicability:["All acquisition phases"],outputs:["Hazardous Materials List","Management procedures"]}]}],ca=[{id:"HTR-1",requirement:"All identified hazards shall be documented in a Hazard Tracking System",description:"A formal hazard tracking system shall be established to document, track, and manage all identified hazards throughout the system lifecycle.",deliverables:["Hazard Tracking System","Hazard Log"]},{id:"HTR-2",requirement:"Each hazard shall be assigned a unique identifier",description:"Every hazard shall receive a unique alphanumeric identifier to facilitate tracking, cross-referencing, and reporting.",deliverables:["Hazard identification numbering scheme"]},{id:"HTR-3",requirement:"Hazard status shall be tracked through resolution",description:"The status of each hazard shall be tracked from identification through closure, including: Open, In Analysis, Controls Identified, Controls Implemented, Verified, Closed.",deliverables:["Hazard status reports","Progress metrics"]},{id:"HTR-4",requirement:"Risk acceptance shall be documented at appropriate authority level",description:"Risk acceptance decisions shall be formally documented with signature from the appropriate risk acceptance authority based on the residual risk level.",deliverables:["Risk acceptance documentation","Signature records"]},{id:"HTR-5",requirement:"Hazard closure shall require verification of control implementation",description:"Before a hazard can be closed, objective evidence shall demonstrate that all identified controls have been implemented and verified effective.",deliverables:["Verification evidence","Closure documentation"]},{id:"HTR-6",requirement:"Hazard analysis shall trace to system requirements",description:"Hazards and their controls shall be traceable to system safety requirements and design documents.",deliverables:["Traceability matrix","Requirements allocation"]},{id:"HTR-7",requirement:"Residual risk shall be reassessed when changes occur",description:"When system design, operational environment, or other factors change, affected hazards shall be reassessed for risk impact.",deliverables:["Risk reassessment documentation","Change impact analysis"]}];da.flatMap(e=>e.tasks).length,da.length,Object.keys(na).length,Object.keys(la).length,Object.keys(oa).length,ca.length;const ma=[{id:"A-1",name:"Table A-1: Software Planning Process",description:"Objectives for software planning activities including plans, standards, and coordination",objectives:Oi},{id:"A-2",name:"Table A-2: Software Development Process",description:"Objectives for software development including requirements, design, coding, and integration",objectives:Qi},{id:"A-3",name:"Table A-3: Verification of Software Requirements Process",description:"Objectives for verifying high-level requirements accuracy and traceability",objectives:Gi},{id:"A-4",name:"Table A-4: Verification of Software Design Process",description:"Objectives for verifying low-level requirements and software architecture",objectives:_i},{id:"A-5",name:"Table A-5: Verification of Software Coding & Integration Process",description:"Objectives for verifying source code compliance and integration correctness",objectives:Ui},{id:"A-6",name:"Table A-6: Testing of Outputs of Integration Process",description:"Objectives for testing executable object code against requirements",objectives:$i},{id:"A-7",name:"Table A-7: Verification of Verification Process Results",description:"Objectives for test coverage including MC/DC, decision, and statement coverage",objectives:Wi},{id:"A-8",name:"Table A-8: Software Configuration Management Process",description:"Objectives for configuration identification, baselines, change control, and release",objectives:Ji},{id:"A-9",name:"Table A-9: Software Quality Assurance Process",description:"Objectives for process compliance, standards adherence, and conformity review",objectives:Ki},{id:"A-10",name:"Table A-10: Certification Liaison Process",description:"Objectives for certification authority communication and compliance substantiation",objectives:Yi}],ua=()=>{const e={};return ma.forEach(t=>{t.objectives.forEach((t,i)=>{const a=t.id.charCodeAt(t.id.length-1)+i;e[t.id]=a%3==0?"satisfied":a%3==1?"in-progress":"not-started"})}),e};function pa(e,t){return"DO-178C"===e?ma.reduce((e,i)=>e+i.objectives.filter(e=>e.applicability[t]).length,0):"ARP4761A"===e?ta.length+ia.length+aa.length+sa.length:"MIL-STD-882E"===e?da.reduce((e,t)=>e+t.tasks.length,0):0}function ha(e,t,i){if("DO-178C"===e)return ma.reduce((e,a)=>e+a.objectives.filter(e=>e.applicability[t]&&"satisfied"===i[e.id]).length,0);const a=pa(e,t);return Math.floor(.35*a)}function fa(e,t,i){if("DO-178C"===e)return ma.reduce((e,a)=>e+a.objectives.filter(e=>e.applicability[t]&&"in-progress"===i[e.id]).length,0);const a=pa(e,t);return Math.floor(.25*a)}function xa(e,t,i){if("DO-178C"===e)return ma.reduce((e,a)=>e+a.objectives.filter(e=>e.applicability[t]&&"not-started"===i[e.id]).length,0);const a=pa(e,t);return Math.floor(.4*a)}function ga(e,t,i){const a=pa(e,t);if(0===a)return 0;const s=ha(e,t,i);return Math.round(s/a*100)}function va({title:e,value:t,icon:i,color:a}){return(0,S.jsx)(k,{className:`border tactical-corners ${{blue:"bg-electric-blue-dim border-electric-blue/30 text-electric-blue",green:"bg-tactical-green-dim border-tactical-green/30 text-tactical-green",yellow:"bg-warning-amber-dim border-warning-amber/30 text-warning-amber",red:"bg-critical-red-dim border-critical-red/30 text-critical-red"}[a]}`,children:(0,S.jsxs)(T,{className:"pt-4 flex items-center justify-between",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"data-label",children:e}),(0,S.jsx)("div",{className:"data-value-large",children:t})]}),(0,S.jsx)(i,{className:"w-8 h-8 opacity-50"})]})})}function ba({applicable:e}){return e?(0,S.jsx)("span",{className:"text-tactical-green font-bold",children:"*"}):(0,S.jsx)("span",{className:"text-muted-foreground/40",children:"-"})}function ya({value:e,onChange:t,disabled:i}){return i?(0,S.jsx)("span",{className:"text-muted-foreground/70 text-sm",children:"N/A"}):(0,S.jsxs)(ce,{value:e,onValueChange:e=>t(e),children:[(0,S.jsx)(ue,{className:"w-28 h-8 text-xs",children:(0,S.jsx)(me,{})}),(0,S.jsxs)(pe,{children:[(0,S.jsx)(he,{value:"satisfied",children:"Satisfied"}),(0,S.jsx)(he,{value:"in-progress",children:"In Progress"}),(0,S.jsx)(he,{value:"not-started",children:"Not Started"})]})]})}function ja({status:e}){return(0,S.jsx)(z,{variant:"outline",className:{satisfied:"bg-tactical-green-dim text-tactical-green border-tactical-green/30","in-progress":"bg-warning-amber-dim text-warning-amber border-warning-amber/30","not-started":"bg-muted/30 text-foreground border-border/40"}[e],children:{satisfied:"Satisfied","in-progress":"In Progress","not-started":"Not Started"}[e]})}function Aa({objectiveId:e}){return(0,S.jsxs)(F,{variant:"ghost",size:"sm",className:"h-7 text-xs",children:[(0,S.jsx)(di.A,{className:"w-3 h-3 mr-1"}),"Link"]})}function Na({dal:e,objectiveStatus:t,setObjectiveStatus:i}){return(0,S.jsxs)(ki,{defaultValue:"A-7",className:"space-y-4",children:[(0,S.jsx)(Ri,{className:"flex flex-wrap h-auto gap-1",children:ea.map(e=>(0,S.jsx)(Ei,{value:e.id,className:"text-xs",children:e.id},e.id))}),ma.map(a=>(0,S.jsx)(Ti,{value:a.id,children:(0,S.jsxs)(k,{children:[(0,S.jsxs)(R,{children:[(0,S.jsx)(E,{className:"text-lg",children:a.name}),(0,S.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]}),(0,S.jsx)(T,{children:(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{className:"w-20",children:"Objective"}),(0,S.jsx)(je,{children:"Description"}),(0,S.jsx)(je,{className:"w-14 text-center",children:"A"}),(0,S.jsx)(je,{className:"w-14 text-center",children:"B"}),(0,S.jsx)(je,{className:"w-14 text-center",children:"C"}),(0,S.jsx)(je,{className:"w-14 text-center",children:"D"}),(0,S.jsx)(je,{className:"w-28",children:"Status"}),(0,S.jsx)(je,{className:"w-20",children:"Evidence"})]})}),(0,S.jsx)(be,{children:a.objectives.map(a=>(0,S.jsxs)(ye,{children:[(0,S.jsx)(Ae,{className:"font-mono text-xs",children:a.id}),(0,S.jsx)(Ae,{className:"text-sm",children:a.objective}),(0,S.jsx)(Ae,{className:"text-center",children:(0,S.jsx)(ba,{applicable:a.applicability.A})}),(0,S.jsx)(Ae,{className:"text-center",children:(0,S.jsx)(ba,{applicable:a.applicability.B})}),(0,S.jsx)(Ae,{className:"text-center",children:(0,S.jsx)(ba,{applicable:a.applicability.C})}),(0,S.jsx)(Ae,{className:"text-center",children:(0,S.jsx)(ba,{applicable:a.applicability.D})}),(0,S.jsx)(Ae,{children:(0,S.jsx)(ya,{value:t[a.id]||"not-started",onChange:e=>i(t=>({...t,[a.id]:e})),disabled:!a.applicability[e]})}),(0,S.jsx)(Ae,{children:(0,S.jsx)(Aa,{objectiveId:a.id})})]},a.id))})]})})]})},a.id))]})}function wa(){const[e]=(0,a.useState)({}),t=[{id:"FHA",name:"Functional Hazard Assessment (FHA)",requirements:ta},{id:"PSSA",name:"Preliminary System Safety Assessment (PSSA)",requirements:ia},{id:"SSA",name:"System Safety Assessment (SSA)",requirements:aa}];return(0,S.jsxs)(k,{children:[(0,S.jsxs)(R,{children:[(0,S.jsx)(E,{children:"ARP4761A Safety Assessment Process Objectives"}),(0,S.jsx)("p",{className:"text-sm text-muted-foreground",children:"Guidelines and Methods for Conducting the Safety Assessment Process on Civil Airborne Systems"})]}),(0,S.jsx)(T,{children:(0,S.jsxs)(ki,{defaultValue:"FHA",className:"space-y-4",children:[(0,S.jsx)(Ri,{children:ra.map(e=>(0,S.jsx)(Ei,{value:e.id,children:e.name},e.id))}),t.map(t=>(0,S.jsx)(Ti,{value:t.id,children:(0,S.jsxs)("div",{className:"border rounded-sm p-4",children:[(0,S.jsx)("h4",{className:"font-semibold mb-4",children:t.name}),(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{className:"w-20",children:"ID"}),(0,S.jsx)(je,{children:"Requirement"}),(0,S.jsx)(je,{className:"w-32",children:"Status"}),(0,S.jsx)(je,{className:"w-40",children:"Outputs"})]})}),(0,S.jsx)(be,{children:t.requirements.map(t=>{const i=e[t.id]||["satisfied","in-progress","not-started"][t.id.charCodeAt(t.id.length-1)%3];return(0,S.jsxs)(ye,{children:[(0,S.jsx)(Ae,{className:"font-mono text-xs",children:t.id}),(0,S.jsxs)(Ae,{children:[(0,S.jsx)("div",{className:"font-medium text-sm",children:t.requirement}),(0,S.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:t.description})]}),(0,S.jsx)(Ae,{children:(0,S.jsx)(ja,{status:i})}),(0,S.jsx)(Ae,{children:(0,S.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.outputs.slice(0,2).map(e=>(0,S.jsx)(z,{variant:"outline",className:"text-xs",children:e.length>20?e.substring(0,20)+"...":e},e)),t.outputs.length>2&&(0,S.jsxs)(z,{variant:"outline",className:"text-xs",children:["+",t.outputs.length-2]})]})})]},t.id)})})]})]})},t.id)),(0,S.jsx)(Ti,{value:"CCA",children:(0,S.jsxs)("div",{className:"border rounded-sm p-4",children:[(0,S.jsx)("h4",{className:"font-semibold mb-4",children:"Common Cause Analysis (CCA) Checklist"}),(0,S.jsxs)(ki,{defaultValue:"ZSA",children:[(0,S.jsxs)(Ri,{children:[(0,S.jsx)(Ei,{value:"ZSA",children:"Zonal Safety (ZSA)"}),(0,S.jsx)(Ei,{value:"PRA",children:"Particular Risks (PRA)"}),(0,S.jsx)(Ei,{value:"CMA",children:"Common Mode (CMA)"})]}),["ZSA","PRA","CMA"].map(e=>(0,S.jsx)(Ti,{value:e,children:(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{className:"w-20",children:"ID"}),(0,S.jsx)(je,{children:"Item"}),(0,S.jsx)(je,{className:"w-48",children:"Verification Method"}),(0,S.jsx)(je,{className:"w-24",children:"Complete"})]})}),(0,S.jsx)(be,{children:sa.filter(t=>t.category===e).map(e=>(0,S.jsxs)(ye,{children:[(0,S.jsx)(Ae,{className:"font-mono text-xs",children:e.id}),(0,S.jsxs)(Ae,{children:[(0,S.jsx)("div",{className:"font-medium text-sm",children:e.item}),(0,S.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.description})]}),(0,S.jsx)(Ae,{className:"text-xs",children:e.verificationMethod}),(0,S.jsx)(Ae,{children:(0,S.jsx)(Zi,{defaultChecked:e.id.charCodeAt(4)%2==0})})]},e.id))})]})},e))]})]})})]})})]})}function Ca(){const[e,t]=(0,a.useState)({});return(0,S.jsxs)(k,{children:[(0,S.jsxs)(R,{children:[(0,S.jsx)(E,{children:"MIL-STD-882E System Safety Tasks"}),(0,S.jsx)("p",{className:"text-sm text-muted-foreground",children:"DoD Standard Practice for System Safety Program Requirements"})]}),(0,S.jsxs)(T,{children:[(0,S.jsxs)(ki,{defaultValue:"TASK-200",children:[(0,S.jsx)(Ri,{children:da.map(e=>(0,S.jsx)(Ei,{value:e.id,children:e.name},e.id))}),da.map(i=>(0,S.jsxs)(Ti,{value:i.id,children:[(0,S.jsx)("div",{className:"mb-4",children:(0,S.jsx)("p",{className:"text-sm text-muted-foreground",children:i.description})}),(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{className:"w-16",children:"Task"}),(0,S.jsx)(je,{className:"w-48",children:"Name"}),(0,S.jsx)(je,{children:"Description"}),(0,S.jsx)(je,{className:"w-24",children:"Applicable"}),(0,S.jsx)(je,{className:"w-28",children:"Status"}),(0,S.jsx)(je,{className:"w-40",children:"Outputs"})]})}),(0,S.jsx)(be,{children:i.tasks.map(i=>{const a=!1!==e[i.id],s=["satisfied","in-progress","not-started"][parseInt(i.id)%3];return(0,S.jsxs)(ye,{children:[(0,S.jsx)(Ae,{className:"font-mono text-xs",children:i.id}),(0,S.jsx)(Ae,{className:"font-medium text-sm",children:i.name}),(0,S.jsx)(Ae,{className:"text-sm",children:i.description.length>100?i.description.substring(0,100)+"...":i.description}),(0,S.jsx)(Ae,{children:(0,S.jsx)(Zi,{checked:a,onCheckedChange:e=>t(t=>({...t,[i.id]:e}))})}),(0,S.jsx)(Ae,{children:a?(0,S.jsx)(ja,{status:s}):(0,S.jsx)("span",{className:"text-muted-foreground/70 text-xs",children:"N/A"})}),(0,S.jsx)(Ae,{children:(0,S.jsx)("div",{className:"flex flex-wrap gap-1",children:i.outputs.slice(0,2).map(e=>(0,S.jsx)(z,{variant:"outline",className:"text-xs",children:e.length>15?e.substring(0,15)+"...":e},e))})})]},i.id)})})]})]},i.id))]}),(0,S.jsxs)("div",{className:"mt-6 border-t pt-4",children:[(0,S.jsx)("h4",{className:"font-semibold mb-4",children:"Hazard Tracking Requirements"}),(0,S.jsxs)(ge,{children:[(0,S.jsx)(ve,{children:(0,S.jsxs)(ye,{children:[(0,S.jsx)(je,{className:"w-20",children:"ID"}),(0,S.jsx)(je,{children:"Requirement"}),(0,S.jsx)(je,{className:"w-40",children:"Deliverables"}),(0,S.jsx)(je,{className:"w-24",children:"Status"})]})}),(0,S.jsx)(be,{children:ca.map(e=>{const t=["satisfied","in-progress","not-started"][e.id.charCodeAt(4)%3];return(0,S.jsxs)(ye,{children:[(0,S.jsx)(Ae,{className:"font-mono text-xs",children:e.id}),(0,S.jsxs)(Ae,{children:[(0,S.jsx)("div",{className:"font-medium text-sm",children:e.requirement}),(0,S.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.description})]}),(0,S.jsx)(Ae,{children:(0,S.jsx)("div",{className:"flex flex-wrap gap-1",children:e.deliverables.map(e=>(0,S.jsx)(z,{variant:"outline",className:"text-xs",children:e},e))})}),(0,S.jsx)(Ae,{children:(0,S.jsx)(ja,{status:t})})]},e.id)})})]})]})]})]})}function Sa(){const[e,t]=(0,a.useState)("DO-178C"),[i,s]=(0,a.useState)("A"),[l,o]=(0,a.useState)(ua),d=(0,a.useMemo)(()=>({total:pa(e,i),satisfied:ha(e,i,l),inProgress:fa(e,i,l),notStarted:xa(e,i,l),percentage:ga(e,i,l)}),[e,i,l]);return(0,S.jsxs)("div",{className:"space-y-6",children:[(0,S.jsxs)("div",{className:"flex justify-between items-center",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h2",{className:"text-2xl font-bold",children:"Compliance Dashboard"}),(0,S.jsx)("p",{className:"text-muted-foreground",children:"Track certification objectives and evidence status"})]}),(0,S.jsxs)("div",{className:"flex gap-4",children:[(0,S.jsxs)(ce,{value:e,onValueChange:e=>t(e),children:[(0,S.jsx)(ue,{className:"w-52",children:(0,S.jsx)(me,{})}),(0,S.jsxs)(pe,{children:[(0,S.jsx)(he,{value:"DO-178C",children:"DO-178C (Software)"}),(0,S.jsx)(he,{value:"ARP4761A",children:"ARP4761A (Safety Assessment)"}),(0,S.jsx)(he,{value:"MIL-STD-882E",children:"MIL-STD-882E (System Safety)"})]})]}),"DO-178C"===e&&(0,S.jsxs)(ce,{value:i,onValueChange:e=>s(e),children:[(0,S.jsx)(ue,{className:"w-32",children:(0,S.jsx)(me,{})}),(0,S.jsxs)(pe,{children:[(0,S.jsx)(he,{value:"A",children:"DAL A"}),(0,S.jsx)(he,{value:"B",children:"DAL B"}),(0,S.jsx)(he,{value:"C",children:"DAL C"}),(0,S.jsx)(he,{value:"D",children:"DAL D"})]})]})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,S.jsx)(va,{title:"Total Objectives",value:d.total,icon:di.A,color:"blue"}),(0,S.jsx)(va,{title:"Satisfied",value:d.satisfied,icon:Yt.A,color:"green"}),(0,S.jsx)(va,{title:"In Progress",value:d.inProgress,icon:Ge.A,color:"yellow"}),(0,S.jsx)(va,{title:"Not Started",value:d.notStarted,icon:n.A,color:"red"})]}),(0,S.jsxs)(k,{children:[(0,S.jsx)(R,{children:(0,S.jsxs)(E,{className:"flex items-center gap-2",children:[(0,S.jsx)(r.A,{className:"w-5 h-5"}),"Overall Compliance: ",e," ","DO-178C"===e?`(DAL ${i})`:""]})}),(0,S.jsx)(T,{children:(0,S.jsxs)("div",{className:"space-y-2",children:[(0,S.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,S.jsx)("span",{children:"Progress"}),(0,S.jsxs)("span",{children:[d.percentage,"%"]})]}),(0,S.jsx)(st,{value:d.percentage,className:"h-3"})]})})]}),"DO-178C"===e&&(0,S.jsx)(Na,{dal:i,objectiveStatus:l,setObjectiveStatus:o}),"ARP4761A"===e&&(0,S.jsx)(wa,{}),"MIL-STD-882E"===e&&(0,S.jsx)(Ca,{})]})}var ka=i(5687),Ra=i(3119),Ea=i(3614),Ta=i(6844),Ma=i(8202);function Da(){const[e,t]=(0,a.useState)("hazards"),[i,l]=(0,a.useState)(new Date);(0,a.useEffect)(()=>{const e=setInterval(()=>l(new Date),1e3);return()=>clearInterval(e)},[]);const o=[{id:"hazards",label:"Hazards",icon:n.A,description:"Hazard Registry & FHA"},{id:"faults",label:"Fault Trees",icon:ka.A,description:"Quantitative FTA"},{id:"fmea",label:"FMEA",icon:Ra.A,description:"Failure Modes Analysis"},{id:"spi",label:"Performance",icon:Xt.A,description:"Safety KPIs"},{id:"gsn",label:"Safety Case",icon:r.A,description:"GSN Arguments"},{id:"trace",label:"Traceability",icon:d.A,description:"Requirements Matrix"},{id:"compliance",label:"Compliance",icon:Ea.A,description:"Standards Tracking"}];return(0,S.jsx)(s.A,{title:"Safety Dashboard",description:"Comprehensive safety management for autonomous systems",children:(0,S.jsx)(nt,{children:(0,S.jsx)("div",{className:"min-h-screen tactical-grid",style:{backgroundColor:"var(--background)",color:"var(--foreground)"},children:(0,S.jsxs)("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,S.jsxs)("div",{className:"mb-4",children:[(0,S.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,S.jsxs)("div",{className:"flex items-center gap-3",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)(r.A,{className:"w-5 h-5",style:{color:"var(--electric-blue)"}}),(0,S.jsx)("span",{className:"text-sm font-semibold tracking-widest uppercase",style:{color:"var(--foreground)"},children:"Safety Dashboard"})]}),(0,S.jsx)("span",{className:"text-xs font-mono tracking-wider",style:{color:"var(--muted-foreground)"},children:"//"}),(0,S.jsx)("span",{className:"text-xs font-mono tracking-wider uppercase",style:{color:"var(--muted-foreground)"},children:"DO-178C / ARP4761A Compliant"})]}),(0,S.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("span",{className:"status-dot status-dot-nominal"}),(0,S.jsx)("span",{className:"text-xs font-mono tracking-wider uppercase",style:{color:"var(--tactical-green)"},children:"System Nominal"})]}),(0,S.jsx)("div",{className:"h-3 w-px",style:{backgroundColor:"var(--border)"}}),(0,S.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,S.jsx)(Ta.A,{className:"w-3.5 h-3.5",style:{color:"var(--muted-foreground)"}}),(0,S.jsx)("span",{className:"text-xs font-mono tabular-nums",style:{color:"var(--muted-foreground)"},children:(c=i,c.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"}).toUpperCase())})]}),(0,S.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,S.jsx)(Ma.A,{className:"w-3.5 h-3.5",style:{color:"var(--electric-blue)"}}),(0,S.jsx)("span",{className:"text-xs font-mono tabular-nums",style:{color:"var(--electric-blue)"},children:(e=>e.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}))(i)})]})]})]}),(0,S.jsx)("div",{className:"tactical-divider"})]}),(0,S.jsxs)("div",{className:"rounded-sm border shadow-xl",style:{backgroundColor:"var(--card)",borderColor:"rgba(56, 189, 248, 0.1)",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(56, 189, 248, 0.05)"},children:[(0,S.jsx)("div",{className:"border-b",style:{borderColor:"rgba(56, 189, 248, 0.1)"},children:(0,S.jsx)("nav",{className:"flex -mb-px overflow-x-auto",children:o.map(i=>{const a=i.icon,s=e===i.id;return(0,S.jsxs)("button",{onClick:()=>t(i.id),className:"group flex items-center gap-2 px-4 py-3 border-b-2 whitespace-nowrap min-w-fit",style:{borderBottomColor:s?"var(--electric-blue)":"transparent",color:s?"var(--electric-blue)":"var(--muted-foreground)",backgroundColor:s?"rgba(56, 189, 248, 0.05)":"transparent",transition:"all 150ms ease",fontSize:"0.75rem",fontWeight:500,letterSpacing:"0.06em",textTransform:"uppercase"},title:i.description,onMouseEnter:e=>{s||(e.currentTarget.style.color="var(--foreground)",e.currentTarget.style.backgroundColor="rgba(56, 189, 248, 0.03)")},onMouseLeave:e=>{s||(e.currentTarget.style.color="var(--muted-foreground)",e.currentTarget.style.backgroundColor="transparent")},children:[(0,S.jsx)(a,{className:"w-4 h-4",style:{opacity:s?1:.6}}),(0,S.jsx)("span",{children:i.label})]},i.id)})})}),(0,S.jsxs)("div",{className:"p-5",children:["hazards"===e&&(0,S.jsx)(Ze,{}),"faults"===e&&(0,S.jsx)(St,{}),"fmea"===e&&(0,S.jsx)(Qt,{}),"spi"===e&&(0,S.jsx)(ri,{}),"gsn"===e&&(0,S.jsx)(Ci,{}),"trace"===e&&(0,S.jsx)(Bi,{}),"compliance"===e&&(0,S.jsx)(Sa,{})]})]}),(0,S.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,S.jsx)("div",{className:"flex items-center gap-3",children:(0,S.jsx)("span",{className:"text-[0.625rem] font-mono tracking-widest uppercase",style:{color:"var(--muted-foreground)"},children:"Safety Management System v2.1"})}),(0,S.jsxs)("div",{className:"flex items-center gap-3",children:[(0,S.jsx)("span",{className:"text-[0.625rem] font-mono tracking-widest uppercase",style:{color:"var(--muted-foreground)"},children:"Classification: Unclassified"}),(0,S.jsx)("span",{className:"text-[0.625rem] font-mono",style:{color:"var(--muted-foreground)"},children:"//"}),(0,S.jsx)("span",{className:"text-[0.625rem] font-mono tracking-widest uppercase",style:{color:"var(--muted-foreground)"},children:"DAL-A Certified"})]})]})]})})})});var c}}}]);